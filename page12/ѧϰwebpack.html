<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>学习webpack | 个人网站</title>
    <meta name="description" content="Welcome to come to my blog">
    
    
    <link rel="preload" href="/assets/css/0.styles.c9120bc4.css" as="style"><link rel="preload" href="/assets/js/app.baeebc12.js" as="script"><link rel="preload" href="/assets/js/17.e2cff3df.js" as="script"><link rel="prefetch" href="/assets/js/10.51912ddf.js"><link rel="prefetch" href="/assets/js/11.e96c3ccb.js"><link rel="prefetch" href="/assets/js/12.3199951e.js"><link rel="prefetch" href="/assets/js/13.3c7197fa.js"><link rel="prefetch" href="/assets/js/14.907c91b1.js"><link rel="prefetch" href="/assets/js/15.bf14723d.js"><link rel="prefetch" href="/assets/js/16.86fb4ac7.js"><link rel="prefetch" href="/assets/js/18.48c73241.js"><link rel="prefetch" href="/assets/js/19.8f6142cc.js"><link rel="prefetch" href="/assets/js/2.dd4257e1.js"><link rel="prefetch" href="/assets/js/20.0640987b.js"><link rel="prefetch" href="/assets/js/21.b3d737d8.js"><link rel="prefetch" href="/assets/js/22.3f190a25.js"><link rel="prefetch" href="/assets/js/23.e5855050.js"><link rel="prefetch" href="/assets/js/24.76d4e241.js"><link rel="prefetch" href="/assets/js/25.68803788.js"><link rel="prefetch" href="/assets/js/26.7c73d578.js"><link rel="prefetch" href="/assets/js/27.946ad60e.js"><link rel="prefetch" href="/assets/js/28.f7173b89.js"><link rel="prefetch" href="/assets/js/29.44cce327.js"><link rel="prefetch" href="/assets/js/3.c1011a22.js"><link rel="prefetch" href="/assets/js/30.ca9785fb.js"><link rel="prefetch" href="/assets/js/31.2ee0d2c0.js"><link rel="prefetch" href="/assets/js/32.c7418bd6.js"><link rel="prefetch" href="/assets/js/33.bf2abcee.js"><link rel="prefetch" href="/assets/js/34.abbc5d8e.js"><link rel="prefetch" href="/assets/js/35.b8cd562f.js"><link rel="prefetch" href="/assets/js/36.958f06a4.js"><link rel="prefetch" href="/assets/js/37.c043e7bb.js"><link rel="prefetch" href="/assets/js/38.6966b072.js"><link rel="prefetch" href="/assets/js/39.4724a334.js"><link rel="prefetch" href="/assets/js/4.ee255b66.js"><link rel="prefetch" href="/assets/js/40.1e6f0e95.js"><link rel="prefetch" href="/assets/js/41.de3a8b43.js"><link rel="prefetch" href="/assets/js/42.f5df9fc7.js"><link rel="prefetch" href="/assets/js/43.f8fa8e4a.js"><link rel="prefetch" href="/assets/js/44.c43bf2f3.js"><link rel="prefetch" href="/assets/js/45.7ca64b8f.js"><link rel="prefetch" href="/assets/js/46.dee8a320.js"><link rel="prefetch" href="/assets/js/47.9ee60df4.js"><link rel="prefetch" href="/assets/js/48.a4cd6b21.js"><link rel="prefetch" href="/assets/js/49.1f8ef22d.js"><link rel="prefetch" href="/assets/js/5.a54dcc21.js"><link rel="prefetch" href="/assets/js/50.765b05d2.js"><link rel="prefetch" href="/assets/js/51.d27860af.js"><link rel="prefetch" href="/assets/js/52.bf0188ba.js"><link rel="prefetch" href="/assets/js/53.5208a76e.js"><link rel="prefetch" href="/assets/js/54.ef3432ff.js"><link rel="prefetch" href="/assets/js/55.271739d0.js"><link rel="prefetch" href="/assets/js/56.c3f0caab.js"><link rel="prefetch" href="/assets/js/57.3ff1162b.js"><link rel="prefetch" href="/assets/js/58.27e5128c.js"><link rel="prefetch" href="/assets/js/59.30fa2cb1.js"><link rel="prefetch" href="/assets/js/6.9c13835b.js"><link rel="prefetch" href="/assets/js/60.32defecd.js"><link rel="prefetch" href="/assets/js/61.98a47375.js"><link rel="prefetch" href="/assets/js/62.f833acc8.js"><link rel="prefetch" href="/assets/js/63.9801a855.js"><link rel="prefetch" href="/assets/js/7.258c75b9.js"><link rel="prefetch" href="/assets/js/8.572091d6.js"><link rel="prefetch" href="/assets/js/9.6896af62.js">
    <link rel="stylesheet" href="/assets/css/0.styles.c9120bc4.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">个人网站</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/page12/page1/" class="nav-link">前端技术</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">个人文章</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://juejin.im/user/5c8f3303f265da612d633276" target="_blank" rel="noopener noreferrer" class="nav-link external">
  掘金
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://segmentfault.com/u/helloxiaoming" target="_blank" rel="noopener noreferrer" class="nav-link external">
  segmentfault
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://blog.csdn.net/qq_40588413" target="_blank" rel="noopener noreferrer" class="nav-link external">
  CSDN
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <a href="https://github.com/shifengming" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/page12/page1/" class="nav-link">前端技术</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">个人文章</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://juejin.im/user/5c8f3303f265da612d633276" target="_blank" rel="noopener noreferrer" class="nav-link external">
  掘金
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://segmentfault.com/u/helloxiaoming" target="_blank" rel="noopener noreferrer" class="nav-link external">
  segmentfault
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://blog.csdn.net/qq_40588413" target="_blank" rel="noopener noreferrer" class="nav-link external">
  CSDN
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <a href="https://github.com/shifengming" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading"><span>HTML</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>CSS3</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>JavaScript</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>JQuery</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>ES6</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Vue</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>React</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>小程序</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Github</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Http请求</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Ajax</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading open"><span>Webpack</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/page12/学习webpack.html" class="active sidebar-link">学习webpack</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/page12/学习webpack.html#什么是webpack？" class="sidebar-link">什么是webpack？</a></li><li class="sidebar-sub-header"><a href="/page12/学习webpack.html#webpack可以做哪些事？" class="sidebar-link">webpack可以做哪些事？</a></li><li class="sidebar-sub-header"><a href="/page12/学习webpack.html#需要提前掌握的内容" class="sidebar-link">需要提前掌握的内容</a></li><li class="sidebar-sub-header"><a href="/page12/学习webpack.html#webpack的基础配置" class="sidebar-link">webpack的基础配置</a></li><li class="sidebar-sub-header"><a href="/page12/学习webpack.html#html插件" class="sidebar-link">HTML插件</a></li><li class="sidebar-sub-header"><a href="/page12/学习webpack.html#配置webpack中css模块" class="sidebar-link">配置webpack中css模块</a></li><li class="sidebar-sub-header"><a href="/page12/学习webpack.html#转换成es6语法" class="sidebar-link">转换成es6语法</a></li><li class="sidebar-sub-header"><a href="/page12/学习webpack.html#全局变量引入问题" class="sidebar-link">全局变量引入问题</a></li><li class="sidebar-sub-header"><a href="/page12/学习webpack.html#图片处理" class="sidebar-link">图片处理</a></li><li class="sidebar-sub-header"><a href="/page12/学习webpack.html#打包多页应用" class="sidebar-link">打包多页应用</a></li><li class="sidebar-sub-header"><a href="/page12/学习webpack.html#配置source-map" class="sidebar-link">配置source-map</a></li><li class="sidebar-sub-header"><a href="/page12/学习webpack.html#watch用法" class="sidebar-link">watch用法</a></li><li class="sidebar-sub-header"><a href="/page12/学习webpack.html#webpack小插件应用" class="sidebar-link">webpack小插件应用</a></li><li class="sidebar-sub-header"><a href="/page12/学习webpack.html#webpack跨域问题" class="sidebar-link">webpack跨域问题</a></li><li class="sidebar-sub-header"><a href="/page12/学习webpack.html#resolve属性的配置" class="sidebar-link">resolve属性的配置</a></li><li class="sidebar-sub-header"><a href="/page12/学习webpack.html#定义环境变量" class="sidebar-link">定义环境变量</a></li><li class="sidebar-sub-header"><a href="/page12/学习webpack.html#区别不同环境" class="sidebar-link">区别不同环境</a></li><li class="sidebar-sub-header"><a href="/page12/学习webpack.html#noparse" class="sidebar-link">noParse</a></li><li class="sidebar-sub-header"><a href="/page12/学习webpack.html#lgnoreplugin" class="sidebar-link">lgnorePlugin</a></li><li class="sidebar-sub-header"><a href="/page12/学习webpack.html#dllplugin" class="sidebar-link">dllplugin</a></li><li class="sidebar-sub-header"><a href="/page12/学习webpack.html#happypack" class="sidebar-link">happypack</a></li><li class="sidebar-sub-header"><a href="/page12/学习webpack.html#webpack自带优化" class="sidebar-link">webpack自带优化</a></li><li class="sidebar-sub-header"><a href="/page12/学习webpack.html#抽离公共代码" class="sidebar-link">抽离公共代码</a></li><li class="sidebar-sub-header"><a href="/page12/学习webpack.html#懒加载" class="sidebar-link">懒加载</a></li><li class="sidebar-sub-header"><a href="/page12/学习webpack.html#热更新" class="sidebar-link">热更新</a></li><li class="sidebar-sub-header"><a href="/page12/学习webpack.html#tapable介绍" class="sidebar-link">tapable介绍</a></li><li class="sidebar-sub-header"><a href="/page12/学习webpack.html#tapable" class="sidebar-link">tapable</a></li><li class="sidebar-sub-header"><a href="/page12/学习webpack.html#手写webpack" class="sidebar-link">手写webpack</a></li><li class="sidebar-sub-header"><a href="/page12/学习webpack.html#webpack分析与处理" class="sidebar-link">webpack分析与处理</a></li><li class="sidebar-sub-header"><a href="/page12/学习webpack.html#创建依赖关系" class="sidebar-link">创建依赖关系</a></li><li class="sidebar-sub-header"><a href="/page12/学习webpack.html#ast递归解析" class="sidebar-link">AST递归解析</a></li><li class="sidebar-sub-header"><a href="/page12/学习webpack.html#生成打包结果" class="sidebar-link">生成打包结果</a></li><li class="sidebar-sub-header"><a href="/page12/学习webpack.html#增加loader" class="sidebar-link">增加loader</a></li><li class="sidebar-sub-header"><a href="/page12/学习webpack.html#loader" class="sidebar-link">loader</a></li><li class="sidebar-sub-header"><a href="/page12/学习webpack.html#babel-loader实现" class="sidebar-link">babel-loader实现</a></li><li class="sidebar-sub-header"><a href="/page12/学习webpack.html#实现file-loader和url-loader" class="sidebar-link">实现file-loader和url-loader</a></li><li class="sidebar-sub-header"><a href="/page12/学习webpack.html#less-loader和css-loader" class="sidebar-link">less-loader和css-loader</a></li></ul></li><li><a href="/page12/打包原理.html" class="sidebar-link">打包原理</a></li><li><a href="/page12/优点、缺点.html" class="sidebar-link">优点、缺点</a></li><li><a href="/page12/重点题.html" class="sidebar-link">重点题</a></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>项目</span> <span class="arrow right"></span></p> <!----></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="学习webpack"><a href="#学习webpack" class="header-anchor">#</a> 学习webpack</h1> <h2 id="什么是webpack？"><a href="#什么是webpack？" class="header-anchor">#</a> 什么是webpack？</h2> <p>webpack可以看做是模拟打包机：它做的事情是，分析你的项目结构，找到JavaScript模块以及其他的一些浏览器不能直接运行的拓展语言(Scss，TypeScript等)，并将其打包为合适的格式以供浏览器使用</p> <h2 id="webpack可以做哪些事？"><a href="#webpack可以做哪些事？" class="header-anchor">#</a> webpack可以做哪些事？</h2> <ul><li>代码的转换(比如把es6转换成es5，把less转换成sass)</li> <li>文件优化(比如在打包的过程中，压缩代码体积，合并文件等)</li> <li>代码分割(比如在开发多页面的时候，公共页面的抽离，路由懒加载的功能)</li> <li>模块合并(比如把多个模块合并成一个模块)</li> <li>自动刷新(帮我们启动一个本地服务，来实现代码变更后可以更新我们的页面)</li> <li>代码效验(校验我们的代码是否符合规范)</li> <li>自动发布(打包完成后可以实现一个自动完成的功能，把打包后的代码发布到服务器上)</li></ul> <h2 id="需要提前掌握的内容"><a href="#需要提前掌握的内容" class="header-anchor">#</a> 需要提前掌握的内容</h2> <ul><li>需要node基础，以及npm的使用</li> <li>掌握es6语法</li></ul> <h2 id="webpack的基础配置"><a href="#webpack的基础配置" class="header-anchor">#</a> webpack的基础配置</h2> <h3 id="安装本地的webpack"><a href="#安装本地的webpack" class="header-anchor">#</a> 安装本地的webpack</h3> <ul><li>在桌面上新建了一个文件夹webpack</li> <li>yarn init -y 初始化项目</li> <li>yarn add webpack webpack-cli -D 安装这两个依赖</li> <li>新建一个打包的目录src</li></ul> <h3 id="webpack可以进行零配置"><a href="#webpack可以进行零配置" class="header-anchor">#</a> webpack可以进行零配置</h3> <ul><li><p>打包工具，把JS模块进行打包然后输出</p></li> <li><p>打包支持js的模块化</p></li></ul> <h3 id="手动配置webpack"><a href="#手动配置webpack" class="header-anchor">#</a> 手动配置webpack</h3> <ul><li><p>默认配置文件的名字 webpack.config.js</p> <p>webpack.config.js文件：</p> <div class="language- extra-class"><pre class="language-text"><code>//webpack是node写出来的node的写法
let path = require('path')	//从系统里导出一个path模块(审核文件路径)
console.log(path.resolve('dist'))
module.exports = {
    mode: 'development',//模式 默认两种 production development开发模式
    entry: './src/index.js',//入口
    output:{
        filename:'bundle.js',//打包后的文件名
        path: path.resolve(__dirname,'build')//路径必须是一个绝对路径,当前目录下产生一个dist目录(path.resole把dirname和dist连接起来，build会自动找到webpack就会去webpack.config.js文件里面)
    }
}
//bundle.js就是打包出来的结果
</code></pre></div><p>src/a.js文件：</p> <div class="language- extra-class"><pre class="language-text"><code>// 写一些node语法
//默认导出
//导出以后去index.js里面引用它
module.exports = 'sxm';
</code></pre></div><p>src/index.js文件：</p> <div class="language- extra-class"><pre class="language-text"><code>let str = require('./a.js');
console.log(str);
</code></pre></div><p>然后在控制台npx webpack打包</p> <p>生成了一个build目录,里面有buildle.js,然后我新建了一个index.html文件</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot;&gt;
    &lt;title&gt;Document&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
//引入build.js
    &lt;script src=&quot;./bundle.js&quot;&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre></div><p>再执行index.html文件，就可以看到打印出来的结果了</p></li></ul> <h3 id="配置脚本"><a href="#配置脚本" class="header-anchor">#</a> 配置脚本</h3> <p>如果觉得命名太长了，就到package.json里面配置一些脚本</p> <div class="language- extra-class"><pre class="language-text"><code>  &quot;scripts&quot;: {
    &quot;build&quot;: &quot;webpack --config webpack.config.js&quot;,
    &quot;dev&quot;: &quot;webpack-dev-server&quot;
  },
</code></pre></div><p>然后在命令行就可以直接npm run build</p> <p>--config指的是添加配置文件</p> <p>webpack.config.js文件名</p> <h2 id="html插件"><a href="#html插件" class="header-anchor">#</a> HTML插件</h2> <p>通过执行这个命令在输出目录下执行</p> <div class="language- extra-class"><pre class="language-text"><code>yarn add webpack-dev-server -D 
</code></pre></div><p>配一个脚本，生成内存中的打包</p> <div class="language- extra-class"><pre class="language-text"><code>npx webpack-dev-server 
</code></pre></div><p>希望能进到build目录</p> <p>就在webpack.config.js里面插入</p> <div class="language- extra-class"><pre class="language-text"><code>devServer: {//开发服务器的配置
        port: 3000,
        progress: true,//希望在内存中打包看到一个进度条
        contentBase:'./build',//希望./build目录作为静态目录
        compress: true
    },
</code></pre></div><p>安装</p> <div class="language- extra-class"><pre class="language-text"><code>yarn add html-webpack-plugin -D
</code></pre></div><p>再webpack.config.js里面添加</p> <div class="language- extra-class"><pre class="language-text"><code>let HtmlWebpackPlugin = require('html-webpack-plugin')
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>    plugins:[//数组 放着所有的webpack插件
        new HtmlWebpackPlugin({
        //在src里面新建一个index.html文件
            template: './src/index.html',
            filename: 'index.html',
            minify:{
                removeAttributeQuotes:true,//删除属性的双引号
                collapseWhitespace: true,//折叠空行
            },
            hash: true
        })
    ]
</code></pre></div><h2 id="配置webpack中css模块"><a href="#配置webpack中css模块" class="header-anchor">#</a> 配置webpack中css模块</h2> <div class="language- extra-class"><pre class="language-text"><code>yarn add css-loader style-loader -D
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>yarn add less less-loader -D
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>yarn add mini-css-extract-plugin -D
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>yarn add postcss-loader autoprefixer
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>yarn add uglifyjs-webpack-plugin -D
</code></pre></div><h3 id="webpack-config-js里配置"><a href="#webpack-config-js里配置" class="header-anchor">#</a> webpack.config.js里配置</h3> <div class="language- extra-class"><pre class="language-text"><code>//webpack是node写出来的node的写法
let path = require('path')
let HtmlWebpackPlugin = require('html-webpack-plugin')
let MiniCssExtractPlugin = require('mini-css-extract-plugin');
let OptimizeCss = require('optimize-css-assets-webpack-plugin')
let UglifyJsPlugin = require('uglifyjs-webpack-plugin')
module.exports = {
    optimization:{//优化项
        minimizer:[
            new UglifyJsPlugin({
                cache: true,
                parallel: true,
                sourceMap: true
            }),
            new OptimizeCss()
        ]
    },
    mode: 'development',//模式 默认两种 production development开发模式
    entry: './src/index.js',//入口
    output:{
        filename:'bundle.[hash:8].js',//打包后的文件名
        path: path.resolve(__dirname,'build')//路径必须是一个绝对路径,当前目录下产生一个dist目录
    },
    plugins:[//数组 放着所有的webpack插件
        new HtmlWebpackPlugin({
            template: './src/index.html',
            filename: 'index.html',
        }),
        new MiniCssExtractPlugin({
            filename:'main.css'
        })
    ],
    module:{
        //loader
        rules:[//规则 css-loader解析@import这种语法的
            //style-loader 他是把css插入到head的标签中
            //loader的特点  希望单一
            //loader的用法  字符串只用一个loader
            //多个loader需要[]
            //loader的顺序，默认是从右向左执行
            //loader还可以写成 对象方式
            {
                //可以处理less文件
                test:/\.css$/,
                use:[
                    MiniCssExtractPlugin.loader,
                    'css-loader',
                    'postcss-loader',
                    
                ]
            },
            {
                    //可以处理less文件 sass stylus node-sass sass-loader
                    // stylus stylus-loader
                    test:/\.less$/,
                    use:[
                        MiniCssExtractPlugin.loader,
                        'css-loader',//@import解析路径
                        'postcss-loader',
                        'less-loader'//把less转换成css
                    ]
            }
        ]
    }
}
</code></pre></div><h3 id="pastcss-config-js"><a href="#pastcss-config-js" class="header-anchor">#</a> pastcss.config.js</h3> <div class="language- extra-class"><pre class="language-text"><code>module.exports = {
    plugins:[require('autoprefixer')]
}
</code></pre></div><h3 id="src-index-css"><a href="#src-index-css" class="header-anchor">#</a> src/index.css</h3> <div class="language- extra-class"><pre class="language-text"><code>@import './a.css';
body{
    background: red;
    transform: rotate(45deg);
}
</code></pre></div><h3 id="src-a-js"><a href="#src-a-js" class="header-anchor">#</a> src/a.js</h3> <div class="language- extra-class"><pre class="language-text"><code>// 写一些node语法
//默认导出
//导出以后去index.js里面引用它
module.exports = 'sxm';
</code></pre></div><h3 id="src-a-css"><a href="#src-a-css" class="header-anchor">#</a> src/a.css</h3> <div class="language- extra-class"><pre class="language-text"><code>body{
    color:  yellow;
}
</code></pre></div><h3 id="src-index-html"><a href="#src-index-html" class="header-anchor">#</a> src/index.html</h3> <div class="language- extra-class"><pre class="language-text"><code>&lt;style&gt;
    body{
        background: pink;
    }
&lt;/style&gt;
&lt;body&gt;
    &lt;!-- 模板 --&gt;
    &lt;div&gt;内容&lt;/div&gt;
&lt;/body&gt;
</code></pre></div><h3 id="src-index-js"><a href="#src-index-js" class="header-anchor">#</a> src/index.js</h3> <div class="language- extra-class"><pre class="language-text"><code>let str = require('./a.js');
console.log(str);
require('./index.css')
require('./index.less')
</code></pre></div><h3 id="index-less"><a href="#index-less" class="header-anchor">#</a> index.less</h3> <div class="language- extra-class"><pre class="language-text"><code>body{
    div{
        border: 1px solid #dadade
    }
}
</code></pre></div><h2 id="转换成es6语法"><a href="#转换成es6语法" class="header-anchor">#</a> 转换成es6语法</h2> <div class="language- extra-class"><pre class="language-text"><code>yarn add babel-loader @babel/core @babel/preset-env -D
</code></pre></div><h3 id="webpack-config-js添加代码"><a href="#webpack-config-js添加代码" class="header-anchor">#</a> webpack.config.js添加代码</h3> <div class="language- extra-class"><pre class="language-text"><code>{
                test:/\.js$/,
                use:{
                    loader:'babel-loader',
                    options:{//用babel-loader 需要把es6转换成es5
                        presets:[
                            '@babel/preset-env'
                        ]
                    }
                }
            },
</code></pre></div><h3 id="npx-webpack"><a href="#npx-webpack" class="header-anchor">#</a> npx webpack</h3> <div class="language- extra-class"><pre class="language-text"><code>npx webpack //看是否把webpack进行转换
</code></pre></div><h3 id="src-index-js里添加"><a href="#src-index-js里添加" class="header-anchor">#</a> src/index.js里添加</h3> <div class="language- extra-class"><pre class="language-text"><code>let fn = () =&gt; {
    console.log('log')
}
fn();
</code></pre></div><h2 id="全局变量引入问题"><a href="#全局变量引入问题" class="header-anchor">#</a> 全局变量引入问题</h2> <div class="language- extra-class"><pre class="language-text"><code>yarn add jquery
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>yarn add expose-loader
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>1,expose-loader 暴露到window上
2,providePlugin 给每个人提供一个$
3,引入不打包方式
</code></pre></div><h2 id="图片处理"><a href="#图片处理" class="header-anchor">#</a> 图片处理</h2> <h3 id="在js中创建图片来引入"><a href="#在js中创建图片来引入" class="header-anchor">#</a> 在js中创建图片来引入</h3> <p>file-loader默认会在内部生成一张图片，到build目录下，把生成的图片的名字返回回来</p> <p>src/index.js里面</p> <div class="language- extra-class"><pre class="language-text"><code>import logo from './logo.jpg'//把图片引入，返回的结果是一个新的图片地址
let image = new Image();
image.src = './logo.jpg'//就是一个普通的字符串
document.body.appendChild(image);
</code></pre></div><h3 id="在css引入background-url"><a href="#在css引入background-url" class="header-anchor">#</a> 在css引入background('url')</h3> <p>src/index.js里面</p> <div class="language- extra-class"><pre class="language-text"><code>import './index.css'
</code></pre></div><p>webpack.config.js里面</p> <div class="language- extra-class"><pre class="language-text"><code> rules:[
            {
                test: /\.(png|jpg|gif)$/,
                use: 'file-loader'
            },
         ]
</code></pre></div><p>src/index.css里面</p> <div class="language- extra-class"><pre class="language-text"><code>div{
    width: 952px;height: 249px;
    background: url(&quot;./logo.jpg&quot;)
}
</code></pre></div><h3 id="img"><a href="#img" class="header-anchor">#</a> img</h3> <p>src/index.html里面</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;img src=&quot;./logo.jpg&quot; alt=&quot;&quot;&gt;
</code></pre></div><p>src/webpack.config.js</p> <div class="language- extra-class"><pre class="language-text"><code>rules:[
            {
                test: /\.(png|jpg|gif)$/,
                //做一个限制，当我们的图片，小于多少k的生活，用base64来转化
                //否则用file-loader产生真实图片
                use: 'url-loader',
                options:{
                	limit: 200*1024
                }
            },
       ]
</code></pre></div><p>安装</p> <div class="language- extra-class"><pre class="language-text"><code>yarn add url-loader -D
</code></pre></div><h2 id="打包多页应用"><a href="#打包多页应用" class="header-anchor">#</a> 打包多页应用</h2> <h3 id="新建一个文件webpack1"><a href="#新建一个文件webpack1" class="header-anchor">#</a> 新建一个文件webpack1</h3> <h3 id="初始化项目"><a href="#初始化项目" class="header-anchor">#</a> 初始化项目</h3> <div class="language- extra-class"><pre class="language-text"><code>yarn init -y
</code></pre></div><h3 id="安装插件"><a href="#安装插件" class="header-anchor">#</a> 安装插件</h3> <div class="language- extra-class"><pre class="language-text"><code>yarn add webpack webpack-cli -D
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>yarn add html-webpack -D
</code></pre></div><h3 id="编写代码"><a href="#编写代码" class="header-anchor">#</a> 编写代码</h3> <p>新建一个src文件夹，里面创建index.js和other.js和index.html</p> <p>创建一个webpack.config.js文件</p> <p>webpack.config.js</p> <div class="language- extra-class"><pre class="language-text"><code>let path = require('path');
let HtmlWebpackPlugin = require('html-webpack-plugin');
module.exports = {
    //多入口
    mode: 'development',
    entry: {
        home: './src/index.js',
        other:'./src/other.js'
    },
    output:{
        //[name]home,other
        filename: '[name].js',
        path: path.resolve('dist')
    },
    plugins: [
        new HtmlWebpackPlugin({
            template: './index.html',
            filename: 'home.html',
            //代码块
            chunks:['home']
        }),
        new HtmlWebpackPlugin({
            template: './index.html',
            filename: 'other.html',
            //代码块
            chunks: ['other','home']
        }),
    ]
}
</code></pre></div><p>src/index.js</p> <div class="language- extra-class"><pre class="language-text"><code>console.log('home')
</code></pre></div><p>src/other.js</p> <div class="language- extra-class"><pre class="language-text"><code>console.log('other')
</code></pre></div><p>然后npx webpack打包</p> <h2 id="配置source-map"><a href="#配置source-map" class="header-anchor">#</a> 配置source-map</h2> <h3 id="安装"><a href="#安装" class="header-anchor">#</a> 安装</h3> <div class="language- extra-class"><pre class="language-text"><code>yarn add @babel/core @babel/preset-env babel-cli babel-loader html-webpack-plugin webpack-dev-server -D
</code></pre></div><h3 id="webpack-config-js"><a href="#webpack-config-js" class="header-anchor">#</a> webpack.config.js</h3> <div class="language- extra-class"><pre class="language-text"><code>1，源码调试，会单独生成一个sourcemap文件 出错了 辉表示 当前报错的列和行  大和全
	devtool: 'source-map',//添加映射文件，可以帮我们调试源代码
2，不会参数单独的文件，但是可以显示行和列
    devtool:'eval-source-map',
3，不会参数列，但是是一个单独的映射文件
    devtool: 'cheap-module-source-map',//产生后你可以保留起来
4，不会产生文件，集成在打包后的文件中，不会参数列
    devtool:'cheap-module-eval-source-map',
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>let path = require('path');
let HtmlWebpackPlugin = require('html-webpack-plugin');
module.exports = {
    //多入口
    mode: 'production',
    entry: {
        home: './src/index.js',
    },
    //配上一些规则
    module:{
        rules:[
            {
                test:/\.js$/,
                use:{
                    loader:'babel-loader',
                    options:{
                        presets:['@babel/preset-env']
                    }
                }
            }
        ]
    },
    //1，源码调试，会单独生成一个sourcemap文件 出错了 辉表示 当前报错的列和行  大和全
    // devtool: 'source-map',//添加映射文件，可以帮我们调试源代码
    //2，不会参数单独的文件，但是可以显示行和列
    // devtool:'eval-source-map',
    //3，不会参数列，但是是一个单独的映射文件
    // devtool: 'cheap-module-source-map',//产生后你可以保留起来
    //4，不会产生文件，集成在打包后的文件中，不会参数列
    devtool:'cheap-module-eval-source-map',
    output:{
        filename: '[name].js',
        path: path.resolve('dist')
    },
    plugins: [
        new HtmlWebpackPlugin({
            template: './index.html',
            filename: 'index.html',
            //代码块
            chunks:['home']
        }),
    ]
}
</code></pre></div><h3 id="index-js"><a href="#index-js" class="header-anchor">#</a> index.js</h3> <div class="language- extra-class"><pre class="language-text"><code>class Log{
    constructor(){
        comsole.log('出错了')
    }
}
let log = new Log()
</code></pre></div><h2 id="watch用法"><a href="#watch用法" class="header-anchor">#</a> watch用法</h2> <div class="language- extra-class"><pre class="language-text"><code>//监控当前的变化
    watch: true,
    watchOptions:{//监控的选项
        poll:1000,//每秒 问我1000次
        aggregateTimeout: 500,//防抖 我一直输入代码1233444
        ignored: /node_modules/  //不需要进行监控哪个文件
    },
</code></pre></div><h2 id="webpack小插件应用"><a href="#webpack小插件应用" class="header-anchor">#</a> webpack小插件应用</h2> <h3 id="cleanwebpackplugin"><a href="#cleanwebpackplugin" class="header-anchor">#</a> cleanWebpackPlugin</h3> <p>清除webpack的插件</p> <div class="language- extra-class"><pre class="language-text"><code>yarn add cleanWebpackPlugin -D
</code></pre></div><p>用法：</p> <div class="language- extra-class"><pre class="language-text"><code>let CleanWebpackPlugin = require('clean-webpack-plugin')

new CleanWebpackPlugin('./dist')
</code></pre></div><h3 id="copywebpackplugin"><a href="#copywebpackplugin" class="header-anchor">#</a> copyWebpackPlugin</h3> <div class="language- extra-class"><pre class="language-text"><code>yarn add copyWebpackPlugin -D
</code></pre></div><p>用法</p> <div class="language- extra-class"><pre class="language-text"><code>let CopyWebpackPlugin = require('copy-webpack-plugin')

new CopyWebpackPlugin([{from:'./doc',to:'./dist'}])
</code></pre></div><h3 id="bannerplugin"><a href="#bannerplugin" class="header-anchor">#</a> bannerPlugin</h3> <p>版权声明插件</p> <div class="language- extra-class"><pre class="language-text"><code>yarn add bannerPlugin -D
</code></pre></div><p>用法</p> <div class="language- extra-class"><pre class="language-text"><code>let webpack = require('webpack')

new webpack.BannerPlugin('make 2019 by jw')
</code></pre></div><h2 id="webpack跨域问题"><a href="#webpack跨域问题" class="header-anchor">#</a> webpack跨域问题</h2> <h3 id="重写方式"><a href="#重写方式" class="header-anchor">#</a> 重写方式</h3> <p>通过重写的方式，把请求代理到express服务器上</p> <h4 id="新起一个服务"><a href="#新起一个服务" class="header-anchor">#</a> 新起一个服务</h4> <p>在根目录下边创建一个server.js文件，可以在浏览器上边http://localhost:3000/api/user访问</p> <div class="language- extra-class"><pre class="language-text"><code>//express
let express = require('express');


let app = express();


app.get('/api/user',(req,res)=&gt;{
    res.json({name:'小明'})
})

app.listen(3000);
</code></pre></div><h4 id="src-index-js-2"><a href="#src-index-js-2" class="header-anchor">#</a> src/index.js</h4> <div class="language- extra-class"><pre class="language-text"><code>let xhr = new XMLHttpRequest();

//http://localhost:8000 端口
xhr.open('GET','/api/user',true);

xhr.onload = function(){
    console.log(xhr.response)
}

xhr.send();
</code></pre></div><h4 id="webpack-config-js-2"><a href="#webpack-config-js-2" class="header-anchor">#</a> webpack.config.js</h4> <div class="language- extra-class"><pre class="language-text"><code>   devServer:{
        proxy:{//重写的方式，把请求代理到express服务器上
            '/api':{
                target:'http://localhost:3000',
                pathRewrite:{'/api':''}
        }//配置了一个代理
    },
</code></pre></div><h3 id="单纯模拟数据"><a href="#单纯模拟数据" class="header-anchor">#</a> 单纯模拟数据</h3> <h4 id="webpack-config-js-3"><a href="#webpack-config-js-3" class="header-anchor">#</a> webpack.config.js</h4> <div class="language- extra-class"><pre class="language-text"><code>devServer:{
	before(app){//提供的方法，钩子
		app.get('/user',(req,res)=&gt;{
			res.json({name:'小明'})
		})
	}
}
</code></pre></div><h4 id="src-index-js-3"><a href="#src-index-js-3" class="header-anchor">#</a> src/index.js</h4> <div class="language- extra-class"><pre class="language-text"><code>let xhr = new XMLHttpRequest();

//http://localhost:8000 端口
xhr.open('GET','/user',true);

xhr.onload = function(){
    console.log(xhr.response)
}

xhr.send();
</code></pre></div><h3 id="有服务端，不用代理"><a href="#有服务端，不用代理" class="header-anchor">#</a> 有服务端，不用代理</h3> <p>有服务端，不用代码来处理，能不能在服务端中启动webpack 端口用服务端端口</p> <h4 id="server-js"><a href="#server-js" class="header-anchor">#</a> server.js</h4> <div class="language- extra-class"><pre class="language-text"><code>//express
let express = require('express');
let app = express();
let webpack = require('webpack')

//中间件
let middle = require('webpack-dev-middleware');
let config = require('./webpack.config.js')
let compiler = webpack(config)

app.use(middle(compiler));

app.get('/user',(req,res)=&gt;{
    res.json({name:'小明'})
})

app.listen(3000);
</code></pre></div><p>安装        webpack开发服务的一个中间件</p> <div class="language- extra-class"><pre class="language-text"><code>yarn add webpack-dev-middleware -D
</code></pre></div><h2 id="resolve属性的配置"><a href="#resolve属性的配置" class="header-anchor">#</a> resolve属性的配置</h2> <h3 id="安装-2"><a href="#安装-2" class="header-anchor">#</a> 安装</h3> <div class="language- extra-class"><pre class="language-text"><code>yarn add css-loader style-loader -D
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>yarn add bootstrap  //这个是一个css框架
</code></pre></div><h3 id="index-js-2"><a href="#index-js-2" class="header-anchor">#</a> index.js</h3> <div class="language- extra-class"><pre class="language-text"><code>// import 'bootstrap';
import './index.css'
let xhr = new XMLHttpRequest();

//http://localhost:8000 端口
xhr.open('GET','/api/user',true);

xhr.onload = function(){
    console.log(xhr.response)
}

xhr.send();
</code></pre></div><h3 id="webpack-config-js-4"><a href="#webpack-config-js-4" class="header-anchor">#</a> webpack.config.js</h3> <div class="language- extra-class"><pre class="language-text"><code>    rules:[
            {
                test:/\.css$/,
                use: ['style-loader','css-loader']
            },
          ]
    
    
    resolve:{//解析 第三方包
        modules:[path.resolve('node_modules')],
        extensions:['.js','.css','.json','.vue'],
        // mainFields:['style',main],
        mainFiles:[],//入口文件的名字index.js
        // alias:{//别名 vue vue.runtime
        //     bootstrap:'bootstrap/dist/css/bootstrap.css'
        // }
    },
</code></pre></div><h2 id="定义环境变量"><a href="#定义环境变量" class="header-anchor">#</a> 定义环境变量</h2> <h3 id="webpack-config-js-5"><a href="#webpack-config-js-5" class="header-anchor">#</a> webpack.config.js</h3> <div class="language- extra-class"><pre class="language-text"><code>    plugins: [
        new HtmlWebpackPlugin.DefinePlugin({
            DEV:JSON.stringify('production'),
            FLAG: 'true',
            EXPORESSION:JSON.stringify('1+1')
        }),
        ]
</code></pre></div><h3 id="src-index-js-4"><a href="#src-index-js-4" class="header-anchor">#</a> src/index.js</h3> <div class="language- extra-class"><pre class="language-text"><code>let url = '';
if(DEV){
    url = 'http://localhost:3000'
}else{
    url='https://shifengming.github.io/'
}
console.log(url,'----');
console.log(typeof FLAG);
console.log(EXPORESSION)
</code></pre></div><h2 id="区别不同环境"><a href="#区别不同环境" class="header-anchor">#</a> 区别不同环境</h2> <h3 id="安装-3"><a href="#安装-3" class="header-anchor">#</a> 安装</h3> <div class="language- extra-class"><pre class="language-text"><code>yarn add webpack-merga -D
</code></pre></div><h3 id="新建"><a href="#新建" class="header-anchor">#</a> 新建</h3> <ul><li>新建一个webpack.dev.js</li> <li>新建一个webpack.prod.js</li> <li>把webpack.config.js名称改为webpack.base.js</li></ul> <h3 id="webpack-dev-js"><a href="#webpack-dev-js" class="header-anchor">#</a> webpack.dev.js</h3> <div class="language- extra-class"><pre class="language-text"><code>let {smart} = require('webpack-merge');
let base = require('./webpack.base.js');

module.exports = smart(base,{
    mode: 'development',
    devServer:{
        
    },
    devtool:'source-map'
})
</code></pre></div><h3 id="webpack-prod-js"><a href="#webpack-prod-js" class="header-anchor">#</a> webpack.prod.js</h3> <div class="language- extra-class"><pre class="language-text"><code>let {smart} = require('webpack-merge');
let base = require('./webpack.base.js');

module.exports = smart(base,{
    mode: 'production',
    optimization:{
        minimizer:[

        ]
    },
    plugins:[
        
    ]
})
</code></pre></div><h2 id="noparse"><a href="#noparse" class="header-anchor">#</a> noParse</h2> <h3 id="搭建环境"><a href="#搭建环境" class="header-anchor">#</a> 搭建环境</h3> <ul><li>新建一个webpack3</li> <li>yarn init -y初始化项目</li> <li>项目新建webpack.config.js文件</li> <li>新建public文件夹，里面建index.html文件</li> <li>新建src文件夹，里面建index.js文件</li></ul> <h3 id="安装配置"><a href="#安装配置" class="header-anchor">#</a> 安装配置</h3> <div class="language- extra-class"><pre class="language-text"><code>yarn add webpack webpack-cli html-webpack-plugin @babel/core babel-loader @babel/preset-env @babel/preset-react -D
</code></pre></div><h3 id="编写代码-2"><a href="#编写代码-2" class="header-anchor">#</a> 编写代码</h3> <h4 id="webpack-config-js-6"><a href="#webpack-config-js-6" class="header-anchor">#</a> webpack.config.js</h4> <div class="language- extra-class"><pre class="language-text"><code>let path = require('path');
let HTMLWebpackPlugin = require('html-webpack-plugin')
module.exports = {
    mode: 'development',
    entry: './src/index.js',
    module:{
        rules:[
            {test:/\.js$/,use:{
                loader:'babel-loader',
                options:{
                    presets:[
                        '@babel/preset-env',
                        '@babel/preset-react'
                    ]
                }
            }}
        ]
    },
    output:{
        filename:'bundle.js',
        path: path.resolve(__dirname,'dist')
    },
    plugins:[
        new HTMLWebpackPlugin({
            template: './public/index.html'
        })
    ]
}
</code></pre></div><h4 id="执行"><a href="#执行" class="header-anchor">#</a> 执行</h4> <div class="language- extra-class"><pre class="language-text"><code>npx webpack
</code></pre></div><h3 id="jquery"><a href="#jquery" class="header-anchor">#</a> jquery</h3> <h4 id="安装-4"><a href="#安装-4" class="header-anchor">#</a> 安装</h4> <div class="language- extra-class"><pre class="language-text"><code>yarn add jquery -D
</code></pre></div><h4 id="src-index-js-5"><a href="#src-index-js-5" class="header-anchor">#</a> src/index.js</h4> <div class="language- extra-class"><pre class="language-text"><code>import jquery from 'jquery'
</code></pre></div><h4 id="webpack-config-js-7"><a href="#webpack-config-js-7" class="header-anchor">#</a> webpack.config.js</h4> <div class="language- extra-class"><pre class="language-text"><code>noParse:/jquery/,     //不去解析jquery包
</code></pre></div><h2 id="lgnoreplugin"><a href="#lgnoreplugin" class="header-anchor">#</a> lgnorePlugin</h2> <h3 id="安装-5"><a href="#安装-5" class="header-anchor">#</a> 安装</h3> <div class="language- extra-class"><pre class="language-text"><code>yarn add moment -D
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>yarn add webpack-dev-server -D
</code></pre></div><h3 id="src-index-js-6"><a href="#src-index-js-6" class="header-anchor">#</a> src/index.js</h3> <div class="language- extra-class"><pre class="language-text"><code>import moment from 'moment'

//设置语言

//手动引入所需要的语言
import 'moment/locale/zh-cn';
moment.locale('zh-cn');

let r = moment().endOf('day').fromNow();

console.log(r);
</code></pre></div><h3 id="webpack-config-js-8"><a href="#webpack-config-js-8" class="header-anchor">#</a> webpack.config.js</h3> <div class="language- extra-class"><pre class="language-text"><code>    plugins:[
        new webpack.IgnorePlugin(/\.\/locale/,/moment/),
        new HTMLWebpackPlugin({
            template: './public/index.html'
        })
    ]
</code></pre></div><h2 id="dllplugin"><a href="#dllplugin" class="header-anchor">#</a> dllplugin</h2> <p>动态连接库</p> <h3 id="安装-6"><a href="#安装-6" class="header-anchor">#</a> 安装</h3> <div class="language- extra-class"><pre class="language-text"><code>yarn add react react-dom -D
</code></pre></div><h3 id="webpack-config-js-9"><a href="#webpack-config-js-9" class="header-anchor">#</a> webpack.config.js</h3> <div class="language- extra-class"><pre class="language-text"><code>  let webpack = require('webpack');
  
  devServer:{
        port: 3000,
        open: true,
        contentBase:'./dist'
    },
   
   options:{
       presets:[
           '@babel/preset-env',
           '@babel/preset-react'
       ]
   }
   
   plugins:[
        new webpack.DllReferencePlugin({
            manifest: path.resolve(__dirname,'dist','manifest.json')
        }),
 ]
</code></pre></div><h3 id="index-js-3"><a href="#index-js-3" class="header-anchor">#</a> index.js</h3> <div class="language- extra-class"><pre class="language-text"><code>import React from 'react';
import {render} from 'react-dom'

render(&lt;h1&gt;jsx&lt;/h1&gt;,window.root)
</code></pre></div><h3 id="新建webpack-config-react-js"><a href="#新建webpack-config-react-js" class="header-anchor">#</a> 新建webpack.config.react.js</h3> <div class="language- extra-class"><pre class="language-text"><code>let path = require('path');
let webpack = require('webpack');

module.exports = {
    mode: 'development',
    entry:{
        react:['react','react-dom'],
    },
    output:{
        filename:'_dll_[name].js',//产生的文件名
        path: path.resolve(__dirname,'dist'),
        library:'_dll_[name]',//_dll_react
        libraryTarget: 'var' //commonjs var this ...
    },
    plugins:[
        new webpack.DllPlugin({//name == library
            name:'_dll_[name]',
            path: path.resolve(_dirname,'dist','manifest.json')
        })
    ]
}
</code></pre></div><h2 id="happypack"><a href="#happypack" class="header-anchor">#</a> happypack</h2> <p>webpack通过happypack实现多线程打包</p> <h3 id="安装-7"><a href="#安装-7" class="header-anchor">#</a> 安装</h3> <div class="language- extra-class"><pre class="language-text"><code>yarn add happypack
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>yarn add style-loader css-loader -D
</code></pre></div><h3 id="webpack-config-js-10"><a href="#webpack-config-js-10" class="header-anchor">#</a> webpack.config.js</h3> <div class="language- extra-class"><pre class="language-text"><code>let Happypack = require('happypack');

rules:[
 	use: {
		 loader: 'babel-loader',
 		 options:{
            presets:[
             '@babel/preset-env',
             '@babel/preset-react'
		 ]
 		}
	}
]

plugins:[
        new Happypack({
            id:'js',
            use:[
                
            ]
        }),
 ]
</code></pre></div><h2 id="webpack自带优化"><a href="#webpack自带优化" class="header-anchor">#</a> webpack自带优化</h2> <ul><li><p>import 在生产环境下 会自动去除掉没用的代码</p></li> <li><p>tree-shaking 把没用的代码 自动删除掉</p></li> <li><p>es6模块会把结果放在defalut上</p></li> <li><p>scope hosting作用域提升</p></li></ul> <h2 id="抽离公共代码"><a href="#抽离公共代码" class="header-anchor">#</a> 抽离公共代码</h2> <p>在多个页面中抽取页面的代码</p> <p>src里面新建a.js   b.js   c.js   other.js</p> <h3 id="webpack-config-js-11"><a href="#webpack-config-js-11" class="header-anchor">#</a> webpack.config.js</h3> <div class="language- extra-class"><pre class="language-text"><code>module.exports = {
    //优化
    optimization:{
        splitChunks:{
            //分离代码块
            cacheGroups:{
                //缓存组
                common:{
                    //公共的模块
                    chunks: 'initial',
                    minSize:0,
                    minChunks:2,
                },
                vendor:{
                    priority:1,
                    test:/node_modules/,//把你抽离出来
                    chunks: 'initial',
                    minSize: 0,
                    minChunks: 2,
                }
            }
        }
    },
}
</code></pre></div><h3 id="other-js"><a href="#other-js" class="header-anchor">#</a> other.js</h3> <div class="language- extra-class"><pre class="language-text"><code>import './a'
import './b'
console.log('other.js');

import $ from 'jquery'
console.log($);
</code></pre></div><h3 id="a-js"><a href="#a-js" class="header-anchor">#</a> a.js</h3> <div class="language- extra-class"><pre class="language-text"><code>console.log('a~~~');
</code></pre></div><h3 id="b-js"><a href="#b-js" class="header-anchor">#</a> b.js</h3> <div class="language- extra-class"><pre class="language-text"><code>console.log('b~~~');
</code></pre></div><h3 id="c-js"><a href="#c-js" class="header-anchor">#</a> c.js</h3> <div class="language- extra-class"><pre class="language-text"><code>import $ from 'jquery'

console.log($);
</code></pre></div><h3 id="index-js-4"><a href="#index-js-4" class="header-anchor">#</a> index.js</h3> <div class="language- extra-class"><pre class="language-text"><code>import './a'
import './b'
console.log('other.js');

import $ from 'jquery'
console.log($);
</code></pre></div><h2 id="懒加载"><a href="#懒加载" class="header-anchor">#</a> 懒加载</h2> <p>安装插件</p> <div class="language- extra-class"><pre class="language-text"><code>yarn add @babel/plugin-syntax-dynamic-import -D
</code></pre></div><p>再webpack.config.js里面引入一下</p> <div class="language- extra-class"><pre class="language-text"><code>plugins:[
	'@babel/plugin-syntax-dynamic-import'
]
</code></pre></div><h3 id="src-index-js-7"><a href="#src-index-js-7" class="header-anchor">#</a> src/index.js</h3> <div class="language- extra-class"><pre class="language-text"><code>let button = document.createElement('button');
button.innerHTML = 'good'
// vue懒加载 react懒加载
button.addEventListener('click',function(){
    //es6菜案中的语法,jsonp实现动态加载文件
    import('./source.js').then(data =&gt; {
        console.log(data)
    })
});

document.body.appendChild('button');
</code></pre></div><h3 id="src-source-js"><a href="#src-source-js" class="header-anchor">#</a> src/source.js</h3> <div class="language- extra-class"><pre class="language-text"><code>export default 'sxm'
</code></pre></div><h2 id="热更新"><a href="#热更新" class="header-anchor">#</a> 热更新</h2> <p>以前每次页面更新都要重新更新，热更新是只更新某个部分</p> <h3 id="webpack-config-js-12"><a href="#webpack-config-js-12" class="header-anchor">#</a> webpack.config.js</h3> <div class="language- extra-class"><pre class="language-text"><code>devServer:{
	hot: true,
}

plugins:[
	//热更新插件
  new webpack.NamedModulesPlugin(),//打印更新的模块路径
  new webpack.HotModuleReplacementPlugin() //热更新插件
]
</code></pre></div><h3 id="src-index-js-8"><a href="#src-index-js-8" class="header-anchor">#</a> src/index.js</h3> <div class="language- extra-class"><pre class="language-text"><code>import str from './source'
console.log(str);
if(module.hot){
    module.hot.accept('./source',()=&gt;{
        let str = require('./source')
        console.log(str);
    })
}
</code></pre></div><h3 id="src-source-js-2"><a href="#src-source-js-2" class="header-anchor">#</a> src/source.js</h3> <div class="language- extra-class"><pre class="language-text"><code>export default 'sxm1'
</code></pre></div><h2 id="tapable介绍"><a href="#tapable介绍" class="header-anchor">#</a> tapable介绍</h2> <h3 id="概念"><a href="#概念" class="header-anchor">#</a> 概念</h3> <p>webpack本质上是一种事件流的机制，它的工作流程就是将各个插件串联起来，而实现这一切的核心就是Tapable，Tapable有点类似于nodejs的events库，核心原理也是依赖于发布订阅模式</p> <h3 id="安装-8"><a href="#安装-8" class="header-anchor">#</a> 安装</h3> <div class="language- extra-class"><pre class="language-text"><code>yarn add tapable
</code></pre></div><h3 id="同步钩子代码编写"><a href="#同步钩子代码编写" class="header-anchor">#</a> 同步钩子代码编写</h3> <div class="language- extra-class"><pre class="language-text"><code>class SyncHook{//钩子是同步的
    constructor(args){ //args =&gt; ['name']
        this.tasks = [];
    }
    tap(name,task){
        this.tasks.push(task);
    }
    call(...args){
        this.tasks.forEach((task) =&gt; task(...args));
    }
}
let hook = new SyncHook(['name']);
hook.tap('react',function(name){
    console.log('react',name)
})
hook.tap('node',function(name){
    console.log('node',name)
})
hook.call('xm')
</code></pre></div><h3 id="同步钩子对应的源码实现"><a href="#同步钩子对应的源码实现" class="header-anchor">#</a> 同步钩子对应的源码实现</h3> <div class="language- extra-class"><pre class="language-text"><code>let {SyncHook} = require('tapable');

class Lesson {
    constructor(){
        this.hooks = {
            arch: new SyncHook(['name']),
        }
    }
    tap(){
        //注册监听函数
        this.hooks.arch.tap('node',function(name){
            console.log('node',name)
        });
        this.hooks.arch.tap('react',function(name){
            console.log('react',name)
        });
    }
    start(){
        //触发事件执行
        this.hooks.arch.call('xm');

    }
}
let l = new Lesson();
l.tap();//注册了这两个事件
l.start();//启动钩子
</code></pre></div><h2 id="tapable"><a href="#tapable" class="header-anchor">#</a> tapable</h2> <h3 id="钩子"><a href="#钩子" class="header-anchor">#</a> 钩子</h3> <div class="language- extra-class"><pre class="language-text"><code>Tapable里面包含Sync*和Async*

同步Sync*里面包含SyncHook、SyncBailHook、SyncWaterfallHook、SyncLoopHook

异步Async*里面包含AsyncParallel*和AsyncSeries*

AsyncParallel*里面包含AsyncParallelHook和AsyncParallelBailHook

AsyncSeries*里面包含AsyncSeriesHook、AsyncSeriesBailHook、AsyncSeriesWaterfallHook
</code></pre></div><h3 id="syncbailhook"><a href="#syncbailhook" class="header-anchor">#</a> SyncBailHook</h3> <div class="language- extra-class"><pre class="language-text"><code>class SyncBailHook {//钩子是同步的
    constructor(args){
        this.tasks = [];
    }
    tap(name,task){
        this.tasks.push(task);
    }
    call(...args){
        let ret;//当前这个函数的返回值
        let index = 0;//当前要先执行第一个
        do{
            ret = this.tasks[index++](...args)
        }while(ret === undefined &amp;&amp; index &lt; this.tasks.length);
    }
}
let hook = new SyncBailHook(['name']);
hook.tap('react',function(name){
    console.log('react',name);
    //return '停止向下执行'
});
hook.tap('node',function(name){
    console.log('node',name);
    //return '停止向下执行'
});
hook.call('xm')
</code></pre></div><h3 id="syncloophook"><a href="#syncloophook" class="header-anchor">#</a> SyncLoopHook</h3> <p>同步遇到某个不返回undefined的监听函数会多次执行</p> <h3 id="asyncparrellehook"><a href="#asyncparrellehook" class="header-anchor">#</a> AsyncParrelleHook</h3> <p>异步的钩子串行，并需要等待所有并发的异步事件执行后在执行回调方法</p> <h3 id="asyncserieshook"><a href="#asyncserieshook" class="header-anchor">#</a> AsyncSeriesHook</h3> <p>异步</p> <h3 id="asyncserieswaterfall"><a href="#asyncserieswaterfall" class="header-anchor">#</a> AsyncSeriesWaterfall</h3> <h2 id="手写webpack"><a href="#手写webpack" class="header-anchor">#</a> 手写webpack</h2> <h3 id="webpack打包"><a href="#webpack打包" class="header-anchor">#</a> webpack打包</h3> <div class="language- extra-class"><pre class="language-text"><code>yarn init -y
yarn add webpack webpack-cli -D
</code></pre></div><h3 id="新建一个项目webpack"><a href="#新建一个项目webpack" class="header-anchor">#</a> 新建一个项目webpack</h3> <p>里面建一个文件webpack.config.js</p> <div class="language- extra-class"><pre class="language-text"><code>let path = require('path');

module.exports = {
    mode:'development',
    entry: './src/index.js',
    output:{
        filename:'bundle.js',
        path: path.resolve(__dirname,'dist')
    }
}
</code></pre></div><p>src/index.js</p> <div class="language- extra-class"><pre class="language-text"><code>let str = require('./a.js');
console.log(str);
</code></pre></div><p>src/a.js</p> <div class="language- extra-class"><pre class="language-text"><code>let b = require('./base/b.js')
module.exports = 'a'+b;
</code></pre></div><p>src/base/b.js</p> <div class="language- extra-class"><pre class="language-text"><code>module.exports = 'b'
</code></pre></div><h3 id="新建一个项目webpack2"><a href="#新建一个项目webpack2" class="header-anchor">#</a> 新建一个项目webpack2</h3> <p>yarn init -y初始化项目后</p> <p>package.json里面添加</p> <div class="language- extra-class"><pre class="language-text"><code>&quot;bin&quot;:{
	&quot;xm-pack&quot;:&quot;./bin-xm-pack.js&quot;
}
</code></pre></div><p>新建一个bin/xm-pack.js</p> <div class="language- extra-class"><pre class="language-text"><code>//当前这个代码需要使用node环境来执行
#! /usr/bin/env node
console.log('start');
</code></pre></div><h3 id="npm-link"><a href="#npm-link" class="header-anchor">#</a> npm link</h3> <p>想把webpack2里面的xm-pack.js运用到全局上</p> <div class="language- extra-class"><pre class="language-text"><code>npm link
npm link xm-pack
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>npx xm-pack  就可以更改webpack里面的打包文件dist内容
</code></pre></div><h2 id="webpack分析与处理"><a href="#webpack分析与处理" class="header-anchor">#</a> webpack分析与处理</h2> <p>需要找到当前执行名的路径，拿到webpack.config.js</p> <h3 id="bin-xm-pack-js"><a href="#bin-xm-pack-js" class="header-anchor">#</a> bin/xm-pack.js</h3> <div class="language- extra-class"><pre class="language-text"><code>#! /usr/bin/env node

console.log('start11')

//需要拿到当前执行名的路径，拿到webpack.config.js
let path = require('path');

//config配置文件
let config = require(path.resolve(__dirname));

let Compiler = require('../lib/Compiler.js')
let Compiler = new Compiler();
//标识运行编译
compiler.run();
</code></pre></div><h3 id="lib-compiler-js"><a href="#lib-compiler-js" class="header-anchor">#</a> lib/Compiler.js</h3> <div class="language- extra-class"><pre class="language-text"><code>class Compiler{
    constructor(config){
        //entr output
        this.config = config;
        //需要保存入口文件的路径
        this.entryId; //'./src/index.js'
        //需要保存所有的模块依赖
        this.modules = {};
        this.entry = config.entry;//入口路径
        //工作路径
        this.root = process.cwd();
    }
    buildModule(modulePath,isEntry){

    }
    emitFile(){

    }
    run(){
        //执行  并且创建模块的依赖关系
        this.buildModule(path.resolve(this.root,this.entry),true);
        //打包后的文件
        this.emitFile();
    }
}
module.exports = Compiler
</code></pre></div><h2 id="创建依赖关系"><a href="#创建依赖关系" class="header-anchor">#</a> 创建依赖关系</h2> <h3 id="bin-xm-pack-js-2"><a href="#bin-xm-pack-js-2" class="header-anchor">#</a> bin/xm-pack.js</h3> <div class="language- extra-class"><pre class="language-text"><code>#! /usr/bin/env node

console.log('start11')

//需要拿到当前执行名的路径，拿到webpack.config.js
let path = require('path');

//config配置文件
let config = require(path.resolve('webpack.config.js'));

let Compiler = require('../lib/Compiler.js')
let Compiler = new Compiler();
//标识运行编译
compiler.run();
</code></pre></div><h3 id="lib-compiler-js-2"><a href="#lib-compiler-js-2" class="header-anchor">#</a> lib/Compiler.js</h3> <div class="language- extra-class"><pre class="language-text"><code>let fs = require('fs');
let 
class Compiler{
    constructor(config){
        //entr output
        this.config = config;
        //需要保存入口文件的路径
        this.entryId; //'./src/index.js'
        //需要保存所有的模块依赖
        this.modules = {};
        this.entry = config.entry;//入口路径
        //工作路径
        this.root = process.cwd();
    }
    //获取源码
    getSource(modulePath){
        let content = fs.readFileSync(modulePath,'utf8')
        return content
    }
    //解析源码
    parse(source,parentPath){//AST解析语法树
        console.log(source,parentPath)
    }
    //构建模块
    buildModule(modulePath,isEntry){
        //拿到模块的内容
        let source = this.getSource(modulePath)
        //拿到模块id modulePath = modulePath - this.root src/index.js
        let moduleName = './'+path.relative(this.root,modulePath);
        if(isEntry){
            this.entryId = moduleName;//保存入口的名字
        }
        //解析需要把source源码进行改造，返回一个依赖列表
        let {sourceCode, dependencies} = this.parse(source,path.dirname(moduleName));// ./src
        //把相对路径和模块中的内容 对应起来
        this.modules[moduleName] = sourceCode;
        console.log(source,moduleName)

    }
    emitFile(){//发射文件

    }
    run(){
        //执行  并且创建模块的依赖关系
        this.buildModule(path.resolve(this.root,this.entry),true);
        //打包后的文件
        this.emitFile();
    }
}
module.exports = Compiler
</code></pre></div><h2 id="ast递归解析"><a href="#ast递归解析" class="header-anchor">#</a> AST递归解析</h2> <div class="language- extra-class"><pre class="language-text"><code>yarn add babylon @babel/traverse @babel/types @babel/generator -D
</code></pre></div><h2 id="生成打包结果"><a href="#生成打包结果" class="header-anchor">#</a> 生成打包结果</h2> <div class="language- extra-class"><pre class="language-text"><code>yarn add ejs
</code></pre></div><h2 id="增加loader"><a href="#增加loader" class="header-anchor">#</a> 增加loader</h2> <div class="language- extra-class"><pre class="language-text"><code>yarn add tabpable
</code></pre></div><h2 id="loader"><a href="#loader" class="header-anchor">#</a> loader</h2> <h3 id="概念-2"><a href="#概念-2" class="header-anchor">#</a> 概念</h3> <p>webpack只能处理javascript的模块，如果要处理其他类型的文件，需要使用loader进行转换，loader是webpack中一个重要的概念，它是指用来将一段代码转换成另一段代码的webpack加载器</p> <h3 id="配置loader"><a href="#配置loader" class="header-anchor">#</a> 配置loader</h3> <div class="language- extra-class"><pre class="language-text"><code>let path = require('path');
module.exports = {
	mode: 'development',
	entry:&quot;./src/index.js&quot;,
	output:{
		filename: 'buildle.js',
		path: path.resolve(_dirname,'dist')
	},
	module:{
		rules:[
			{
				test:/\.js$/,
				use:'loader1'
			}
		]
	}
}
</code></pre></div><h3 id="写一个简单的loader"><a href="#写一个简单的loader" class="header-anchor">#</a> 写一个简单的loader</h3> <p>在根目录下创建loaders文件夹，增加loader1,loader就是一个函数参数是匹配到文件的内容，返回结果会作为最新的内容</p> <div class="language- extra-class"><pre class="language-text"><code>function loader(source){
	return 'hello';
}
module.exports = loader
</code></pre></div><h3 id="配置多个loader"><a href="#配置多个loader" class="header-anchor">#</a> 配置多个loader</h3> <div class="language- extra-class"><pre class="language-text"><code>module:{
	rules:[
		{test:/\.js$/,use:'loader1'},
		{test:/\.js$/,use:'loader2'},
		{test:/\.js$/,use:'loader3'}
	]
}
</code></pre></div><p>默认执行顺序，从下到上，从右向左</p> <h3 id="loader的分类"><a href="#loader的分类" class="header-anchor">#</a> loader的分类</h3> <p>前置loader pre</p> <p>普通loader normal</p> <p>后置loader post</p> <p>inlineloader</p> <p>执行属性是：pre+normal+inline+post</p> <h3 id="符号的含义"><a href="#符号的含义" class="header-anchor">#</a> 符号的含义</h3> <p>-! 禁用前置和正常loader</p> <p>! 禁用普通loader</p> <p>!! 禁用前置和后置和正常loader</p> <h3 id="pitchloader和normlloader"><a href="#pitchloader和normlloader" class="header-anchor">#</a> pitchLoader和normlLoader</h3> <p>每个loader都有两部分组成pitchLoader和normalLoader,pitch和normal的执行顺序正好相反，当pitch没用定义或者没用返回值时，先会依次执行pitch在获取资源执行loader，如果定义的某个pitch有返回值会跳过读取资源和自己的loader</p> <h3 id="loader的特点"><a href="#loader的特点" class="header-anchor">#</a> loader的特点</h3> <p>第一个loader要返回js脚本</p> <p>每个loader只做一件内容，为了使loader在更多场景链式调用</p> <p>每一个loader都是一个模块</p> <p>每个loader都是无状态的，确保loader在不同模块之间不保存状态</p> <h2 id="babel-loader实现"><a href="#babel-loader实现" class="header-anchor">#</a> babel-loader实现</h2> <h3 id="安装插件-2"><a href="#安装插件-2" class="header-anchor">#</a> 安装插件</h3> <p>安装babel和babel相关插件</p> <div class="language- extra-class"><pre class="language-text"><code>yarn add @babel/core babel-loader @babel/preset-env
</code></pre></div><h2 id="实现file-loader和url-loader"><a href="#实现file-loader和url-loader" class="header-anchor">#</a> 实现file-loader和url-loader</h2> <div class="language- extra-class"><pre class="language-text"><code>yarn add mime
</code></pre></div><h2 id="less-loader和css-loader"><a href="#less-loader和css-loader" class="header-anchor">#</a> less-loader和css-loader</h2> <div class="language- extra-class"><pre class="language-text"><code>yarn add less
</code></pre></div></div> <div class="page-edit"><!----> <!----></div> <!----> </div> <!----></div></div>
    <script src="/assets/js/app.baeebc12.js" defer></script><script src="/assets/js/17.e2cff3df.js" defer></script>
  </body>
</html>
