(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{213:function(a,t,s){"use strict";s.r(t);var e=s(0),n=Object(e.a)({},(function(){this._self._c;return this._m(0)}),[function(){var a=this,t=a._self._c;return t("div",{staticClass:"content"},[t("h1",{attrs:{id:"对象的深浅拷贝"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#对象的深浅拷贝"}},[a._v("#")]),a._v(" 对象的深浅拷贝")]),a._v(" "),t("h2",{attrs:{id:"为什么会产生深浅拷贝？"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#为什么会产生深浅拷贝？"}},[a._v("#")]),a._v(" 为什么会产生深浅拷贝？")]),a._v(" "),t("p",[a._v("首先我们要知道一个流程")]),a._v(" "),t("p",[a._v("1，对象属于引用类型的，以后浏览器会为其开辟一个新的内存空间，并为它分配一个16进制的地址")]),a._v(" "),t("p",[a._v("2，按照一定的顺序，把对象的键值对存储到内存空间")]),a._v(" "),t("p",[a._v("3，把开辟的内存地址赋值给变量(或事件)，以后变量就通过地址找到内存空间，然后进行操作")]),a._v(" "),t("h2",{attrs:{id:"基本数据类型和引用数据类型"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#基本数据类型和引用数据类型"}},[a._v("#")]),a._v(" 基本数据类型和引用数据类型")]),a._v(" "),t("p",[t("strong",[a._v("数据分为基本数据类型和引用数据类型")])]),a._v(" "),t("p",[t("strong",[a._v("基本数据类型")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("String、Number、Boolean、Null、Undefined、Symbol\n")])])]),t("p",[a._v("基本数据类型是直接存储在栈中的数据")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("let str1 = '123';\nstr2 = str1;\nstr2 = '456';\nconsole.log(str1); // '123'\nconsole.log(str2); // '456'\n")])])]),t("p",[t("strong",[a._v("形象举例：")])]),a._v(" "),t("p",[a._v("我之前买了一双鞋子，我现在又买了一双，某一双坏了不会影响到另外一双")]),a._v(" "),t("p",[t("strong",[a._v("引用数据类型")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("Array、Object\n")])])]),t("p",[a._v("引用数据类型存储的是该对象在栈中引用，真实的数据存储在内存中")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("let arr1 =[1,2,3,4,5,6];\narr2 = arr1;\narr2.pop();\nconsole.log(arr1);//[ 1, 2, 3, 4, 5 ]\nconsole.log(arr2);//[ 1, 2, 3, 4, 5 ]\n")])])]),t("p",[t("strong",[a._v("形象举例：")])]),a._v(" "),t("p",[a._v("在大草原上，有一些羊吃了腐烂的草得病死了。草原还是草原，但是内部的草变少了；羊群还是羊群，但是内部的羊变少了")]),a._v(" "),t("h2",{attrs:{id:"深拷贝和浅拷贝的概念"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#深拷贝和浅拷贝的概念"}},[a._v("#")]),a._v(" 深拷贝和浅拷贝的概念")]),a._v(" "),t("p",[t("strong",[a._v("浅拷贝：")])]),a._v(" "),t("pre",[t("code",[a._v("仅仅复制对象的引用，而不是对象本身\n")])]),a._v(" "),t("p",[t("strong",[a._v("深拷贝：")])]),a._v(" "),t("pre",[t("code",[a._v("把复制的对象所引用的全部对象都复制一遍\n")])]),a._v(" "),t("h2",{attrs:{id:"深拷贝和浅拷贝的区别"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#深拷贝和浅拷贝的区别"}},[a._v("#")]),a._v(" 深拷贝和浅拷贝的区别")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/10/24/16dfd188f13b0487~tplv-t2oaga2asx-zoom-in-crop-mark:3024:0:0:0.awebp",alt:"cmd-markdown-logo"}}),a._v(" "),t("img",{attrs:{src:"https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/10/24/16dfd18e5a41662d~tplv-t2oaga2asx-zoom-in-crop-mark:3024:0:0:0.awebp",alt:"cmd-markdown-logo"}})]),a._v(" "),t("table",[t("thead",[t("tr",[t("th",{staticStyle:{"text-align":"center"}},[a._v("~")]),a._v(" "),t("th",{staticStyle:{"text-align":"center"}},[a._v("和原数据是否指向同一对象")]),a._v(" "),t("th",{staticStyle:{"text-align":"center"}},[a._v("第一层数据为基本数据类型")]),a._v(" "),t("th",{staticStyle:{"text-align":"center"}},[a._v("原数据中包含子对象")])])]),a._v(" "),t("tbody",[t("tr",[t("td",{staticStyle:{"text-align":"center"}},[a._v("赋值")]),a._v(" "),t("td",{staticStyle:{"text-align":"center"}},[a._v("是")]),a._v(" "),t("td",{staticStyle:{"text-align":"center"}},[a._v("改变会使数据一同改变")]),a._v(" "),t("td",{staticStyle:{"text-align":"center"}},[a._v("改变会使原数据一同改变")])]),a._v(" "),t("tr",[t("td",{staticStyle:{"text-align":"center"}},[a._v("浅拷贝")]),a._v(" "),t("td",{staticStyle:{"text-align":"center"}},[a._v("否")]),a._v(" "),t("td",{staticStyle:{"text-align":"center"}},[a._v("改变不会使原数据一同改变")]),a._v(" "),t("td",{staticStyle:{"text-align":"center"}},[a._v("改变会使数据一同改变")])]),a._v(" "),t("tr",[t("td",{staticStyle:{"text-align":"center"}},[a._v("深拷贝")]),a._v(" "),t("td",{staticStyle:{"text-align":"center"}},[a._v("否")]),a._v(" "),t("td",{staticStyle:{"text-align":"center"}},[a._v("改变不会使原数据一同改变")]),a._v(" "),t("td",{staticStyle:{"text-align":"center"}},[a._v("改变不会使原数据一同改变")])])])]),a._v(" "),t("h2",{attrs:{id:"浅拷贝"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#浅拷贝"}},[a._v("#")]),a._v(" 浅拷贝")]),a._v(" "),t("h3",{attrs:{id:"通用循环"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#通用循环"}},[a._v("#")]),a._v(" 通用循环")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("const arr1 = [1, 2, ['ming', 'abc'], 5];\n\nconst shallowClone = (arr) => {\n  const dst = [];\n  for (let prop in arr) {\n    if (arr.hasOwnProperty(prop)) {\n        dst[prop] = arr[prop];\n    }\n  }\n  return dst;\n}\n\nconst arr2 = shallowClone(arr1);\narr2[2].push('wuhan');\narr2[3] = 5;\n\nconsole.log(arr1);\nconsole.log(arr2);\n")])])]),t("p",[a._v("运行结果：\n"),t("img",{attrs:{src:"https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/10/24/16dfd5784f6e59f4~tplv-t2oaga2asx-zoom-in-crop-mark:3024:0:0:0.awebp",alt:"cmd-markdown-logo"}})]),a._v(" "),t("h3",{attrs:{id:"object-assign"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#object-assign"}},[a._v("#")]),a._v(" object.assign()")]),a._v(" "),t("ul",[t("li",[a._v("Object.assign()方法可以把任意多个的源对象自身的可枚举属性拷贝给目标对象，然后返回目标对象")]),a._v(" "),t("li",[a._v("Object.assign()进行的是浅拷贝，拷贝的是对象的属性的引用，而不是对象本身")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("    const obj1 = {\n        username:'ming',\n        skill:{\n            play:['backetball','game'],\n            rend: 'book',\n        },\n        girlfriends:['xiaomi','xiaohong','xiaolan'],\n    };\n    const obj2 = Object.assign({},obj1);\n    obj2.username = 'memg';//修改基本类型\n    obj2.skill.read = 'e-mail';//修改二层基本类型\n    obj2.skill.play = ['footbool'];//修改二层引用类型\n    obj2.girlfriend = ['xiaoming'];\n    console.log(obj1);\n    console.log(obj2);\n")])])]),t("p",[a._v("运行结果：\n"),t("img",{attrs:{src:"https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/10/24/16dfd5439c1239b3~tplv-t2oaga2asx-zoom-in-crop-mark:3024:0:0:0.awebp",alt:"cmd-markdown-logo"}})]),a._v(" "),t("h3",{attrs:{id:"array-prototype-concat"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#array-prototype-concat"}},[a._v("#")]),a._v(" Array.prototype.concat()")]),a._v(" "),t("p",[a._v("concat()是数组的一个内置方法，用户合并两个或者多个数组")]),a._v(" "),t("p",[a._v("这个方法不会改变现有数组，而是返回一个新数组")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("  const arr1 = [1,{username: 'ming',},];\n  let arr2 = arr1.concat();\n  arr1[0] = 2;\n  arr1[1].username = 'meng';\n  console.log(arr1);\n  console.log(arr2);\n")])])]),t("p",[a._v("运行结果：\n"),t("img",{attrs:{src:"https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/10/24/16dfd9110f7ff8d8~tplv-t2oaga2asx-zoom-in-crop-mark:3024:0:0:0.awebp",alt:"cmd-markdown-logo"}})]),a._v(" "),t("h3",{attrs:{id:"array-prototype-slice"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#array-prototype-slice"}},[a._v("#")]),a._v(" Array.prototype.slice()")]),a._v(" "),t("p",[a._v("slice()也是数组的一个内置方法，该方法会返回一个新的对象")]),a._v(" "),t("p",[a._v("slice()不会改变原数组")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("const arr1 = [1,{username:'ming',},];\nlet arr2 = arr1.slice();\narr2[0] = 2;\narr2[1].username = 'meng'\nconsole.log(arr1);\nconsole.log(arr2); \n")])])]),t("p",[a._v("运行结果：\n"),t("img",{attrs:{src:"https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/10/24/16dfdbf94438f708~tplv-t2oaga2asx-zoom-in-crop-mark:3024:0:0:0.awebp",alt:"cmd-markdown-logo"}})]),a._v(" "),t("h3",{attrs:{id:"obj展开运算符"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#obj展开运算符"}},[a._v("#")]),a._v(" obj展开运算符")]),a._v(" "),t("p",[a._v("展开运算符是ES6中新提出来的一种运算符")]),a._v(" "),t("p",[a._v("在拷贝数组、对象以及拼接数组等方面都可以使用")]),a._v(" "),t("p",[a._v("这步我们也可以尝试下使用const obj2 = {...obj1}的形式进行浅拷贝")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("//拷贝数组\nconst arr1 = [1, 2, 3];\nconst arr2 = [...arr1]; // like arr.slice()\narr2.push(8); \n\nconsole.log(arr1); // [ 1, 2, 3 ]\nconsole.log(arr2); // [ 1, 2, 3, 8 ]\n\n//拷贝对象\nconst obj1 = {\n  name: 'ming',\n  arr1: ['9', '7', '6'],\n  obj: {\n    name: 'meng',\n    arr2: ['7', '8', '9'],\n  },\n};\nconst obj2 = {...obj1};// like arr.slice()\nobj2.name = 'ming2';\nobj2.arr1 = ['null'];\nobj2.obj.name = 'meng2';\nobj2.obj.arr2 = ['null'];\n\nconsole.log(obj1);\nconsole.log(obj2);\n")])])]),t("p",[a._v("运行结果：\n"),t("img",{attrs:{src:"https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/10/24/16dfdcdf6d7a9616~tplv-t2oaga2asx-zoom-in-crop-mark:3024:0:0:0.awebp",alt:"cmd-markdown-logo"}})]),a._v(" "),t("h2",{attrs:{id:"深拷贝"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#深拷贝"}},[a._v("#")]),a._v(" 深拷贝")]),a._v(" "),t("h3",{attrs:{id:"手动递归"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#手动递归"}},[a._v("#")]),a._v(" 手动递归")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("function deepClone (sourceObj, targetObj) {\n    let cloneObj = targetObj || {}\n    if(!sourceObj || typeof sourceObj !== \"object\" || sourceObj.length === undefined){\n        return sourceObj\n    }\n    if(sourceObj instanceof Array){\n        cloneObj = sourceObj.concat()\n    } else {\n        for(let i in sourceObj){\n            if (typeof sourceObj[i] === 'object') {\n                cloneObj[i] = deepClone(sourceObj[i], {})\n            } else {\n                cloneObj[i] = sourceObj[i]\n            }\n        }\n    }\n    return cloneObj\n}\nlet sourceObj = {\n  a: 1,\n  b: {\n    a: 1\n  },\n  c: {\n    a: 1,\n    b: {\n      a: 1\n    }\n  },\n  d: function() {\n    console.log('hello world')\n  },\n  e: [1, 2, 3]\n}\nlet targetObj = deepClone(sourceObj, {})\ntargetObj.c.b.a = 9\nconsole.log(sourceObj)\nconsole.log(targetObj)\n")])])]),t("p",[a._v("运行结果：\n"),t("img",{attrs:{src:"https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/10/24/16dfe495c12012eb~tplv-t2oaga2asx-zoom-in-crop-mark:3024:0:0:0.awebp",alt:"cmd-markdown-logo"}})]),a._v(" "),t("h3",{attrs:{id:"json-parse-json-stringify"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#json-parse-json-stringify"}},[a._v("#")]),a._v(" Json.parse(Json.Stringify())")]),a._v(" "),t("p",[a._v("JSON.stringify():把一个js对象序列化为一个JSON字符串")]),a._v(" "),t("p",[a._v("JSON.parse():把JSON字符串反序列化为一个js对象")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("const arr9 = [\n    1,\n    {\n      username:'ming',\n    },\n  ];\n  let arr10 = JSON.parse(JSON.stringify(arr9));\n  arr10[0]=2;\n  arr10[1].username='meng';\n  console.log(arr9);\n  console.log(arr10);\n")])])]),t("p",[a._v("运行结果：\n"),t("img",{attrs:{src:"https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/10/24/16dfddcd3e9a4e11~tplv-t2oaga2asx-zoom-in-crop-mark:3024:0:0:0.awebp",alt:"cmd-markdown-logo"}})]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("let obj = {\n    name: 'ming',\n    age: 20,\n    friend: {\n      name: 'ming1',\n      age: 19\n    }\n  };\n  let copyObj = JSON.parse(JSON.stringify(obj));\n  obj.name = 'meng';\n  obj.friend.name = 'meng1';\n  console.log(obj);\n  console.log(copyObj);\n")])])]),t("p",[a._v("运行结果：\n"),t("img",{attrs:{src:"https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/10/24/16dfddee8c1b6ea1~tplv-t2oaga2asx-zoom-in-crop-mark:3024:0:0:0.awebp",alt:"cmd-markdown-logo"}})]),a._v(" "),t("h3",{attrs:{id:"函数库lodash"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#函数库lodash"}},[a._v("#")]),a._v(" 函数库Lodash")]),a._v(" "),t("p",[a._v("Lodash作为JavaScript函数库/工具库，它里面有非常好用的封装好的功能")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("var _= require('lodash');\nconst obj1 = [\n  1,\n  'Hello!',\n  { name:'ming1' },\n  [\n    {\n      name:'meng1',\n    }\n  ],\n]\nconst obj2 = _.cloneDeep(obj1);\nobj2[0] = 2;\nobj2[1] = 'Hi!';\nobj2[2].name = 'ming2'\nobj2[3][0].name = 'meng2';\nconsole.log(obj1);\nconsole.log(obj2);\n")])])]),t("p",[a._v("运行结果：\n"),t("img",{attrs:{src:"https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/10/24/16dfde266348cf95~tplv-t2oaga2asx-zoom-in-crop-mark:3024:0:0:0.awebp",alt:"cmd-markdown-logo"}})])])}],!1,null,null,null);t.default=n.exports}}]);