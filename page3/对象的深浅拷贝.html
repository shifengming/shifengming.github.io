<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>对象的深浅拷贝 | 个人网站</title>
    <meta name="description" content="Welcome to come to my blog">
    
    
    <link rel="preload" href="/assets/css/0.styles.c9120bc4.css" as="style"><link rel="preload" href="/assets/js/app.baeebc12.js" as="script"><link rel="preload" href="/assets/js/43.f8fa8e4a.js" as="script"><link rel="prefetch" href="/assets/js/10.51912ddf.js"><link rel="prefetch" href="/assets/js/11.e96c3ccb.js"><link rel="prefetch" href="/assets/js/12.3199951e.js"><link rel="prefetch" href="/assets/js/13.3c7197fa.js"><link rel="prefetch" href="/assets/js/14.907c91b1.js"><link rel="prefetch" href="/assets/js/15.bf14723d.js"><link rel="prefetch" href="/assets/js/16.86fb4ac7.js"><link rel="prefetch" href="/assets/js/17.e2cff3df.js"><link rel="prefetch" href="/assets/js/18.48c73241.js"><link rel="prefetch" href="/assets/js/19.8f6142cc.js"><link rel="prefetch" href="/assets/js/2.dd4257e1.js"><link rel="prefetch" href="/assets/js/20.0640987b.js"><link rel="prefetch" href="/assets/js/21.b3d737d8.js"><link rel="prefetch" href="/assets/js/22.3f190a25.js"><link rel="prefetch" href="/assets/js/23.e5855050.js"><link rel="prefetch" href="/assets/js/24.76d4e241.js"><link rel="prefetch" href="/assets/js/25.68803788.js"><link rel="prefetch" href="/assets/js/26.7c73d578.js"><link rel="prefetch" href="/assets/js/27.946ad60e.js"><link rel="prefetch" href="/assets/js/28.f7173b89.js"><link rel="prefetch" href="/assets/js/29.44cce327.js"><link rel="prefetch" href="/assets/js/3.c1011a22.js"><link rel="prefetch" href="/assets/js/30.ca9785fb.js"><link rel="prefetch" href="/assets/js/31.2ee0d2c0.js"><link rel="prefetch" href="/assets/js/32.c7418bd6.js"><link rel="prefetch" href="/assets/js/33.bf2abcee.js"><link rel="prefetch" href="/assets/js/34.abbc5d8e.js"><link rel="prefetch" href="/assets/js/35.b8cd562f.js"><link rel="prefetch" href="/assets/js/36.958f06a4.js"><link rel="prefetch" href="/assets/js/37.c043e7bb.js"><link rel="prefetch" href="/assets/js/38.6966b072.js"><link rel="prefetch" href="/assets/js/39.4724a334.js"><link rel="prefetch" href="/assets/js/4.ee255b66.js"><link rel="prefetch" href="/assets/js/40.1e6f0e95.js"><link rel="prefetch" href="/assets/js/41.de3a8b43.js"><link rel="prefetch" href="/assets/js/42.f5df9fc7.js"><link rel="prefetch" href="/assets/js/44.c43bf2f3.js"><link rel="prefetch" href="/assets/js/45.7ca64b8f.js"><link rel="prefetch" href="/assets/js/46.dee8a320.js"><link rel="prefetch" href="/assets/js/47.9ee60df4.js"><link rel="prefetch" href="/assets/js/48.a4cd6b21.js"><link rel="prefetch" href="/assets/js/49.1f8ef22d.js"><link rel="prefetch" href="/assets/js/5.a54dcc21.js"><link rel="prefetch" href="/assets/js/50.765b05d2.js"><link rel="prefetch" href="/assets/js/51.d27860af.js"><link rel="prefetch" href="/assets/js/52.bf0188ba.js"><link rel="prefetch" href="/assets/js/53.5208a76e.js"><link rel="prefetch" href="/assets/js/54.ef3432ff.js"><link rel="prefetch" href="/assets/js/55.271739d0.js"><link rel="prefetch" href="/assets/js/56.c3f0caab.js"><link rel="prefetch" href="/assets/js/57.3ff1162b.js"><link rel="prefetch" href="/assets/js/58.27e5128c.js"><link rel="prefetch" href="/assets/js/59.30fa2cb1.js"><link rel="prefetch" href="/assets/js/6.9c13835b.js"><link rel="prefetch" href="/assets/js/60.32defecd.js"><link rel="prefetch" href="/assets/js/61.98a47375.js"><link rel="prefetch" href="/assets/js/62.f833acc8.js"><link rel="prefetch" href="/assets/js/63.9801a855.js"><link rel="prefetch" href="/assets/js/7.258c75b9.js"><link rel="prefetch" href="/assets/js/8.572091d6.js"><link rel="prefetch" href="/assets/js/9.6896af62.js">
    <link rel="stylesheet" href="/assets/css/0.styles.c9120bc4.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">个人网站</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/page3/page1/" class="nav-link">前端技术</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">个人文章</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://juejin.im/user/5c8f3303f265da612d633276" target="_blank" rel="noopener noreferrer" class="nav-link external">
  掘金
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://segmentfault.com/u/helloxiaoming" target="_blank" rel="noopener noreferrer" class="nav-link external">
  segmentfault
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://blog.csdn.net/qq_40588413" target="_blank" rel="noopener noreferrer" class="nav-link external">
  CSDN
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <a href="https://github.com/shifengming" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/page3/page1/" class="nav-link">前端技术</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">个人文章</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://juejin.im/user/5c8f3303f265da612d633276" target="_blank" rel="noopener noreferrer" class="nav-link external">
  掘金
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://segmentfault.com/u/helloxiaoming" target="_blank" rel="noopener noreferrer" class="nav-link external">
  segmentfault
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://blog.csdn.net/qq_40588413" target="_blank" rel="noopener noreferrer" class="nav-link external">
  CSDN
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <a href="https://github.com/shifengming" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading"><span>HTML</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>CSS3</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading open"><span>JavaScript</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/page3/JS字符串.html" class="sidebar-link">JS字符串</a></li><li><a href="/page3/JS数组.html" class="sidebar-link">JS数组</a></li><li><a href="/page3/EventLoop.html" class="sidebar-link">EventLoop</a></li><li><a href="/page3/js数据类型.html" class="sidebar-link">JavaScript 数据类型</a></li><li><a href="/page3/对象的深浅拷贝.html" class="active sidebar-link">对象的深浅拷贝</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/page3/对象的深浅拷贝.html#为什么会产生深浅拷贝？" class="sidebar-link">为什么会产生深浅拷贝？</a></li><li class="sidebar-sub-header"><a href="/page3/对象的深浅拷贝.html#基本数据类型和引用数据类型" class="sidebar-link">基本数据类型和引用数据类型</a></li><li class="sidebar-sub-header"><a href="/page3/对象的深浅拷贝.html#深拷贝和浅拷贝的概念" class="sidebar-link">深拷贝和浅拷贝的概念</a></li><li class="sidebar-sub-header"><a href="/page3/对象的深浅拷贝.html#深拷贝和浅拷贝的区别" class="sidebar-link">深拷贝和浅拷贝的区别</a></li><li class="sidebar-sub-header"><a href="/page3/对象的深浅拷贝.html#浅拷贝" class="sidebar-link">浅拷贝</a></li><li class="sidebar-sub-header"><a href="/page3/对象的深浅拷贝.html#深拷贝" class="sidebar-link">深拷贝</a></li></ul></li><li><a href="/page3/原型与原型链.html" class="sidebar-link">原型与原型链</a></li><li><a href="/page3/this理解.html" class="sidebar-link">this理解</a></li><li><a href="/page3/JavaScript继承.html" class="sidebar-link">Javscript继承</a></li><li><a href="/page3/JS常见比较.html" class="sidebar-link">JS常见比较</a></li><li><a href="/page3/闭包.html" class="sidebar-link">闭包</a></li><li><a href="/page3/重点题.html" class="sidebar-link">重点题</a></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>JQuery</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>ES6</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Vue</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>React</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>小程序</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Github</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Http请求</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Ajax</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Webpack</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>项目</span> <span class="arrow right"></span></p> <!----></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="对象的深浅拷贝"><a href="#对象的深浅拷贝" class="header-anchor">#</a> 对象的深浅拷贝</h1> <h2 id="为什么会产生深浅拷贝？"><a href="#为什么会产生深浅拷贝？" class="header-anchor">#</a> 为什么会产生深浅拷贝？</h2> <p>首先我们要知道一个流程</p> <p>1，对象属于引用类型的，以后浏览器会为其开辟一个新的内存空间，并为它分配一个16进制的地址</p> <p>2，按照一定的顺序，把对象的键值对存储到内存空间</p> <p>3，把开辟的内存地址赋值给变量(或事件)，以后变量就通过地址找到内存空间，然后进行操作</p> <h2 id="基本数据类型和引用数据类型"><a href="#基本数据类型和引用数据类型" class="header-anchor">#</a> 基本数据类型和引用数据类型</h2> <p><strong>数据分为基本数据类型和引用数据类型</strong></p> <p><strong>基本数据类型</strong></p> <div class="language- extra-class"><pre class="language-text"><code>String、Number、Boolean、Null、Undefined、Symbol
</code></pre></div><p>基本数据类型是直接存储在栈中的数据</p> <div class="language- extra-class"><pre class="language-text"><code>let str1 = '123';
str2 = str1;
str2 = '456';
console.log(str1); // '123'
console.log(str2); // '456'
</code></pre></div><p><strong>形象举例：</strong></p> <p>我之前买了一双鞋子，我现在又买了一双，某一双坏了不会影响到另外一双</p> <p><strong>引用数据类型</strong></p> <div class="language- extra-class"><pre class="language-text"><code>Array、Object
</code></pre></div><p>引用数据类型存储的是该对象在栈中引用，真实的数据存储在内存中</p> <div class="language- extra-class"><pre class="language-text"><code>let arr1 =[1,2,3,4,5,6];
arr2 = arr1;
arr2.pop();
console.log(arr1);//[ 1, 2, 3, 4, 5 ]
console.log(arr2);//[ 1, 2, 3, 4, 5 ]
</code></pre></div><p><strong>形象举例：</strong></p> <p>在大草原上，有一些羊吃了腐烂的草得病死了。草原还是草原，但是内部的草变少了；羊群还是羊群，但是内部的羊变少了</p> <h2 id="深拷贝和浅拷贝的概念"><a href="#深拷贝和浅拷贝的概念" class="header-anchor">#</a> 深拷贝和浅拷贝的概念</h2> <p><strong>浅拷贝：</strong></p> <pre><code>仅仅复制对象的引用，而不是对象本身
</code></pre> <p><strong>深拷贝：</strong></p> <pre><code>把复制的对象所引用的全部对象都复制一遍
</code></pre> <h2 id="深拷贝和浅拷贝的区别"><a href="#深拷贝和浅拷贝的区别" class="header-anchor">#</a> 深拷贝和浅拷贝的区别</h2> <p><img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/10/24/16dfd188f13b0487~tplv-t2oaga2asx-zoom-in-crop-mark:3024:0:0:0.awebp" alt="cmd-markdown-logo"> <img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/10/24/16dfd18e5a41662d~tplv-t2oaga2asx-zoom-in-crop-mark:3024:0:0:0.awebp" alt="cmd-markdown-logo"></p> <table><thead><tr><th style="text-align:center">~</th> <th style="text-align:center">和原数据是否指向同一对象</th> <th style="text-align:center">第一层数据为基本数据类型</th> <th style="text-align:center">原数据中包含子对象</th></tr></thead> <tbody><tr><td style="text-align:center">赋值</td> <td style="text-align:center">是</td> <td style="text-align:center">改变会使数据一同改变</td> <td style="text-align:center">改变会使原数据一同改变</td></tr> <tr><td style="text-align:center">浅拷贝</td> <td style="text-align:center">否</td> <td style="text-align:center">改变不会使原数据一同改变</td> <td style="text-align:center">改变会使数据一同改变</td></tr> <tr><td style="text-align:center">深拷贝</td> <td style="text-align:center">否</td> <td style="text-align:center">改变不会使原数据一同改变</td> <td style="text-align:center">改变不会使原数据一同改变</td></tr></tbody></table> <h2 id="浅拷贝"><a href="#浅拷贝" class="header-anchor">#</a> 浅拷贝</h2> <h3 id="通用循环"><a href="#通用循环" class="header-anchor">#</a> 通用循环</h3> <div class="language- extra-class"><pre class="language-text"><code>const arr1 = [1, 2, ['ming', 'abc'], 5];

const shallowClone = (arr) =&gt; {
  const dst = [];
  for (let prop in arr) {
    if (arr.hasOwnProperty(prop)) {
        dst[prop] = arr[prop];
    }
  }
  return dst;
}

const arr2 = shallowClone(arr1);
arr2[2].push('wuhan');
arr2[3] = 5;

console.log(arr1);
console.log(arr2);
</code></pre></div><p>运行结果：
<img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/10/24/16dfd5784f6e59f4~tplv-t2oaga2asx-zoom-in-crop-mark:3024:0:0:0.awebp" alt="cmd-markdown-logo"></p> <h3 id="object-assign"><a href="#object-assign" class="header-anchor">#</a> object.assign()</h3> <ul><li>Object.assign()方法可以把任意多个的源对象自身的可枚举属性拷贝给目标对象，然后返回目标对象</li> <li>Object.assign()进行的是浅拷贝，拷贝的是对象的属性的引用，而不是对象本身</li></ul> <div class="language- extra-class"><pre class="language-text"><code>    const obj1 = {
        username:'ming',
        skill:{
            play:['backetball','game'],
            rend: 'book',
        },
        girlfriends:['xiaomi','xiaohong','xiaolan'],
    };
    const obj2 = Object.assign({},obj1);
    obj2.username = 'memg';//修改基本类型
    obj2.skill.read = 'e-mail';//修改二层基本类型
    obj2.skill.play = ['footbool'];//修改二层引用类型
    obj2.girlfriend = ['xiaoming'];
    console.log(obj1);
    console.log(obj2);
</code></pre></div><p>运行结果：
<img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/10/24/16dfd5439c1239b3~tplv-t2oaga2asx-zoom-in-crop-mark:3024:0:0:0.awebp" alt="cmd-markdown-logo"></p> <h3 id="array-prototype-concat"><a href="#array-prototype-concat" class="header-anchor">#</a> Array.prototype.concat()</h3> <p>concat()是数组的一个内置方法，用户合并两个或者多个数组</p> <p>这个方法不会改变现有数组，而是返回一个新数组</p> <div class="language- extra-class"><pre class="language-text"><code>  const arr1 = [1,{username: 'ming',},];
  let arr2 = arr1.concat();
  arr1[0] = 2;
  arr1[1].username = 'meng';
  console.log(arr1);
  console.log(arr2);
</code></pre></div><p>运行结果：
<img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/10/24/16dfd9110f7ff8d8~tplv-t2oaga2asx-zoom-in-crop-mark:3024:0:0:0.awebp" alt="cmd-markdown-logo"></p> <h3 id="array-prototype-slice"><a href="#array-prototype-slice" class="header-anchor">#</a> Array.prototype.slice()</h3> <p>slice()也是数组的一个内置方法，该方法会返回一个新的对象</p> <p>slice()不会改变原数组</p> <div class="language- extra-class"><pre class="language-text"><code>const arr1 = [1,{username:'ming',},];
let arr2 = arr1.slice();
arr2[0] = 2;
arr2[1].username = 'meng'
console.log(arr1);
console.log(arr2); 
</code></pre></div><p>运行结果：
<img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/10/24/16dfdbf94438f708~tplv-t2oaga2asx-zoom-in-crop-mark:3024:0:0:0.awebp" alt="cmd-markdown-logo"></p> <h3 id="obj展开运算符"><a href="#obj展开运算符" class="header-anchor">#</a> obj展开运算符</h3> <p>展开运算符是ES6中新提出来的一种运算符</p> <p>在拷贝数组、对象以及拼接数组等方面都可以使用</p> <p>这步我们也可以尝试下使用const obj2 = {...obj1}的形式进行浅拷贝</p> <div class="language- extra-class"><pre class="language-text"><code>//拷贝数组
const arr1 = [1, 2, 3];
const arr2 = [...arr1]; // like arr.slice()
arr2.push(8); 

console.log(arr1); // [ 1, 2, 3 ]
console.log(arr2); // [ 1, 2, 3, 8 ]

//拷贝对象
const obj1 = {
  name: 'ming',
  arr1: ['9', '7', '6'],
  obj: {
    name: 'meng',
    arr2: ['7', '8', '9'],
  },
};
const obj2 = {...obj1};// like arr.slice()
obj2.name = 'ming2';
obj2.arr1 = ['null'];
obj2.obj.name = 'meng2';
obj2.obj.arr2 = ['null'];

console.log(obj1);
console.log(obj2);
</code></pre></div><p>运行结果：
<img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/10/24/16dfdcdf6d7a9616~tplv-t2oaga2asx-zoom-in-crop-mark:3024:0:0:0.awebp" alt="cmd-markdown-logo"></p> <h2 id="深拷贝"><a href="#深拷贝" class="header-anchor">#</a> 深拷贝</h2> <h3 id="手动递归"><a href="#手动递归" class="header-anchor">#</a> 手动递归</h3> <div class="language- extra-class"><pre class="language-text"><code>function deepClone (sourceObj, targetObj) {
    let cloneObj = targetObj || {}
    if(!sourceObj || typeof sourceObj !== &quot;object&quot; || sourceObj.length === undefined){
        return sourceObj
    }
    if(sourceObj instanceof Array){
        cloneObj = sourceObj.concat()
    } else {
        for(let i in sourceObj){
            if (typeof sourceObj[i] === 'object') {
                cloneObj[i] = deepClone(sourceObj[i], {})
            } else {
                cloneObj[i] = sourceObj[i]
            }
        }
    }
    return cloneObj
}
let sourceObj = {
  a: 1,
  b: {
    a: 1
  },
  c: {
    a: 1,
    b: {
      a: 1
    }
  },
  d: function() {
    console.log('hello world')
  },
  e: [1, 2, 3]
}
let targetObj = deepClone(sourceObj, {})
targetObj.c.b.a = 9
console.log(sourceObj)
console.log(targetObj)
</code></pre></div><p>运行结果：
<img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/10/24/16dfe495c12012eb~tplv-t2oaga2asx-zoom-in-crop-mark:3024:0:0:0.awebp" alt="cmd-markdown-logo"></p> <h3 id="json-parse-json-stringify"><a href="#json-parse-json-stringify" class="header-anchor">#</a> Json.parse(Json.Stringify())</h3> <p>JSON.stringify():把一个js对象序列化为一个JSON字符串</p> <p>JSON.parse():把JSON字符串反序列化为一个js对象</p> <div class="language- extra-class"><pre class="language-text"><code>const arr9 = [
    1,
    {
      username:'ming',
    },
  ];
  let arr10 = JSON.parse(JSON.stringify(arr9));
  arr10[0]=2;
  arr10[1].username='meng';
  console.log(arr9);
  console.log(arr10);
</code></pre></div><p>运行结果：
<img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/10/24/16dfddcd3e9a4e11~tplv-t2oaga2asx-zoom-in-crop-mark:3024:0:0:0.awebp" alt="cmd-markdown-logo"></p> <div class="language- extra-class"><pre class="language-text"><code>let obj = {
    name: 'ming',
    age: 20,
    friend: {
      name: 'ming1',
      age: 19
    }
  };
  let copyObj = JSON.parse(JSON.stringify(obj));
  obj.name = 'meng';
  obj.friend.name = 'meng1';
  console.log(obj);
  console.log(copyObj);
</code></pre></div><p>运行结果：
<img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/10/24/16dfddee8c1b6ea1~tplv-t2oaga2asx-zoom-in-crop-mark:3024:0:0:0.awebp" alt="cmd-markdown-logo"></p> <h3 id="函数库lodash"><a href="#函数库lodash" class="header-anchor">#</a> 函数库Lodash</h3> <p>Lodash作为JavaScript函数库/工具库，它里面有非常好用的封装好的功能</p> <div class="language- extra-class"><pre class="language-text"><code>var _= require('lodash');
const obj1 = [
  1,
  'Hello!',
  { name:'ming1' },
  [
    {
      name:'meng1',
    }
  ],
]
const obj2 = _.cloneDeep(obj1);
obj2[0] = 2;
obj2[1] = 'Hi!';
obj2[2].name = 'ming2'
obj2[3][0].name = 'meng2';
console.log(obj1);
console.log(obj2);
</code></pre></div><p>运行结果：
<img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/10/24/16dfde266348cf95~tplv-t2oaga2asx-zoom-in-crop-mark:3024:0:0:0.awebp" alt="cmd-markdown-logo"></p></div> <div class="page-edit"><!----> <!----></div> <!----> </div> <!----></div></div>
    <script src="/assets/js/app.baeebc12.js" defer></script><script src="/assets/js/43.f8fa8e4a.js" defer></script>
  </body>
</html>
