<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>vue饿了么项目总结 | ming的个人网站</title>
    <meta name="description" content="Welcome to come to my blog">
    <meta name="generator" content="VuePress 1.3.0">
    
    
    <link rel="preload" href="/assets/css/0.styles.70f2d267.css" as="style"><link rel="preload" href="/assets/js/app.f3f0b164.js" as="script"><link rel="preload" href="/assets/js/2.284f78c8.js" as="script"><link rel="preload" href="/assets/js/16.3f82f6aa.js" as="script"><link rel="prefetch" href="/assets/js/10.d3bd6822.js"><link rel="prefetch" href="/assets/js/11.7be908fe.js"><link rel="prefetch" href="/assets/js/12.71222861.js"><link rel="prefetch" href="/assets/js/13.0e9f2f34.js"><link rel="prefetch" href="/assets/js/14.70e31408.js"><link rel="prefetch" href="/assets/js/15.8e83af5f.js"><link rel="prefetch" href="/assets/js/17.9c893c24.js"><link rel="prefetch" href="/assets/js/18.8ce12f88.js"><link rel="prefetch" href="/assets/js/19.4539c1e6.js"><link rel="prefetch" href="/assets/js/20.8d6b15a2.js"><link rel="prefetch" href="/assets/js/21.aa90be3e.js"><link rel="prefetch" href="/assets/js/22.0741e8cf.js"><link rel="prefetch" href="/assets/js/23.26e38199.js"><link rel="prefetch" href="/assets/js/24.437832b0.js"><link rel="prefetch" href="/assets/js/25.3ac7a3f9.js"><link rel="prefetch" href="/assets/js/26.f3036c64.js"><link rel="prefetch" href="/assets/js/27.85d3ca2e.js"><link rel="prefetch" href="/assets/js/28.f59e28e7.js"><link rel="prefetch" href="/assets/js/29.74627ca0.js"><link rel="prefetch" href="/assets/js/3.c17543fc.js"><link rel="prefetch" href="/assets/js/30.7b42eae2.js"><link rel="prefetch" href="/assets/js/31.9c88f4b6.js"><link rel="prefetch" href="/assets/js/32.3302434b.js"><link rel="prefetch" href="/assets/js/33.bd99df5c.js"><link rel="prefetch" href="/assets/js/34.a20acac1.js"><link rel="prefetch" href="/assets/js/35.d2d4f756.js"><link rel="prefetch" href="/assets/js/36.18286c43.js"><link rel="prefetch" href="/assets/js/37.84831a8a.js"><link rel="prefetch" href="/assets/js/38.ce143c7c.js"><link rel="prefetch" href="/assets/js/39.11e44bd7.js"><link rel="prefetch" href="/assets/js/4.24ba765a.js"><link rel="prefetch" href="/assets/js/40.cb8f8018.js"><link rel="prefetch" href="/assets/js/41.f6a28df9.js"><link rel="prefetch" href="/assets/js/42.fbd48b3c.js"><link rel="prefetch" href="/assets/js/43.131d6d97.js"><link rel="prefetch" href="/assets/js/44.2c119204.js"><link rel="prefetch" href="/assets/js/45.198a5b50.js"><link rel="prefetch" href="/assets/js/46.c2f0e139.js"><link rel="prefetch" href="/assets/js/47.71dfa535.js"><link rel="prefetch" href="/assets/js/48.cb8ad619.js"><link rel="prefetch" href="/assets/js/49.cbeee829.js"><link rel="prefetch" href="/assets/js/5.e87ba801.js"><link rel="prefetch" href="/assets/js/50.ff87b9b9.js"><link rel="prefetch" href="/assets/js/51.8943f310.js"><link rel="prefetch" href="/assets/js/52.f08a077e.js"><link rel="prefetch" href="/assets/js/53.5b096969.js"><link rel="prefetch" href="/assets/js/54.39e8487d.js"><link rel="prefetch" href="/assets/js/55.581e549d.js"><link rel="prefetch" href="/assets/js/56.d60cbfa0.js"><link rel="prefetch" href="/assets/js/6.b35a0751.js"><link rel="prefetch" href="/assets/js/7.aa04d747.js"><link rel="prefetch" href="/assets/js/8.2805aa08.js"><link rel="prefetch" href="/assets/js/9.2159abe2.js">
    <link rel="stylesheet" href="/assets/css/0.styles.70f2d267.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">ming的个人网站</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/page13/page1/" class="nav-link">
  前端技术
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="个人文章" class="dropdown-title"><span class="title">个人文章</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://segmentfault.com/u/helloxiaoming" target="_blank" rel="noopener noreferrer" class="nav-link external">
  segmentfault
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <a href="https://github.com/shifengming" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/page13/page1/" class="nav-link">
  前端技术
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="个人文章" class="dropdown-title"><span class="title">个人文章</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://segmentfault.com/u/helloxiaoming" target="_blank" rel="noopener noreferrer" class="nav-link external">
  segmentfault
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <a href="https://github.com/shifengming" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>HTML</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>CSS3</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JavaScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JQuery</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ES6</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Vue</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>React</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>小程序</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Github</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Http请求</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Ajax</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Webpack</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>项目</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/page13/vue_element电商后台管理系统总结.html" class="sidebar-link">Vue_element电商后台管理系统总结</a></li><li><a href="/page13/vue去哪儿项目总结.html" class="sidebar-link">vue去哪儿项目总结</a></li><li><a href="/page13/vue饿了么项目总结.html" class="active sidebar-link">vue饿了么项目总结</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#简介" class="sidebar-link">简介</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#课程安排" class="sidebar-link">课程安排</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#项目地址" class="sidebar-link">项目地址</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#项目截图" class="sidebar-link">项目截图</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#项目结构" class="sidebar-link">项目结构</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#项目目录" class="sidebar-link">项目目录</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#搭建vue的运行环境" class="sidebar-link">搭建Vue的运行环境</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#better-scroll" class="sidebar-link">better-scroll</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#分开设置css样式" class="sidebar-link">分开设置css样式</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#sticky-footer布局" class="sidebar-link">sticky-footer布局</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#要求自适应布局" class="sidebar-link">要求自适应布局</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#背景模糊效果" class="sidebar-link">背景模糊效果</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#transition过渡" class="sidebar-link">transition过渡</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#seller组件" class="sidebar-link">seller组件</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#缓存数据" class="sidebar-link">缓存数据</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#goods-ratings-seller组件之间切换时会重新渲染" class="sidebar-link">goods,ratings,seller组件之间切换时会重新渲染</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#vue-router" class="sidebar-link">vue-router</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#axios" class="sidebar-link">axios</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#组件间通讯" class="sidebar-link">组件间通讯</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#组件提取管理" class="sidebar-link">组件提取管理</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#打开app应用，默认显示-goods-页面内容" class="sidebar-link">打开app应用，默认显示 goods 页面内容</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#关于eslint" class="sidebar-link">关于ESlint</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#手机访问项目" class="sidebar-link">手机访问项目</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#近年来前端开发趋势" class="sidebar-link">近年来前端开发趋势</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#mvvm框架" class="sidebar-link">MVVM框架</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#什么是vuejs及vuejs生态" class="sidebar-link">什么是Vuejs及Vuejs生态</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#对比angular、react" class="sidebar-link">对比Angular、React</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#vue-js核心思想" class="sidebar-link">Vue.js核心思想</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#vue-cli介绍" class="sidebar-link">Vue-cli介绍</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#vue-cli安装" class="sidebar-link">Vue-cli安装</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#项目文件介绍" class="sidebar-link">项目文件介绍</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#项目运行" class="sidebar-link">项目运行</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#webpack打包" class="sidebar-link">webpack打包</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#需求分析" class="sidebar-link">需求分析</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#项目资源准备" class="sidebar-link">项目资源准备</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#图标字体制作" class="sidebar-link">图标字体制作</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#项目目录设计" class="sidebar-link">项目目录设计</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#mock数据-模拟后台数据" class="sidebar-link">mock数据(模拟后台数据)</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#组件拆分-上" class="sidebar-link">组件拆分(上)</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#组件拆分-中" class="sidebar-link">组件拆分(中)</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#组件拆分-下" class="sidebar-link">组件拆分(下)</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#vue-router-上" class="sidebar-link">vue-router(上)</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#vue-router-下" class="sidebar-link">vue-router(下)</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#_1像素border实现" class="sidebar-link">1像素border实现</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#vue-resourse应用-上" class="sidebar-link">vue-resourse应用(上)</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#vue-resourse应用-下" class="sidebar-link">vue-resourse应用(下)</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#外边组件-1" class="sidebar-link">外边组件(1)</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#外边组件-2" class="sidebar-link">外边组件(2)</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#外边组件-3" class="sidebar-link">外边组件(3)</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#外部组件-4" class="sidebar-link">外部组件(4)</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#外边组件-5" class="sidebar-link">外边组件(5)</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#外边组件" class="sidebar-link">外边组件</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#实现弹出层" class="sidebar-link">实现弹出层</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#css-sticky-footer" class="sidebar-link">CSS Sticky footer</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#star组件抽象-上" class="sidebar-link">star组件抽象(上)</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#star组件抽象-下" class="sidebar-link">star组件抽象(下)</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#star组件使用" class="sidebar-link">star组件使用</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#小标题自适应经典flex布局实现" class="sidebar-link">小标题自适应经典flex布局实现</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#header剩余组件实现-上" class="sidebar-link">header剩余组件实现(上)</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#header剩余组件实现-下" class="sidebar-link">header剩余组件实现(下)</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#布局编写" class="sidebar-link">布局编写</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#左侧布局" class="sidebar-link">左侧布局</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#右侧食品列表布局" class="sidebar-link">右侧食品列表布局</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#右侧食品列表布局-2" class="sidebar-link">右侧食品列表布局(2)</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#右侧食品列表布局-3" class="sidebar-link">右侧食品列表布局(3)</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#better-scroll运用-1" class="sidebar-link">better-scroll运用(1)</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#better-scroll运用-2" class="sidebar-link">better-scroll运用(2)</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#better-scroll运用-3" class="sidebar-link">better-scroll运用(3)</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#shopcart购物车组件-1" class="sidebar-link">shopcart购物车组件(1)</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#shopcart购物车组件-2" class="sidebar-link">shopcart购物车组件(2)</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#shopcart购物车组件-3" class="sidebar-link">shopcart购物车组件(3)</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#shopcart购物车组件-4" class="sidebar-link">shopcart购物车组件(4)</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#shopcart购物车组件-5" class="sidebar-link">shopcart购物车组件(5)</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#shopcart购物车组件-6" class="sidebar-link">shopcart购物车组件(6)</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#curtconcontrol组件-1" class="sidebar-link">curtconcontrol组件(1)</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#curtconcontrol组件-2" class="sidebar-link">curtconcontrol组件(2)</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#curtconcontrol组件-3" class="sidebar-link">curtconcontrol组件(3)</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#购物车小球动画实现-1" class="sidebar-link">购物车小球动画实现(1)</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#购物车小球动画实现-2" class="sidebar-link">购物车小球动画实现(2)</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#购物车小球动画实现-3" class="sidebar-link">购物车小球动画实现(3)</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#购物车详情页-1" class="sidebar-link">购物车详情页(1)</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#购物车详情页-2" class="sidebar-link">购物车详情页(2)</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#购物车详情页-3" class="sidebar-link">购物车详情页(3)</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#购物车详情页-4" class="sidebar-link">购物车详情页(4)</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#商品详情页实现" class="sidebar-link">商品详情页实现</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#split组件实现" class="sidebar-link">split组件实现</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#ratingselect组件" class="sidebar-link">ratingselect组件</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#评价列表" class="sidebar-link">评价列表</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#ratings组件开发" class="sidebar-link">ratings组件开发</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#seller组件开发" class="sidebar-link">seller组件开发</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#项目打包" class="sidebar-link">项目打包</a></li><li class="sidebar-sub-header"><a href="/page13/vue饿了么项目总结.html#参考资料" class="sidebar-link">参考资料</a></li></ul></li><li><a href="/page13/react_antd后台管理系统总结.html" class="sidebar-link">react_antd后台管理系统总结</a></li><li><a href="/page13/vue音乐项目总结.html" class="sidebar-link">vue音乐项目总结</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="vue饿了么项目总结"><a href="#vue饿了么项目总结" class="header-anchor">#</a> vue饿了么项目总结</h1> <h2 id="简介"><a href="#简介" class="header-anchor">#</a> 简介</h2> <ul><li>Vue.js是当前最火的MVVM框架</li> <li>Vue.js是轻量、简洁、高效、数据驱动、组件化</li> <li>高仿上线外卖App标准来开发</li></ul> <h3 id="步骤"><a href="#步骤" class="header-anchor">#</a> 步骤</h3> <ul><li>需求分享</li> <li>脚手架工具</li> <li>数据mock</li> <li>架构设计</li> <li>代码编写</li> <li>自测</li> <li>编译打包</li></ul> <h3 id="代码开发及测试环节"><a href="#代码开发及测试环节" class="header-anchor">#</a> 代码开发及测试环节</h3> <ul><li>UI标注</li> <li>真实数据演示</li></ul> <h3 id="代码规范"><a href="#代码规范" class="header-anchor">#</a> 代码规范</h3> <ul><li>架构设计</li> <li>组件抽象</li> <li>模块拆分</li> <li>代码风格统一</li> <li>JS变量命名规范</li> <li>CSS代码规范</li></ul> <h3 id="功能技术分析"><a href="#功能技术分析" class="header-anchor">#</a> 功能技术分析</h3> <ul><li>前端vue-router</li> <li>后端vue-resource</li> <li>第三方js库better-scroll</li> <li>最大程度组件化</li> <li>html5的localstorage</li> <li>图标字体的使用</li> <li>移动端1像素边框</li> <li>css sticky footer布局</li> <li>flex弹性布局</li></ul> <h3 id="前置知识"><a href="#前置知识" class="header-anchor">#</a> 前置知识</h3> <ul><li>HTML</li> <li>JavaScript</li> <li>ES6</li> <li>CSS</li></ul> <h2 id="课程安排"><a href="#课程安排" class="header-anchor">#</a> 课程安排</h2> <h3 id="学习目标"><a href="#学习目标" class="header-anchor">#</a> 学习目标</h3> <ul><li>掌握Vue.js在实战中的运用</li> <li>学会使用Vue.js完整地开发移动端App</li> <li>学会组件化、模块化开发方式</li></ul> <h3 id="学习内容"><a href="#学习内容" class="header-anchor">#</a> 学习内容</h3> <ul><li>Vue.js框架介绍</li> <li>Vue-cli脚手架  搭建基本代码框架</li> <li>Vue-router官方插件管理路由</li> <li>Vue-resource  Ajax通信</li> <li>Webpack构建工具</li> <li>es6+eslink  eslink:es6代码风格检查工具</li> <li>工程化</li> <li>组件化</li> <li>模块化</li></ul> <h3 id="移动端常用地开发技巧"><a href="#移动端常用地开发技巧" class="header-anchor">#</a> 移动端常用地开发技巧</h3> <ul><li>flex弹性布局</li> <li>css stickyfooter</li> <li>酷炫交互设计</li></ul> <h2 id="项目地址"><a href="#项目地址" class="header-anchor">#</a> 项目地址</h2> <div class="language- extra-class"><pre class="language-text"><code>https://github.com/shifengming/sell
</code></pre></div><h2 id="项目截图"><a href="#项目截图" class="header-anchor">#</a> 项目截图</h2> <p><img src="http://r.photo.store.qq.com/psc?/V121VjTP2yfy1N/uMeul31pGB4ZvQm8Ou4xcZ6oX.Jtp4UBj7ihdUEYP.xKSJXRLqwAGaRD1gkJoFwOtSnXlT5hIk5Hwhw.TywAs6wWiFJttWCWoGpBRc8Ml5w!/r" alt=""></p> <p><img src="http://r.photo.store.qq.com/psc?/V121VjTP2yfy1N/uMeul31pGB4ZvQm8Ou4xcU0nadIy94pdq7GGuqUAnsKBbthJTOfd6oNZ1eeyB4.qUpO7k2AAyi4OwERizcv594h4jb19u0LOqP7r5CcFhD0!/r" alt=""></p> <p><img src="http://r.photo.store.qq.com/psc?/V121VjTP2yfy1N/uMeul31pGB4ZvQm8Ou4xcbXNEe7LPzTtcrWH3*Ll*NBRd0gSQ2seuMB2GX5vCIVlZ2q4*aJL1.Zin.aCYYl0OkXExT7niEtJRjER*GGmViw!/r" alt=""></p> <p><img src="http://r.photo.store.qq.com/psc?/V121VjTP2yfy1N/uMeul31pGB4ZvQm8Ou4xcQ1lD.jubaUtEFtkb0x6E5UMwlCG0Nk1bbAFrv2tdkD73V3jKYBYKj6M1.NxLrG2BA4govnod9UgnUhZsGl4UeU!/r" alt=""></p> <p><img src="http://r.photo.store.qq.com/psc?/V121VjTP2yfy1N/uMeul31pGB4ZvQm8Ou4xceDyzFmEcSf4NypEGp2VayEWtxxKKeHcaA*YGK*dpUMO2AGuIco.D0XLv7GceRqNHA9M.hfid4zSs9hjaEpH.KM!/r" alt=""></p> <p><img src="http://r.photo.store.qq.com/psc?/V121VjTP2yfy1N/uMeul31pGB4ZvQm8Ou4xccuWjmnxsb7PZb61Uqr28VpRrHLRmbcHisJdz7d.Xt75tybA1yVEteQwYja.jfAyEtmJkEQNSaWzIqJiXQN8EmE!/r" alt=""></p> <p><img src="http://r.photo.store.qq.com/psc?/V121VjTP2yfy1N/uMeul31pGB4ZvQm8Ou4xcSgqi7TCFQ.bJiozpe5aMLQsEmVaaSh*iHUpQA4W2xBosr2EVW2u7f.PDvKYS3Ci58SUbeVLwEFPwhc7NLf2THw!/r" alt=""></p> <p><img src="http://r.photo.store.qq.com/psc?/V121VjTP2yfy1N/uMeul31pGB4ZvQm8Ou4xcdPJ8T5vbScWz6TaUG73xieB8g65IQokds1EZOMSRpLT9LaOn7yi*QopEQdpgoZJ6yv6RziiMBWWKZeDGlfmP7M!/r" alt=""></p> <h2 id="项目结构"><a href="#项目结构" class="header-anchor">#</a> 项目结构</h2> <div class="language- extra-class"><pre class="language-text"><code>common文件夹存放的是通用的css和fonts
componets文件夹用来存放Vue组件
router文件夹存放Vue组件
build文件是webpack的打包编译配置文件
config文件夹存放的是一些配置项，比如我们服务器访问的端口配置等
dist该文件一开始是不存放，在项目经过build之后才会生成
Prod.server.js该文件是测试模拟的服务器配置，用来运行dist里面的文件
config/index.js中，build对象中添加一条端口设置port:9000
App.vue根组件，所有的子组件都将在这里被引用
Index.html整个项目的入口文件，将会引用我们的根组件App.vue
Main.js入口文件的js逻辑，在webpack打包之后将被注入到index.html
</code></pre></div><h2 id="项目目录"><a href="#项目目录" class="header-anchor">#</a> 项目目录</h2> <div class="language- extra-class"><pre class="language-text"><code>header.vue头部组件
star.vue星星评分组件
goods.vue商品组件
shopcart.vue购物车组件，包括小球飞入购物车动画
cartcontrol.vue购买加减图标控件--选中数量返回给父组件goods,goods响应后，重新计算选中的数量，将数据发送给购物车组件
food.vue商品详情页
ratingselect.vue评论内容筛选组件
ratings.vue评论组件
seller.vue商家组件
split.vue关于分割线组件
</code></pre></div><h2 id="搭建vue的运行环境"><a href="#搭建vue的运行环境" class="header-anchor">#</a> 搭建Vue的运行环境</h2> <p>1，首先是安装node</p> <p>端开发框架和环境都是需要Node.js，先安装node.js开发环境，vue的运行是依赖于node的npm的管理工具来实现的，下载地址(https://nodejs.org/en/)</p> <p>2，查看node的版本号</p> <p>下载好node之后，打开cmd管理工具，输入node -v，回车，查看node版本号，出现版本号则说明安装成功</p> <div class="language- extra-class"><pre class="language-text"><code>node -v
</code></pre></div><p>3，安装淘宝npm镜像</p> <p>由于npm是国外的，使用起来比较慢，这里使用淘宝cnpm镜像来安装vue，淘宝的cnpm命令管理工具可以代替默认的npm管理工具</p> <div class="language- extra-class"><pre class="language-text"><code>$ npm install -g cnpm --registry=https://registry.npm.taobao.org
</code></pre></div><p>4，安装全局vue-cli脚手架</p> <p>淘宝镜像安装之后，我们就可以全局vue-cli脚手架，输入命令:cnpm install -g  vue-cli回车；验证是否安装成功，在命令输入vue,出来vue的信息，及说明安装成功</p> <div class="language- extra-class"><pre class="language-text"><code>cnpm install -g vue-cli
</code></pre></div><p>5，初始化项目</p> <div class="language- extra-class"><pre class="language-text"><code>Vue init webpack demo
</code></pre></div><p>(demo指的是你新建的项目名称/文件名称)</p> <p>6，运行项目</p> <div class="language- extra-class"><pre class="language-text"><code>npm run dev
</code></pre></div><p>然后就会出来http://localhost:8080 把这个网址复制到浏览器中打开</p> <p>7，发布代码</p> <div class="language- extra-class"><pre class="language-text"><code>npm run build
</code></pre></div><p>发布完代码后会生成dist目录，保存着项目的所有可运行的代码</p> <h2 id="better-scroll"><a href="#better-scroll" class="header-anchor">#</a> better-scroll</h2> <p>Better-scroll可能是目前最好用的移动端滚动插件
插件在移动端使用时需要设置 click：true，否则移动端滑动无效</p> <h2 id="分开设置css样式"><a href="#分开设置css样式" class="header-anchor">#</a> 分开设置css样式</h2> <p>1，图标icon.css--文字图标样式，通过icomoon.io网站，将svg图片转成文字图标样式</p> <p>2，公共base.css--处理设备像素比的一些样式，针对border-1px问题，不同设备像素比，显示的线条粗细不同</p> <p>3，工具mixin.css--设备border-1px样式和背景样式</p> <h2 id="sticky-footer布局"><a href="#sticky-footer布局" class="header-anchor">#</a> sticky-footer布局</h2> <p>在这个项目的header组件的详情页采用stick-footer布局</p> <p>特点：如果页面内容不够长，页脚块粘贴在视窗底部；
如果内容足够长，页脚块会被内容向下推送</p> <p>实现：父级 position:fixed，内容设为padding-bottom:64px，页脚相对定位，margin-top:-64px，clear:both为了保证兼容性，父级要清除浮动</p> <p><img src="https://user-gold-cdn.xitu.io/2019/8/30/16ce2d89d4c20c42?w=649&amp;h=615&amp;f=png&amp;s=54789" alt="cmd-markdown-logo"></p> <p>参考：https://www.jianshu.com/p/3853024d5838</p> <h2 id="要求自适应布局"><a href="#要求自适应布局" class="header-anchor">#</a> 要求自适应布局</h2> <p>1，左侧宽度固定，右侧宽度自适应</p> <p>左侧固定width：80px，右侧自适应</p> <div class="language- extra-class"><pre class="language-text"><code>parent:
    display:fiexd;
child-left:
    flex:0 0 80px
child-right:
flex:1
</code></pre></div><p>2，元素宽度自适应设备宽度，且元素要求等宽高样式</p> <p>商品详情页面的商品图片展示样式</p> <div class="language- extra-class"><pre class="language-text"><code>.img_header {
    position:relative
    width:100% // width是 设备宽度
    height:0
    padding-top:100% // 高度设为0,使用padding撑开
    .img {
        position:absolute //定位布局
        top:0
        left:0
        width:100%
        height:100%
    }
}
</code></pre></div><h2 id="背景模糊效果"><a href="#背景模糊效果" class="header-anchor">#</a> 背景模糊效果</h2> <p>filter：blur(10px)</p> <p>注意，所有在内的子元素也会模糊，包括文字，所以采用定位布局，背景单独占用一个层，ios有一个设置backdrop-filter:blur(10px)，只会模糊背景,但不支持android</p> <p><img src="https://user-gold-cdn.xitu.io/2019/8/30/16ce2eda0436b32c?w=570&amp;h=436&amp;f=png&amp;s=44004" alt="cmd-markdown-logo"></p> <h2 id="transition过渡"><a href="#transition过渡" class="header-anchor">#</a> transition过渡</h2> <p>在购买控件中使用transition过渡效果，实现添加减少按钮的动效，和小球飞入购物车的动效（模仿贝塞尔曲线的效果）</p> <p>name-String用于自动生成css过渡类名</p> <p>name: 'fade' 将自动拓展为.fade-enter，.fade-enter-active等。默认类名为 &quot;v&quot;</p> <div class="language- extra-class"><pre class="language-text"><code>fade-enter
fade-enter-active
fade-leave
fade-leave-active
</code></pre></div><h2 id="seller组件"><a href="#seller组件" class="header-anchor">#</a> seller组件</h2> <p>问题一：seller页面中商品商家实景图片横向滚动</p> <p>解决方案：每个 li 要 display：inline-block，因为width不会自动撑开父级ul，所以需要将计算后的宽度赋值给ul的width，（每一张图片的width+margin）*图片数量-一个margin，因为最后一张图片没有margin</p> <p>同时new BScroll里面要设置scrollX: true,eventPassthrough: 'vertical', // 滚动方向横向</p> <p><img src="https://user-gold-cdn.xitu.io/2019/8/31/16ce757c3e903f3e?w=733&amp;h=333&amp;f=png&amp;s=40745" alt="cmd-markdown-logo"></p> <p>问题二：打开seller页面，无法滚动</p> <p>问题分析：出现这种现象是因为better-scroll插件是严格基于DOM的，数据是采用异步传输的，页面刚打开，DOM并没有被渲染，所以，要确保DOM渲染了，才能使用 better-scroll，</p> <p>解决方案：用到mounted钩子函数，同时必须搭配this.$nextTick()</p> <p><img src="https://user-gold-cdn.xitu.io/2019/8/31/16ce75f9161ed206?w=821&amp;h=480&amp;f=png&amp;s=53795" alt="cmd-markdown-logo">
问题三：在seller页面，刷新后，无法滚动</p> <p>问题分析：出现这种情况是因为mounted函数在整个生命周期中只会只行一次</p> <p>解决方案：使用watch方法监控数据变化，并执行滚动函数 this._initScroll();this._initPicScroll();</p> <h2 id="缓存数据"><a href="#缓存数据" class="header-anchor">#</a> 缓存数据</h2> <div class="language- extra-class"><pre class="language-text"><code>//将页面信息保存到localStorage里
export function saveToLocal(id, key, value) {
  let seller = window.localStorage.__seller__;//新定义一个key值_store_,存放要保存的数据对象
  if (!seller) { // 不存在Seller
    seller = {};
    seller[id] = {};
  } else {
    seller = JSON.parse(seller);//string格式--&gt;json格式
    if (!seller[id]) {
      seller[id] = {};
    }
  }
  seller[id][key] = value;
  window.localStorage.__seller__ = JSON.stringify(seller);//将json格式转成String格式，存放到window.localStorage._store中
};


//将localStorage信息设置到页面中
export function loadFromLocal(id, key, def) {
  let seller = window.localStorage.__seller__;
  if (!seller) {//开始是没有的，因为没有点击事件，所以显示默认数据
    return def;
  }
  seller = JSON.parse(seller)[id];//将json格式--&gt;String格式
  if (!seller) {
    return def;
  }
  let ret = seller[key];
  return ret || def;
};
</code></pre></div><h2 id="goods-ratings-seller组件之间切换时会重新渲染"><a href="#goods-ratings-seller组件之间切换时会重新渲染" class="header-anchor">#</a> goods,ratings,seller组件之间切换时会重新渲染</h2> <p>在 app.vue 内使用 keep-alive，保留各组件状态，避免重新渲染</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;keep-alive&gt;
    &lt;router-view :seller=&quot;seller&quot;&gt;&lt;/router-view&gt;
&lt;/keep-alive&gt;
</code></pre></div><h2 id="vue-router"><a href="#vue-router" class="header-anchor">#</a> vue-router</h2> <div class="language- extra-class"><pre class="language-text"><code>使用&lt;router-link&gt;组件完成导航，&lt;router-link&gt; 默认会被渲染成一个 &lt;a&gt; 标签，但必须使用 to属性，指定连接
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>// app.vue
 &lt;!-- 导航 --&gt;
&lt;router-link to=&quot;/home&quot;&gt;home&lt;/router-link&gt;
&lt;router-link to=&quot;/about&quot;&gt;about&lt;/router-link&gt;

&lt;!-- 路由出口 组件渲染容器 --&gt;
&lt;router-view&gt;&lt;/router-view&gt;
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>// router: index.js

import Vue from 'vue';
import Router from 'vue-router';
import goods from 'components/goods/goods.vue';
import ratings from 'components/ratings/ratings.vue';
import seller from 'components/seller/seller.vue';

Vue.use(Router);

const routes = [{
  path: '/',
  redirect: '/goods'
}, {
  path: '/goods',
  component: goods
}, {
  path: '/ratings',
  component: ratings
}, {
  path: '/seller',
  component: seller
}];
</code></pre></div><h2 id="axios"><a href="#axios" class="header-anchor">#</a> axios</h2> <p>在vue1.x的时候，vue的官方推荐HTTP请求工具是vue-resource，但是在vue2.0的时候将推荐工具改成了axios</p> <h2 id="组件间通讯"><a href="#组件间通讯" class="header-anchor">#</a> 组件间通讯</h2> <p>vue是组件式开发，所以组件间通讯是必不可少的</p> <ul><li><p>父传子: props</p></li> <li><p>子传父: $emit</p></li> <li><p>兄弟通讯</p> <div class="language- extra-class"><pre><code>event bus: 利用一个中间组件来作为信息传递中介
   
vuex: 信息树
</code></pre></div><p>父传子: props</p></li></ul> <blockquote><p>子组件定义 props 来接受父组件传递来的数据对象</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>// 父组件
&lt;v-header :seller=&quot;seller&quot;&gt;&lt;/v-header&gt;

// 子组件 header.vue
props: {
  seller: {
    type: Object
  }
}
</code></pre></div><p>子传父: $emit</p> <blockquote><p>如果是子组件想传递数据给父组件，需要派发自定义事件，使用 $emit 派发</p></blockquote> <p>父组件使用v-on接收监控（v-on可以简写成@）</p> <div class="language- extra-class"><pre class="language-text"><code>// 子组件 ratingSelect.vue，派发自定义事件select，将type数据传给父级
this.$emit('select', type);
this.$emit('toggle', this.onlyContent2);


// 父组件 food.vue 在子组件的模板标签里，使用v-on监控toggleContent传过来的数据
&lt;ratingselect @select=&quot;selectRating&quot; @toggle=&quot;toggleContent&quot;&gt;&lt;/ratingselect&gt;
</code></pre></div><p>非父子组件之间通信</p> <p>1，大型项目可以用 Vue官方推荐的vuex</p> <p>2，EventBus</p> <p>3，子组件A $emit 派发具体事件，由父组件 @ 监听得到数据</p> <p>父组件再利用 $refs 直接访问子组件B的方法，间接实现数据从子组件A传递至子组件B</p> <hr> <h2 id="组件提取管理"><a href="#组件提取管理" class="header-anchor">#</a> 组件提取管理</h2> <p>将相同样式或功能的区块单独提出来，作为一个组件。
另外组件中用到的图片等资源就近维护，即可以考虑在组件文件夹中新建images文件夹。</p> <p>抽离组件遵循原则：
要尽量遵循单一职责原则，复用性更高，不要设置额外的margin等影响布局的东西</p> <hr> <h2 id="打开app应用，默认显示-goods-页面内容"><a href="#打开app应用，默认显示-goods-页面内容" class="header-anchor">#</a> 打开app应用，默认显示 goods 页面内容</h2> <p>想默认显示goods页面内容，有两种方法，一种是利用重定向，另一种是利用vue-router的导航式编程</p> <p>1，重定向</p> <div class="language- extra-class"><pre class="language-text"><code>  routes: [
    {
      path: '/',
      redirect: '/goods'  //重定向
    },
    {
      path: '/goods',
      name: 'goods',
      component: goods
    },{
      path: '/ratings',
      name: 'ratings',
      component: ratings
    },{
      path: '/seller',
      name: 'seller',
      component: seller
    }
  ]
</code></pre></div><p>2，导航式编程</p> <div class="language- extra-class"><pre class="language-text"><code>router.push('/Goods');
</code></pre></div><hr> <h2 id="关于eslint"><a href="#关于eslint" class="header-anchor">#</a> 关于ESlint</h2> <p>eslint 是一个js代码风格检查器，配合vue-cli脚手架中的热更新，可以很方便的定位和提示错误。在公司多人协作开发时可以确保代码风格保持一致，可以很方便的阅读他人的代码</p> <h2 id="手机访问项目"><a href="#手机访问项目" class="header-anchor">#</a> 手机访问项目</h2> <p>1、在config文件夹中的index.js中的host选项，将本地localhost改为0.0.0.0
<img src="https://user-gold-cdn.xitu.io/2019/9/1/16ceb8a944882ac5?w=749&amp;h=329&amp;f=png&amp;s=44151" alt="cmd-markdown-logo">
2、在cmd中输入ipconfig查看本地IP,
<img src="https://user-gold-cdn.xitu.io/2019/9/1/16ceb8afe0aa9127?w=678&amp;h=440&amp;f=png&amp;s=18845" alt="cmd-markdown-logo"></p> <p>4、端口号访问(http://192.168.0.110:8080),将这个网址复制到网页版“草料二维码”中，用QQ扫码访问即可</p> <h1 id="vue-js介绍"><a href="#vue-js介绍" class="header-anchor">#</a> Vue.js介绍</h1> <h2 id="近年来前端开发趋势"><a href="#近年来前端开发趋势" class="header-anchor">#</a> 近年来前端开发趋势</h2> <ul><li>旧浏览器逐渐被淘汰，移动端需求增加(旧浏览器指的是IE6到IE8，不支持ES5的特性)</li> <li>IE9、Chrome、safari、firefox是支持ES5的特性的</li> <li>前端交互越来越多，功能越来越复杂</li> <li>高大上的技术库和框架</li> <li>酷炫的运营活动页面</li> <li>H5小游戏</li> <li>架构从传统后台MVC向REST API+前端MV*迁移</li> <li>MV包括了MVC、MVP、MVVM框架</li></ul> <h2 id="mvvm框架"><a href="#mvvm框架" class="header-anchor">#</a> MVVM框架</h2> <ul><li>Model指的是数据部分，对应到前端就是Javascript对象</li> <li>View指的是视图，对应到前端就是DOM</li> <li>通过ViewModel作为通讯，VM作为一个观察者</li> <li>针对具有复杂交互逻辑的前端应用</li> <li>提供基础的架构抽象</li> <li>通过Ajax数据持久化，保证前端用户体验</li> <li>Angular.js也是MVVM框架</li> <li>React.js也是MVVM框架</li> <li>Vue.js也是MVVM框架</li></ul> <h2 id="什么是vuejs及vuejs生态"><a href="#什么是vuejs及vuejs生态" class="header-anchor">#</a> 什么是Vuejs及Vuejs生态</h2> <ul><li>2014年初开源</li> <li>它是一个轻量级MVVM框架</li> <li>数据驱动+组件化前端开发</li> <li>Github超过25k+的star数，社区完善</li></ul> <h2 id="对比angular、react"><a href="#对比angular、react" class="header-anchor">#</a> 对比Angular、React</h2> <ul><li>Vue.js更轻量，gzip后大小只有20k+</li> <li>Vue.js更容易上手，学习曲线平稳</li> <li>吸取两家之长，借鉴了angular的指令和react的组件化</li></ul> <h2 id="vue-js核心思想"><a href="#vue-js核心思想" class="header-anchor">#</a> Vue.js核心思想</h2> <h3 id="数据驱动"><a href="#数据驱动" class="header-anchor">#</a> 数据驱动</h3> <ul><li>DOM是数据的一种自然映射</li> <li>手动触发DOM改变</li></ul> <h3 id="数据响应的原理"><a href="#数据响应的原理" class="header-anchor">#</a> 数据响应的原理</h3> <ul><li>数据(model)改变驱动视图(view)自动更新</li></ul> <h3 id="组件化"><a href="#组件化" class="header-anchor">#</a> 组件化</h3> <ul><li>扩展HTML元素，封装可重用的代码</li></ul> <h3 id="组件设计原则"><a href="#组件设计原则" class="header-anchor">#</a> 组件设计原则</h3> <ul><li>页面上每个独立的可视/可交互区域视为一个组件</li> <li>每个组件对应一个过程目录，组件所需要的各自资源在这个目录下的就近维护</li> <li>页面不过是组件的容器，组件开源嵌套自由组合形成完整的页面</li></ul> <h1 id="vue-cli开启vuejs项目"><a href="#vue-cli开启vuejs项目" class="header-anchor">#</a> vue-cli开启Vuejs项目</h1> <h2 id="vue-cli介绍"><a href="#vue-cli介绍" class="header-anchor">#</a> Vue-cli介绍</h2> <ul><li>Vue-cli是Vue的脚手架工具</li> <li>它能帮我们写好Vue.js基础代码的工具</li> <li>能帮助我们完成 目录结构、本地调试、代码部署、热加载、单元测试</li></ul> <h2 id="vue-cli安装"><a href="#vue-cli安装" class="header-anchor">#</a> Vue-cli安装</h2> <div class="language- extra-class"><pre class="language-text"><code>node -v		//查看node是否安装
npm install -g vue-cli   //安装vue-cli
vue   //运行一下vue命令，查看是否安装
vue list  //可以查看可以用哪些模板
vue init webpack sell  //所以用webpack模板安装，名字为sell
npm install //安装一些依赖
</code></pre></div><h2 id="项目文件介绍"><a href="#项目文件介绍" class="header-anchor">#</a> 项目文件介绍</h2> <ul><li>build目录：webpack配置相关</li> <li>node_modules目录：npm install安装的依赖代码库</li> <li>src目录：存放源码</li> <li>static是存放一些第三方静态资源的文件</li> <li>editorconfig：编译器的配置</li> <li>eslintignore：忽略语法检查的目录文件</li> <li>eslintrc.js：eslint的配置文件</li></ul> <h2 id="项目运行"><a href="#项目运行" class="header-anchor">#</a> 项目运行</h2> <p>主要：</p> <p>如果编辑器用的webstorm，记得要在Preferances里面的JavaScript把es语法改成es6</p> <p>webstorm的自动格式化：</p> <div class="language- extra-class"><pre class="language-text"><code>Command+option+L
Control+alt+L
</code></pre></div><h2 id="webpack打包"><a href="#webpack打包" class="header-anchor">#</a> webpack打包</h2> <p>webpack是当前前端最火的一个构建工具</p> <h1 id="项目实战准备工作"><a href="#项目实战准备工作" class="header-anchor">#</a> 项目实战准备工作</h1> <h2 id="需求分析"><a href="#需求分析" class="header-anchor">#</a> 需求分析</h2> <p><img src="http://r.photo.store.qq.com/psc?/V121VjTP2yfy1N/uMeul31pGB4ZvQm8Ou4xcQBCKY5guNLVyGpQEPf3ID22HZDTrZIbB.GJBgkqYnv4FWsEcqSpN*ROKAVbc8BOjMrV2T5b6TOO3zETgyH73ik!/r" alt=""></p> <p><img src="http://r.photo.store.qq.com/psc?/V121VjTP2yfy1N/uMeul31pGB4ZvQm8Ou4xcem5Gsh9uEvJW8tZeA1hV2Lkz8gVr8UATeP0P5631JH1gLVJUvOSfSDjalEAtlRPz7BAQB3HziWa09qmOzVfs70!/r" alt=""></p> <p><img src="http://r.photo.store.qq.com/psc?/V121VjTP2yfy1N/uMeul31pGB4ZvQm8Ou4xcf2ttQoYd6Gut7mRNGVGhG8R2z0SBcEyW4Yfl32wCwz4n9vLltCXdbELvFq.NmqHEY0T9uFnApTzQMPdqerPVq0!/r" alt=""></p> <p><img src="http://r.photo.store.qq.com/psc?/V121VjTP2yfy1N/uMeul31pGB4ZvQm8Ou4xcdpEKxLKMBcSuMh1*THAm9ZI9o2X0lIYz1.R9XRzmIVO3D4CP6tFWUv*JTKsuXxp1IwhyQDkBSnJd8fFG2AFe78!/r" alt=""></p> <p><img src="http://r.photo.store.qq.com/psc?/V121VjTP2yfy1N/uMeul31pGB4ZvQm8Ou4xcdThFwWjq9p8v*4z6GfLdVT1Z8OfvhLka85uCbk4a*vS7G5Z9RkOQEs0UU*688VMUl4rhOk6PjxCu37EdzkQSh8!/r" alt=""></p> <p><img src="http://r.photo.store.qq.com/psc?/V121VjTP2yfy1N/uMeul31pGB4ZvQm8Ou4xcXqGH37M8JOhrcDkj7RheExuHwVwmjoT6xzO*gMPGVN.aQK4AVX9QrNG0fL1fJIGJMA6dVMDmdWMz7jDMu979.I!/r" alt=""></p> <h2 id="项目资源准备"><a href="#项目资源准备" class="header-anchor">#</a> 项目资源准备</h2> <p>在sell文件夹的根目录下插入resource文件</p> <p><img src="http://r.photo.store.qq.com/psc?/V121VjTP2yfy1N/uMeul31pGB4ZvQm8Ou4xcfD0XUNaCPIAjK*0GtGDEO0xLxEwoEgz7yU8eYF*5DLJLAX0nprb2jvhO*8aEjOI3SFM5eA4SjyTKinHZd5LCIQ!/r" alt=""></p> <h2 id="图标字体制作"><a href="#图标字体制作" class="header-anchor">#</a> 图标字体制作</h2> <div class="language- extra-class"><pre class="language-text"><code>https://icomoon.io/      网址
</code></pre></div><p><img src="http://r.photo.store.qq.com/psc?/V121VjTP2yfy1N/uMeul31pGB4ZvQm8Ou4xceH6S7Sy5vFiZMVJhDlQ7VaBDHntEUvNzQC0bq3r7.UD1X2PY1KQSu4XDFHIYEVlM0y*cMY6Zx.kG8CClsbChRo!/r" alt=""></p> <p><img src="http://r.photo.store.qq.com/psc?/V121VjTP2yfy1N/uMeul31pGB4ZvQm8Ou4xcZbmqutukXtw.8H0knuHWPRLXe67YinIWgXddFfAfgkUNdGAp78wMbLlyWyWzH3E1nTvob9MBgiis67xp6dW9I8!/r" alt=""></p> <p><img src="http://r.photo.store.qq.com/psc?/V121VjTP2yfy1N/uMeul31pGB4ZvQm8Ou4xcRGsd3l3ddxzQ.Tyr3f4UIfpddE5IoK967pxj0xxTgtWyj9fLE4Vo6cfXNeC3n5DtT76vnkPdM2z5RBT0G0wxlo!/r" alt=""></p> <p><img src="http://r.photo.store.qq.com/psc?/V121VjTP2yfy1N/uMeul31pGB4ZvQm8Ou4xcZnaRKjHev*DxoekERyrYohf.zjb9b0R0RcTXblrZuc88tDN0Rmew3h27nAK6X3omkZ5MrF1mBmRXOu5bkwsnbs!/r" alt=""></p> <h2 id="项目目录设计"><a href="#项目目录设计" class="header-anchor">#</a> 项目目录设计</h2> <p><img src="http://r.photo.store.qq.com/psc?/V121VjTP2yfy1N/uMeul31pGB4ZvQm8Ou4xcZh.6I1rFuDnCm62fUSy1QLZvawSmdhSVq.V12.k0UkvkKBuwh1VMYG.GXMMlo2uUdzjxl93QwxWFSqAz33D07Y!/r" alt=""></p> <p><img src="http://r.photo.store.qq.com/psc?/V121VjTP2yfy1N/uMeul31pGB4ZvQm8Ou4xcZeR27.MH9V8oNHg3DdRQy31fvMA0b5S6Il76hrFW7z9hIEetyyQsfuCkbEuGysTkRGBm1V1c*yWVzkQFr1b56w!/r" alt=""></p> <p><img src="http://r.photo.store.qq.com/psc?/V121VjTP2yfy1N/uMeul31pGB4ZvQm8Ou4xcfhjOjpCXDNVLnRPT35cHzGjSZ8P9kOKOY13LdDvhH3VqYiV0KmmMTet5GKxl9uR46qcVAat72o*2qMSACk1lFg!/r" alt=""></p> <p><img src="http://r.photo.store.qq.com/psc?/V121VjTP2yfy1N/uMeul31pGB4ZvQm8Ou4xcYkMMCi.B1jCJvHrszV1MZBwC9vc7*U2rKpPzw7koga6tmMmQZRDXPFHBqCf6o2kzyPsPP*Ho8BviGR8Sy.KdmM!/r" alt=""></p> <p>最后项目目录</p> <p><img src="http://r.photo.store.qq.com/psc?/V121VjTP2yfy1N/uMeul31pGB4ZvQm8Ou4xce*VrYOHzk2Dm692.PU2d7aMVlwMlSWwLdMp0ejMn1Bkbvb623rJDiHh3fcICMJe7DKGcZ15Vh1CbbSuPFPADEc!/r" alt=""></p> <h2 id="mock数据-模拟后台数据"><a href="#mock数据-模拟后台数据" class="header-anchor">#</a> mock数据(模拟后台数据)</h2> <p><img src="http://r.photo.store.qq.com/psc?/V121VjTP2yfy1N/uMeul31pGB4ZvQm8Ou4xceMHK4ZWace4b1Wtd8l6qCsJqxRATorjxuwQTa8.Jovz8ty8RoRiZktHrUxhZLqvqJLi1*6MIYVPtgdNxOz8fU8!/r" alt=""></p> <p>获取后端数据</p> <p><img src="http://r.photo.store.qq.com/psc?/V121VjTP2yfy1N/uMeul31pGB4ZvQm8Ou4xcU02G*zx2W0wXQ8KaAD.87lC9hi1DGdQ24H6JFjBkbJC*ul9F1JC9QlhmpK.26xf9SElORLaBLcVBvy3UXR3BRQ!/r" alt=""></p> <p><img src="http://r.photo.store.qq.com/psc?/V121VjTP2yfy1N/uMeul31pGB4ZvQm8Ou4xccBIvYud0a.b5dnf4EdAIQe79gCh6T7ibE.K4cglecJjUxKHC5YVe4lhW7q88UMQzV.9k4iqXcChEdfCeVegMXI!/r" alt=""></p> <p>获取到的数据（这个获取的数据格式化就是利用了Google的jsonview插件)</p> <p><img src="http://r.photo.store.qq.com/psc?/V121VjTP2yfy1N/uMeul31pGB4ZvQm8Ou4xcVGQzjic277ABgEnCjrioKmAHBhWwtkAojh7owpBrTjmYUshQCUZycW.bvI2iqcs9jRkhU23E21iFYqiEbBtwFQ!/r" alt=""></p> <div class="language- extra-class"><pre class="language-text"><code>http://localhost:8080/api/seller
http://localhost:8080/api/goods
http://localhost:8080/api/ratings 
通过上边这三个就可以访问获取的seller页面、goods页面、ratings页面数据
</code></pre></div><h1 id="页面骨架开发"><a href="#页面骨架开发" class="header-anchor">#</a> 页面骨架开发</h1> <h2 id="组件拆分-上"><a href="#组件拆分-上" class="header-anchor">#</a> 组件拆分(上)</h2> <p>这个把一些css3的默认样式都reset掉，在cssreset.com官网提供的标准的cssreset样式</p> <p><img src="http://r.photo.store.qq.com/psc?/V121VjTP2yfy1N/uMeul31pGB4ZvQm8Ou4xcZEB0ESEKclpOTN1KENW7lRcCBmtd9FrjEDCMcJOYBz6CF4i.O9rHtmh4O3Hn817zkitouUjjIKEqpXOEzgmU84!/r" alt=""></p> <p>在static/css/reset.css里面添加，下边这样标签给的样式，是为了让在手机上展示更好看</p> <div class="language- extra-class"><pre class="language-text"><code>/* custom */
a {
    color: #7e8c8d;
    text-decoration: none;
    -webkit-backface-visibility: hidden;
}

li {
    list-style: none;
}

::-webkit-scrollbar {
    width: 5px;
    height: 5px;
}

::-webkit-scrollbar-track-piece {
    background-color: rgba(0, 0, 0, 0.2);
    -webkit-border-radius: 6px;
}

::-webkit-scrollbar-thumb:vertical {
    height: 5px;
    background-color: rgba(125, 125, 125, 0.7);
    -webkit-border-radius: 6px;
}

::-webkit-scrollbar-thumb:horizontal {
    width: 5px;
    background-color: rgba(125, 125, 125, 0.7);
    -webkit-border-radius: 6px;
}

html, body {
    width: 100%;
}

body {
    -webkit-text-size-adjust: none;
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
}
</code></pre></div><p>在页面一开始就引入了这样的默认样式，就说明了会把一些默认样式reset掉</p> <p><img src="http://r.photo.store.qq.com/psc?/V121VjTP2yfy1N/uMeul31pGB4ZvQm8Ou4xcYFQBEq6FQWl*4NLsTF0LPHhyqaLRvmDTDNqg3WtJDJWkdW.wLZIRicSP*X0zGMzpvE7h7qybrMUaWn8u91DoxU!/r" alt=""></p> <h2 id="组件拆分-中"><a href="#组件拆分-中" class="header-anchor">#</a> 组件拆分(中)</h2> <p>App.vue</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;v-header&gt;&lt;/v-header&gt;

import header from './components/header/header.vue'
export default{
	components:{
		&quot;v-header&quot;: header
	}
}
</code></pre></div><p>components/header/header.vue</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;div class=&quot;header&quot;&gt;我是header&lt;/div&gt;
&lt;script&gt;
	export default{}
&lt;/script&gt;
</code></pre></div><h2 id="组件拆分-下"><a href="#组件拆分-下" class="header-anchor">#</a> 组件拆分(下)</h2> <div class="language- extra-class"><pre class="language-text"><code>npm install stylus-loader -S
</code></pre></div><p>再实现导航配置</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;div class=&quot;tab&quot;&gt;
      &lt;div class=&quot;tab-item&quot;&gt;商品&lt;/div&gt;
      &lt;div class=&quot;tab-item&quot;&gt;评论&lt;/div&gt;
      &lt;div class=&quot;tab-item&quot;&gt;商家&lt;/div&gt;
&lt;/div&gt;

//利用flex布局写样式
  .tab
    display: flex
    width: 100%
    height: 40px
    line-height: 40px
    .tab-item
      flex: 1
      text-align: center
</code></pre></div><p>flex布局自带了一些兼容性的代码，在源码的node_modules的vue-loader依赖的postcss文件的插件，这些插件自动帮我们搞定CSS兼容性问题</p> <h2 id="vue-router-上"><a href="#vue-router-上" class="header-anchor">#</a> vue-router(上)</h2> <p>安装路由</p> <div class="language- extra-class"><pre class="language-text"><code>npm install vue-router
</code></pre></div><p><img src="http://r.photo.store.qq.com/psc?/V121VjTP2yfy1N/uMeul31pGB4ZvQm8Ou4xcXhglmFVMCszsIsxvrUwPiaTbkPmHu99titJ1Iu9eSHiI4u8fCPaq.JOebyk4LJnu52JR736E*zU2XjF83MPL*A!/r" alt=""></p> <p><img src="http://r.photo.store.qq.com/psc?/V121VjTP2yfy1N/uMeul31pGB4ZvQm8Ou4xcYDzV5SVszN5n5KquymrARuoQN17Yy1hunh.8ee*1OmKdvNmjzEAVl.vVi.I8q3iJk*zJ3rwBarPGYZuj8QVvsQ!/r" alt=""></p> <p><img src="http://r.photo.store.qq.com/psc?/V121VjTP2yfy1N/uMeul31pGB4ZvQm8Ou4xcZBUWJnX5j.b3Twcm0Gsfg4SI4yKZ.5HAlROPSK7KrAfyB*ixTnaFRr*lMKmsgCQWDhe7w62Doeni9XtfwhMrQg!/r" alt=""></p> <h2 id="vue-router-下"><a href="#vue-router-下" class="header-anchor">#</a> vue-router(下)</h2> <p><img src="http://r.photo.store.qq.com/psc?/V121VjTP2yfy1N/uMeul31pGB4ZvQm8Ou4xcY.oOtuaBz6uPQn6bLsrtzexHQZI2UFxkJXNsxJqSb8SRAtWX6kWM*Psudd8bQ3NPU9usyiHLtL*cXV99qZQQz4!/r" alt=""></p> <p><img src="http://r.photo.store.qq.com/psc?/V121VjTP2yfy1N/uMeul31pGB4ZvQm8Ou4xcWNgxZTTX.UJ6rw.KSWrhdGg43xr3Qdofev5HEfGT0Wrz.iBRbQna5OKXqiIknNvZPx6FkTCD1E.BuO0TVyrja8!/r" alt=""></p> <h2 id="_1像素border实现"><a href="#_1像素border实现" class="header-anchor">#</a> 1像素border实现</h2> <p>&amp;这个符号表示的是上一级是它的父元素</p> <p><img src="http://r.photo.store.qq.com/psc?/V121VjTP2yfy1N/uMeul31pGB4ZvQm8Ou4xcdb2zA1HFFv8eV4c8YQVQIwT1sUuiZo5y7EsehfG*T37UZ3k3v0w4e*AO7Mm5N5Y5dmQTSZq8Y4idh.i0i.xU3Q!/r" alt=""></p> <p><img src="http://r.photo.store.qq.com/psc?/V121VjTP2yfy1N/uMeul31pGB4ZvQm8Ou4xcW7ENusfHxoKm7ZWlUGEpw7jIfLawuKplGAJEtp0*BA4JJvIf5a*8zW9vg2XDLAEAWwoNlKEPmcpgpsD*g.PaTA!/r" alt=""></p> <p>通过base.styl把伪类进行缩放</p> <p><img src="http://r.photo.store.qq.com/psc?/V121VjTP2yfy1N/uMeul31pGB4ZvQm8Ou4xcXFnR13.VxxKQS1k3EwZb6zsDW4xOIbner5bQEU3DhOIzVx4Mf.eTjBH4FkqaGlQLbw*AI5wlo8GObxDv7fB0Ro!/r" alt=""></p> <p><img src="http://r.photo.store.qq.com/psc?/V121VjTP2yfy1N/uMeul31pGB4ZvQm8Ou4xcSZdEWWEUqaYFqKjY.qNmO1jvx3kV*w8dPO89czWdO3dqN*fyEbn0yVIXswdjJjlXvwY9fmwLax3n8Fd*S2kBa4!/r" alt=""></p> <h1 id="header组件开发"><a href="#header组件开发" class="header-anchor">#</a> header组件开发</h1> <h2 id="vue-resourse应用-上"><a href="#vue-resourse应用-上" class="header-anchor">#</a> vue-resourse应用(上)</h2> <p>安装</p> <div class="language- extra-class"><pre class="language-text"><code>npm install vue-resource
</code></pre></div><p>vue要实现异步加载需要使用vue-resourse库</p> <p>那么怎样使用vue-resource?</p> <div class="language- extra-class"><pre class="language-text"><code>//首先需要在main.js里面引入
import VueResource from 'vue-resource'
Vue.use(VueResource)
</code></pre></div><h2 id="vue-resourse应用-下"><a href="#vue-resourse应用-下" class="header-anchor">#</a> vue-resourse应用(下)</h2> <p>获取seller页面的数据</p> <p><img src="http://r.photo.store.qq.com/psc?/V121VjTP2yfy1N/uMeul31pGB4ZvQm8Ou4xcc84uotk8S8kULHGe6zbyXK44HmfMn7Gx9xH2nFa3JtQVDVlaJSpjasM93Vbf*Nawk9IkK*p*XeGUoEtCYBs7I8!/r" alt=""></p> <h2 id="外边组件-1"><a href="#外边组件-1" class="header-anchor">#</a> 外边组件(1)</h2> <p><img src="http://r.photo.store.qq.com/psc?/V121VjTP2yfy1N/uMeul31pGB4ZvQm8Ou4xcWzezl705nlgtiATXFan8xTucNR8tsp7taZaZPFQsLnFF521lzXBA0buF4n8rE7cGZqdUgZp*.63J9xplI8og60!/r" alt=""></p> <p><img src="http://r.photo.store.qq.com/psc?/V121VjTP2yfy1N/uMeul31pGB4ZvQm8Ou4xcT3PiFbXz6717grCH5mmEjaBhcKBIkACfTK4xahrX1wbZOBJKLJnti2j4r6o7tRmU5JUni8*MYJLg*u8gMZ5Vww!/r" alt=""></p> <h2 id="外边组件-2"><a href="#外边组件-2" class="header-anchor">#</a> 外边组件(2)</h2> <p><img src="http://r.photo.store.qq.com/psc?/V121VjTP2yfy1N/uMeul31pGB4ZvQm8Ou4xcTvhQXep6NWejsbHEMDyBYFxk0UJQ7WhfNRao.UuwUHHS9KSgxIJScVIZFO0zsgqFeYfQK938E*Qqzqu1ZPNml4!/r" alt=""></p> <p><img src="http://r.photo.store.qq.com/psc?/V121VjTP2yfy1N/uMeul31pGB4ZvQm8Ou4xcfmkcMXzUM72egkWutk6YRLjBtMlvtz9Xja5AGEHn6NN*HqH.4tad*GeI5G9tdHCXvZZWlDyQgYsdQIxo1z.gn4!/r" alt=""></p> <p><img src="http://r.photo.store.qq.com/psc?/V121VjTP2yfy1N/uMeul31pGB4ZvQm8Ou4xcR0i60V2Raha0dSK7SDoeiYtPV1vQVe3yg.GnqzhuzSxhKSEJrPD76NaWkPyJTd*Cr0ZOGIaMb2veXr0Jv0zAZc!/r" alt=""></p> <h2 id="外边组件-3"><a href="#外边组件-3" class="header-anchor">#</a> 外边组件(3)</h2> <p><img src="http://r.photo.store.qq.com/psc?/V121VjTP2yfy1N/uMeul31pGB4ZvQm8Ou4xcQ12*6*5RwzcqqR2va8dCpKGYdOxCtS6f.5iUOlq5*TCpgvIatRxQ2sAplhg4oVSAmPvNyfn691bA10zEnIJ.Uk!/r" alt=""></p> <p><img src="http://r.photo.store.qq.com/psc?/V121VjTP2yfy1N/uMeul31pGB4ZvQm8Ou4xcYMjWnkqxJqXelQKzoKa0EeTp3zvoDgfYQ4O8QKawc*i.Wmzw7zp0T8xSXU*P79WjRc6ZnJ.WRCHZ62cAL2q*20!/r" alt=""></p> <p><img src="http://r.photo.store.qq.com/psc?/V121VjTP2yfy1N/uMeul31pGB4ZvQm8Ou4xcVkvGgEls2aFa4BZp7HrjU*PWNHE5l2ww3VDep3ujzTRHSjbIeZbpNG61YwQ7voVq5LdkJARgDFIAubz3HMfMak!/r" alt=""></p> <p><img src="http://r.photo.store.qq.com/psc?/V121VjTP2yfy1N/uMeul31pGB4ZvQm8Ou4xcUgW6R.Zt8bDPhFkTgCi66aWYBZzNFz5CNnwpW5Bu5UzuRgOk7joQshPOuh*gFHgi6KwOAFTIRru0uINDcbvAJ8!/r" alt=""></p> <h2 id="外部组件-4"><a href="#外部组件-4" class="header-anchor">#</a> 外部组件(4)</h2> <p><img src="http://r.photo.store.qq.com/psc?/V121VjTP2yfy1N/uMeul31pGB4ZvQm8Ou4xcepxlLYjTPBPj.phcLLZHoykVBcfRfBPum*w.1rdAUsW1N90gTiZ3ENtQ.Qn3lYlDYx9eWigQ8CRuYKXnNpW5Ok!/r" alt=""></p> <p><img src="http://r.photo.store.qq.com/psc?/V121VjTP2yfy1N/uMeul31pGB4ZvQm8Ou4xcYW05XrgXNCmp0YwrHdLnGsCINjIUBLNrcb*YgOvh05LoKgYobiyjOyu3aBfzIuxCT2WxXIjFKl.elGuEdxAAqU!/r" alt=""></p> <p><img src="http://r.photo.store.qq.com/psc?/V121VjTP2yfy1N/uMeul31pGB4ZvQm8Ou4xcccBk3h9b9g7hGJg641jtBrs2HaTkXqVui4CA1LkNCtVluesjRmiF0SZA2mzJSAAHTs.IOA8whJ2GJfTTyU205c!/r" alt=""></p> <h2 id="外边组件-5"><a href="#外边组件-5" class="header-anchor">#</a> 外边组件(5)</h2> <p><img src="http://r.photo.store.qq.com/psc?/V121VjTP2yfy1N/uMeul31pGB4ZvQm8Ou4xcdocygI3VnFdz.MSC6ugKsWnfMMT.vqzl214tyID7vJesbOLSVZgh143vMOuqJBsVnKBGY50FvwyK1VRMGnjx8o!/r" alt=""></p> <p><img src="http://r.photo.store.qq.com/psc?/V121VjTP2yfy1N/uMeul31pGB4ZvQm8Ou4xcY.9HB.R1SB9BZnPMfoX*ZpQc51YCha07j9I1M3GqIsPXnDWsSTvqQ1tam7CVtJg1zRFj4ObDxWIVMwC*hG56xA!/r" alt=""></p> <p><img src="http://r.photo.store.qq.com/psc?/V121VjTP2yfy1N/uMeul31pGB4ZvQm8Ou4xcfPrwHVjUOEX1WjReyVd8GarH4uHsujU6cbUDq5fqSnHCr1XVjfAEtkFbNa.WmnZSMgWffsZ0MbFv87EVcyAIq4!/r" alt=""></p> <h2 id="外边组件"><a href="#外边组件" class="header-anchor">#</a> 外边组件</h2> <p><img src="http://r.photo.store.qq.com/psc?/V121VjTP2yfy1N/uMeul31pGB4ZvQm8Ou4xcX61fKCA23pIhH2Rx83hKQ*Nh0eKb6oOjuSsqpmL4XcDgm1SEAT8LaqX03v1eUB70PTvLijZT0WxDq9ALMzZyag!/r" alt=""></p> <p><img src="http://r.photo.store.qq.com/psc?/V121VjTP2yfy1N/uMeul31pGB4ZvQm8Ou4xca77ckOd7QcZ3nYpHuSxt9yr4HjfDGyzvUZptstZJ9Mlh69RUfoDCOIrOpak5wEJC*oEo*8L*nNcCeb5aXdZJa0!/r" alt=""></p> <p><img src="http://r.photo.store.qq.com/psc?/V121VjTP2yfy1N/uMeul31pGB4ZvQm8Ou4xcfx77vrDyuJpsnj1j18wZZITcMS6stZOpiUddrxt5*DralbiEHi.A28eyQg5RitHDs7EQYXL6.ko5zRAZ.fhAOs!/r" alt=""></p> <h2 id="实现弹出层"><a href="#实现弹出层" class="header-anchor">#</a> 实现弹出层</h2> <p><img src="http://r.photo.store.qq.com/psc?/V121VjTP2yfy1N/uMeul31pGB4ZvQm8Ou4xcecwrs80.Q1khsvMM.SXU9NtGUdp.BeoBYflbUqhxsv4gR2mdU6qReo9fEf4C3q2ArCMofyyupStRRzdC.TG*TI!/r" alt=""></p> <p><img src="http://r.photo.store.qq.com/psc?/V121VjTP2yfy1N/uMeul31pGB4ZvQm8Ou4xcQug8lxGg4xoRGTzVpSYW1a6taTPSjcXvDdK2dEK9tUPjh*k9SJgKe7FbVzubDMwnSygq*sXfaEYKkxaWw3ZJcQ!/r" alt=""></p> <p><img src="http://r.photo.store.qq.com/psc?/V121VjTP2yfy1N/uMeul31pGB4ZvQm8Ou4xcaeSD2HQh4RKWvssmrMfAPgEX3p545jR*IgvXydyvOoUML3MP5xLLcDgcgeB09rnKk59wB.bFY9Wv1Kqxfu5KgE!/r" alt=""></p> <p><img src="http://r.photo.store.qq.com/psc?/V121VjTP2yfy1N/uMeul31pGB4ZvQm8Ou4xcXEVReVeOQK9wMT4hrI7RWqcxA4ImT0Q5VwWkBezV3PuIxptyTVqO*U*PxY.vi7rMlAY37MhUCwMqiIpSVY6Xfo!/r" alt=""></p> <h2 id="css-sticky-footer"><a href="#css-sticky-footer" class="header-anchor">#</a> CSS Sticky footer</h2> <p>这篇文档上有对Sticky footer的详解</p> <div class="language- extra-class"><pre class="language-text"><code>https://www.w3cplus.com/css3/css-secrets/sticky-footers.html
</code></pre></div><p><img src="http://r.photo.store.qq.com/psc?/V121VjTP2yfy1N/uMeul31pGB4ZvQm8Ou4xcdUpKYWFUtf2D8uwriF.3qct7PAXuoURotgJvSVgbM7.dBdxVBnElZXUZMjaGiUY.zN8jZOArs9SxUNlnmoZMys!/r" alt=""></p> <p><img src="http://r.photo.store.qq.com/psc?/V121VjTP2yfy1N/uMeul31pGB4ZvQm8Ou4xcQq3vMhP5z4qc5.pjO8Yc.m35l2Am32EiN*pGcFrGajtyF2zb.c7330T2Qf2pURZ3IgSKMz*re9TfE2Qapvgjqk!/r" alt=""></p> <p><img src="http://r.photo.store.qq.com/psc?/V121VjTP2yfy1N/uMeul31pGB4ZvQm8Ou4xcUhI2gArqY9wGdHwlCNOBlY.01P22CQecNzDlMiynOFTsgs6*wkJYk4y8k4CPVHsOigJ.EV0Q0PHX7jdMmh69ks!/r" alt=""></p> <h2 id="star组件抽象-上"><a href="#star组件抽象-上" class="header-anchor">#</a> star组件抽象(上)</h2> <div class="language-| extra-class"><pre class="language-text"><code>&lt;!--五角星--&gt;
&lt;div class=&quot;star&quot; :class=&quot;starType&quot;&gt;
    &lt;span v-for=&quot;(itemClass,index) in itemClasses&quot; :class=&quot;itemClass&quot; class=&quot;star-item&quot; :key=&quot;index&quot;&gt;	&lt;/span&gt;
&lt;/div&gt;
 props: {
      size: {
        type: Number
      },
      score: {
        type: Number
      }
    },
    computed: {
        starType() { // 通过计算属性, 返回组装过的类型, 用来对应class类型
        return 'star-' + this.size;
    },
    
   .star
    font-size: 0
    .star-item
      display: inline-block
      background-repeat: no-repeat
     &amp;.star-48
     &amp;.star-36
     &amp;.star-24
</code></pre></div><h2 id="star组件抽象-下"><a href="#star组件抽象-下" class="header-anchor">#</a> star组件抽象(下)</h2> <p>src/components/star/star.vue</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;template&gt;
  &lt;!--五角星--&gt;
  &lt;div class=&quot;star&quot; :class=&quot;starType&quot;&gt;
    &lt;span v-for=&quot;(itemClass,index) in itemClasses&quot; :class=&quot;itemClass&quot; class=&quot;star-item&quot; :key=&quot;index&quot;&gt;&lt;/span&gt;
  &lt;/div&gt;
&lt;/template&gt;
&lt;script type=&quot;text/ecmascript-6&quot;&gt;
  const LENGTH = 5;
  const CLS_ON = 'on'; // 全星
  const CLS_HALF = 'half'; // 半星
  const CLS_OFF = 'off'; // 无星
  export default {
    props: {
      size: {
        type: Number
      },
      score: {
        type: Number
      }
    },
    computed: {
      starType() { // 通过计算属性, 返回组装过的类型, 用来对应class类型
        return 'star-' + this.size;
      },
      itemClasses() {
        let result = []; // 返回的是一个数组, 用来遍历输出星星
        let score = Math.floor(this.score * 2) / 2; // 计算所有星星的数量
        let hasDecimal = score % 1 !== 0; // 非整数星星判断
        let integer = Math.floor(score); // 整数星星判断
        for (let i = 0; i &lt; integer; i++) { // 整数星星使用on
          result.push(CLS_ON); // 一个整数星星就push一个CLS_ON到数组
        }
        if (hasDecimal) { // 非整数星星使用half
          result.push(CLS_HALF);
        }
        while (result.length &lt; LENGTH) { // 余下的用无星星补全, 使用off
          result.push(CLS_OFF);
        }
        return result;
      }
    }
  };
&lt;/script&gt;
&lt;style lang=&quot;stylus&quot; rel=&quot;stylesheet/stylus&quot;&gt;
  @import &quot;../../common/stylus/mixin.styl&quot;
  .star
    font-size: 0
    .star-item
      display: inline-block
      background-repeat: no-repeat
    &amp;.star-48
      .star-item
        width: 20px
        height: 20px
        margin-right: 22px
        background-size: 20px 20px
        &amp;:last-child
          margin-right: 0
        &amp;.on
          bg-image('star48_on')
        &amp;.half
          bg-image('star48_half')
        &amp;.off
          bg-image('star48_off')
    &amp;.star-36
      .star-item
        width: 15px
        height: 15px
        margin-right: 6px
        background-size: 15px 15px
        &amp;:last-child
          margin-right: 0
        &amp;.on
          bg-image('star36_on')
        &amp;.half
          bg-image('star36_half')
        &amp;.off
          bg-image('star36_off')
    &amp;.star-24
      .star-item
        width: 10px
        height: 10px
        margin-right: 3px
        background-size: 10px 10px
        &amp;:last-child
          margin-right: 0
        &amp;.on
          bg-image('star24_on')
        &amp;.half
          bg-image('star24_half')
        &amp;.off
          bg-image('star24_off')
&lt;/style&gt;
</code></pre></div><h2 id="star组件使用"><a href="#star组件使用" class="header-anchor">#</a> star组件使用</h2> <p><img src="http://r.photo.store.qq.com/psc?/V121VjTP2yfy1N/uMeul31pGB4ZvQm8Ou4xcQqS3vd*RfWbukyl5ImiBSSngxiNHGB1MgI6FknwH0Mgq1O0ohG8ED20gHkssQVDtKwKyV8dYVX010c9FSPZuDs!/r" alt=""></p> <p><img src="http://r.photo.store.qq.com/psc?/V121VjTP2yfy1N/uMeul31pGB4ZvQm8Ou4xcckKvAinkYZ.cs2HgvVE*JYlUljJM5BqvXBTp2CVC2UE1Em2IhvtueNrrwmucufTQxKYTlhaxlCJLs*XZvpZS14!/r" alt=""></p> <p><img src="http://r.photo.store.qq.com/psc?/V121VjTP2yfy1N/uMeul31pGB4ZvQm8Ou4xccGcRInz*l2w5TxN7Xgpk8gxI8b9GLCuar46xrFZRPlo1Lc1bSuEQ9aeX4dHhMQP.hphXAl1suW4.UndlGcTSNA!/r" alt=""></p> <h2 id="小标题自适应经典flex布局实现"><a href="#小标题自适应经典flex布局实现" class="header-anchor">#</a> 小标题自适应经典flex布局实现</h2> <p>在编译文件的时候，会用Postcss工具，Postcss是根据can i use(http://caniuse.com/)官网去写代码</p> <p><img src="http://r.photo.store.qq.com/psc?/V121VjTP2yfy1N/uMeul31pGB4ZvQm8Ou4xcWP*YiDVW3DDlbDb65ccOsgkHzxHRbnCTlDCYXOBrTZfoWvs637QYp5Pb5AF*DFILkBMtaxJSroL4oYEPE.anVQ!/r" alt=""></p> <p><img src="http://r.photo.store.qq.com/psc?/V121VjTP2yfy1N/uMeul31pGB4ZvQm8Ou4xcU5Utn4U9l4VVklBChqTd.fyt31JaYWib6B4wDe*TB4IvKKOL23BDtqzCSWbfjgd5SV8WWQ*455R2OkvoDIc5R4!/r" alt=""></p> <p><img src="http://r.photo.store.qq.com/psc?/V121VjTP2yfy1N/uMeul31pGB4ZvQm8Ou4xcVLwEHsvaLHEGyDBO.X0Yqm7GSle254r0U8oldBO9QdDPcWb1Shce4LUYzcDeBVyOjcd2ZUkdCdsXr5aJL7kkmg!/r" alt=""></p> <h2 id="header剩余组件实现-上"><a href="#header剩余组件实现-上" class="header-anchor">#</a> header剩余组件实现(上)</h2> <div class="language- extra-class"><pre class="language-text"><code> &lt;div class=&quot;title&quot;&gt;
            &lt;div class=&quot;line&quot;&gt;&lt;/div&gt;
            &lt;div class=&quot;text&quot;&gt;优惠信息&lt;/div&gt;
            &lt;div class=&quot;line&quot;&gt;&lt;/div&gt;
          &lt;/div&gt;
          &lt;!--优惠信息内容--&gt;
          &lt;ul v-if=&quot;seller.supports&quot; class=&quot;supports&quot;&gt;
            &lt;li class=&quot;support-item&quot; v-for=&quot;(item, index) in  seller.supports&quot; :key=&quot;index&quot;&gt;
              &lt;span class=&quot;icon&quot; :class=&quot;classMap[seller.supports[index].type]&quot;&gt;&lt;/span&gt;
              &lt;span class=&quot;text&quot;&gt;{{seller.supports[index].description}}&lt;/span&gt;
            &lt;/li&gt;
          &lt;/ul&gt;
          &lt;!--商家公告--&gt;
          &lt;div class=&quot;title&quot;&gt;
            &lt;div class=&quot;line&quot;&gt;&lt;/div&gt;
            &lt;div class=&quot;text&quot;&gt;商家公告&lt;/div&gt;
            &lt;div class=&quot;line&quot;&gt;&lt;/div&gt;
          &lt;/div&gt;
          &lt;!--商家公告内容--&gt;
          &lt;div class=&quot;bulletin&quot;&gt;
            &lt;p class=&quot;content&quot;&gt;{{seller.bulletin}}&lt;/p&gt;
          &lt;/div&gt;
        &lt;/div&gt;

.supports
          width: 80%
          margin: 0 auto
          .support-item
            padding: 0 12px
            margin-bottom: 12px
            font-size: 0
            &amp;:last-child
              margin-bottom: 0
            .icon
              display: inline-block
              width: 16px
              height: 16px
              vertical-align: top
              margin-right: 6px
              background-size: 16px 16px
              background-repeat: no-repeat
              &amp;.decrease
                bg-image('decrease_1')
              &amp;.discount
                bg-image('discount_1')
              &amp;.guarantee
                bg-image('guarantee_1')
              &amp;.invoice
                bg-image('invoice_1')
              &amp;.special
                bg-image('special_1')
            .text
              line-height: 16px
              font-size: 12px
        .bulletin
          width: 80%
          margin: 0 auto
          .content
            padding: 0 12px
            line-height: 24px
            font-size: 12px
</code></pre></div><p><img src="http://r.photo.store.qq.com/psc?/V121VjTP2yfy1N/uMeul31pGB4ZvQm8Ou4xcTkMIaTpEqJDktXGrhqLusHtGQgnrYM1eWhc0pBgb.WPxQ5rIRXoME6IGASueAwq*pu11Hmb8diCuxCncMap8dE!/r" alt=""></p> <h2 id="header剩余组件实现-下"><a href="#header剩余组件实现-下" class="header-anchor">#</a> header剩余组件实现(下)</h2> <p><img src="http://r.photo.store.qq.com/psc?/V121VjTP2yfy1N/uMeul31pGB4ZvQm8Ou4xcQbHs1A7vcwcEZOcHr4brvv.PA7xIx7NszTY5uNOG.2i49y3WOpZ9VXGYqMMWolRu2kh5V0lLly0mEzPvi*xs20!/r" alt=""></p> <p><img src="http://r.photo.store.qq.com/psc?/V121VjTP2yfy1N/uMeul31pGB4ZvQm8Ou4xcT7GH74NJ*FLZh8QxG4f2C**qPvPFFzB*NZB1Py2jaU1m0BHQ.29X6b3u1CEawM*UNVEzHNvpaQ9FMX3JSB7z1U!/r" alt=""></p> <p><img src="http://r.photo.store.qq.com/psc?/V121VjTP2yfy1N/uMeul31pGB4ZvQm8Ou4xccGl9MLzNqLyVMXkh1Tz0mn76CY4O2W4M1aOgPq3AD40YcWPzP4WyumcscGIz7LB8qwZDxlIXutj*5OfBvqyoc0!/r" alt=""></p> <p><img src="http://r.photo.store.qq.com/psc?/V121VjTP2yfy1N/uMeul31pGB4ZvQm8Ou4xcZE*sYdB6AK3n.YuFxpFciFsQYVV6tkvxyVXp1oJkXNUaS1vM0p.dHH7JPgXa4YGK9tcE*leg9FCTzHhioilCME!/r" alt=""></p> <h1 id="goods商品列表页开发"><a href="#goods商品列表页开发" class="header-anchor">#</a> goods商品列表页开发</h1> <h2 id="布局编写"><a href="#布局编写" class="header-anchor">#</a> 布局编写</h2> <div class="language- extra-class"><pre class="language-text"><code>  &lt;!--商品部分--&gt;
  &lt;div class=&quot;goods&quot;&gt;
    &lt;!--左侧菜单--&gt;
    &lt;div class=&quot;menu-wrapper&quot; ref=&quot;menu&quot;&gt;
    &lt;/div&gt;
    &lt;!--右侧列表布局--&gt;
    &lt;div class=&quot;foods-wrapper&quot; ref=&quot;foods&quot;&gt;
    &lt;/div&gt;
  &lt;/div&gt;
   export default {
   	 props:{
   	    seller:{
        	type: Object
        }
   	 }
      data(){
      	return{
      		goods:[]
      	}
      }
    },
    created(){
        this.$axios.get('/api/goods').then(res =&gt; {
          response = response.body;
          if(response.errno === ERR_OK){
          	this.goods = response.data;
          	console.log(this.goods);
          }
      },
   }
</code></pre></div><h2 id="左侧布局"><a href="#左侧布局" class="header-anchor">#</a> 左侧布局</h2> <div class="language- extra-class"><pre class="language-text"><code>&lt;!--左侧菜单--&gt;
    &lt;div class=&quot;menu-wrapper&quot; ref=&quot;menu&quot;&gt;
      &lt;ul&gt;
        &lt;li v-for=&quot;(item,index) in goods&quot; class=&quot;menu-item&quot; :class=&quot;{'current': currentIndex === index}&quot; @click=&quot;selectMenu(index,$event)&quot;&gt;
          &lt;span class=&quot;text border-1px&quot;&gt;
            &lt;span v-show=&quot;item.type === 1 || item.type === 3 || item.type === 4&quot; class=&quot;icon&quot; :class=&quot;classMap[item.type]&quot;&gt;&lt;/span&gt;{{item.name}}
          &lt;/span&gt;
        &lt;/li&gt;
      &lt;/ul&gt;
    &lt;/div&gt;
    
     .menu-wrapper
      flex: 0 0 80px
      width: 80px  //不写宽度，在安卓手机上会出现问题
      background: #f3f5f7
      .menu-item
        display: table //垂直居中
        height: 54px
        width: 56px
        padding: 0 12px
        line-height: 14px
        &amp;.current
          position: relative
          margin-top: -1px //覆盖1px边框
          z-index: 10
          background: #fff
          font-weight: 700
          .text
            border-none()
</code></pre></div><p><img src="http://r.photo.store.qq.com/psc?/V121VjTP2yfy1N/uMeul31pGB4ZvQm8Ou4xcQiMq*75msDYbm74ehlGDXGQVs8rfNqwJOYfnkiEG2X0dcmkTcZFF1nIqCzWTcsfPyMTD94UK.tax7mhblIJsFo!/r" alt=""></p> <h2 id="右侧食品列表布局"><a href="#右侧食品列表布局" class="header-anchor">#</a> 右侧食品列表布局</h2> <div class="language- extra-class"><pre class="language-text"><code>&lt;!--右侧列表布局--&gt;
    &lt;div class=&quot;foods-wrapper&quot; ref=&quot;foods&quot;&gt;
      &lt;ul&gt;
        &lt;li v-for=&quot;item in goods&quot; class=&quot;food-list food-list-hook&quot;&gt;
          &lt;h1 class=&quot;title&quot;&gt;{{item.name}}&lt;/h1&gt;
          &lt;ul&gt;
            &lt;li @click=&quot;selectFood(food,$event)&quot; v-for=&quot;food in item.foods&quot; class=&quot;food-item border-1px&quot;&gt;
              &lt;!--商品图--&gt;
              &lt;div class=&quot;icon&quot;&gt;
                &lt;img width=&quot;57&quot; height=&quot;57&quot; :src=&quot;food.icon&quot;&gt;
              &lt;/div&gt;
              &lt;!--商品内容--&gt;
              &lt;div class=&quot;content&quot;&gt;
                &lt;!--商品名称--&gt;
                &lt;h2 class=&quot;name&quot;&gt;{{food.name}}&lt;/h2&gt;
                &lt;!--商品描述--&gt;
                &lt;p class=&quot;desc&quot;&gt;{{food.description}}&lt;/p&gt;
                &lt;!--商品月售和好评率--&gt;
                &lt;div class=&quot;extra&quot;&gt;
                  &lt;span class=&quot;count&quot;&gt;月售{{food.sellCount}}/份&lt;/span&gt;&lt;span&gt;好评率{{food.rating}}%&lt;/span&gt;
                &lt;/div&gt;
                &lt;!--商品的价格--&gt;
                &lt;div class=&quot;price&quot;&gt;
                  &lt;span class=&quot;now&quot;&gt;￥{{food.price}}&lt;/span&gt;&lt;span class=&quot;old&quot; v-show=&quot;food.oldPrice&quot;&gt;￥{{food.oldPrice}}&lt;/span&gt;
                &lt;/div&gt;
              &lt;/div&gt;
            &lt;/li&gt;
          &lt;/ul&gt;
        &lt;/li&gt;
      &lt;/ul&gt;
    &lt;/div&gt;
</code></pre></div><h2 id="右侧食品列表布局-2"><a href="#右侧食品列表布局-2" class="header-anchor">#</a> 右侧食品列表布局(2)</h2> <div class="language- extra-class"><pre class="language-text"><code> .foods-wrapper
      flex: 1
      .title
        padding-left: 14px;
        height: 26px;
        line-height: 26px;
        border-left: 2px solid #d9dde1
        font-size: 12px
        color:rgb(147,153,159)
        background: #f3f5f7
      .food-item
        display:flex
        margin: 18px
        padding-bottom: 18px
        border-1px(rgba(7,17,27,0.1))
        &amp;:last-child
          border-none()
          margin-bottom: 0
        .icon
          flex: 0 0 57px
          margin-right: 10px
        .content
          flex: 1
          .name
            margin: 2px 0 8px 0
            height: 14px
            line-height: 14px
            font-size: 14px
            color: rgb(7,17,27)
</code></pre></div><h2 id="右侧食品列表布局-3"><a href="#右侧食品列表布局-3" class="header-anchor">#</a> 右侧食品列表布局(3)</h2> <div class="language- extra-class"><pre class="language-text"><code>.desc, .extra
            margin-bottom: 8px
            line-height: 10px
            font-size: 10px
            color: rgb(147,153,159)
          .desc
            line-height: 12px
            margin-bottom: 8px
          .extra
            .count
              margin-right: 12px
          .price
            font-weight: 700
            font-size: 24px
            .now
              margin-right: 8px
              font-size: 14px
              color: rgb(240,20,20)
            .old
              text-decoration: line-through
              font-size: 10px
              color: rgb(147,153,159)
</code></pre></div><p><img src="http://r.photo.store.qq.com/psc?/V121VjTP2yfy1N/uMeul31pGB4ZvQm8Ou4xcZ344BNRq0xsS5oDab1V2.DuPOiAR.Ia.PuqjbP6.VckI20oMFKqK0yTD6tgYPuAt4u6etj9EUG0zkdxJz3.PfA!/r" alt=""></p> <h2 id="better-scroll运用-1"><a href="#better-scroll运用-1" class="header-anchor">#</a> better-scroll运用(1)</h2> <p>安装</p> <div class="language- extra-class"><pre class="language-text"><code>npm install better-scroll -S
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>import BScroll from 'better-scroll';
     _getGoods() {
        this.$axios.get('/api/goods').then(res =&gt; {
          console.log(res)
          if(res.data.errno == 0) {
            this.goods = res.data.data
            this.$nextTick(() =&gt; {// DOM更新后(是异步的)
              this._initScroll();//初始化这个Scroll
              this._calculateHeight();//计算高度
            });
          }
</code></pre></div><h2 id="better-scroll运用-2"><a href="#better-scroll运用-2" class="header-anchor">#</a> better-scroll运用(2)</h2> <div class="language- extra-class"><pre class="language-text"><code>    computed:{
      // 当页面出现滚动this.scrollY会实时变化，计算属性currentIndex()也会跟着重新计算
      currentIndex(){//左侧当前索引
        //this.listHeight是一个数组，存放着每一个li的高度
        for(let i=0;i&lt;this.listHeight.length;i++){
          let height1 = this.listHeight[i];//第一个li
          let height2 = this.listHeight[i+1];//第二个li
          //判断实时滚动记录this.scrollY是否落在第一个li和第二个li之间 加&quot;=&quot;是为了初始化第一个左侧current为高亮
          if(!height2 || (this.scrollY &gt;= height1 &amp;&amp; this.scrollY &lt; height2)){//判断是否是最后一个li或者落到这个区间
            return i;
          }
        }
        return 0;
      },
      
      methods: {
         _calculateHeight(){
            let foodList = this.$refs.foods.getElementsByClassName('food-list-hook');
            let height = 0;//第一个高度
            this.listHeight.push(height);
            for(let i = 0;i&lt;foodList.length; i++){
              let item = foodList[i];
              height += item.clientHeight;
              this.listHeight.push(height);
            }
          }
      }
</code></pre></div><h2 id="better-scroll运用-3"><a href="#better-scroll运用-3" class="header-anchor">#</a> better-scroll运用(3)</h2> <div class="language- extra-class"><pre class="language-text"><code>      selectMenu(index, event){
        // 注意： better-scroll会将点击事件去掉, 如果滚动部分需要点击事件, 需要在参数里加上click: true
        // 原生的event事件上没有_constructed这个属性
        if(!event._constructed){ //// 如果不存在这个属性, 则认为是原生点击事件, 不执行下面的函数
          return;
        }
        let foodList = this.$refs.foods.getElementsByClassName('food-list-hook');
        let el = foodList[index];
        this.foodScroll.scrollToElement(el,300);
      },
</code></pre></div><h3 id="css中的-意思"><a href="#css中的-意思" class="header-anchor">#</a> css中的&amp;意思</h3> <div class="language- extra-class"><pre class="language-text"><code>&amp;表示在嵌套层次中回溯一层
&amp;:before相当于.clearfix:before
&amp;:after相当于.clearfix:after
而:before和:after是CSS中的伪元素
表示在应用clearfix类的元素前和后插入指定内容
</code></pre></div><h2 id="shopcart购物车组件-1"><a href="#shopcart购物车组件-1" class="header-anchor">#</a> shopcart购物车组件(1)</h2> <p>src/components/shopcart.vue</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;div class=&quot;shopcart&quot;&gt;
&lt;/div&gt;
.shopcart
    position: fixed
    left: 0
    bottom: 0
    z-index: 50
    width: 100%
    height: 48px
</code></pre></div><p>src/components/shopcart.vue</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;shopcart ref=&quot;shopcart&quot; :selectFoods=&quot;selectFoods&quot; :delivery-price=&quot;seller.deliveryPrice&quot; :min-price=&quot;seller.minPrice&quot;&gt;&lt;/shopcart&gt;

import shopcart from '../shopcart/shopcart';
</code></pre></div><h2 id="shopcart购物车组件-2"><a href="#shopcart购物车组件-2" class="header-anchor">#</a> shopcart购物车组件(2)</h2> <div class="language- extra-class"><pre class="language-text"><code> &lt;!--左侧圆logo--&gt;
          &lt;div class=&quot;logo-wrapper&quot;&gt;
            &lt;div class=&quot;logo&quot; :class=&quot;{'highlight':totalCount&gt;0}&quot;&gt;
              &lt;i class=&quot;icon-shopping_cart&quot; :class=&quot;{'highlight':totalCount&gt;0}&quot;&gt;&lt;/i&gt;
            &lt;/div&gt;
            
       .logo-wrapper
          display: inline-block
          vertical-align: top
          position: relative
          top: -10px
          margin: 0 12px
          padding: 6px
          width: 56px
          height: 56px
          box-sizing: border-box
          border-radius: 50%
          background: #141d27
          .logo
            width: 100%
            height: 100%
            border-radius: 50%
            text-align: center
            background: #2b343c
</code></pre></div><h2 id="shopcart购物车组件-3"><a href="#shopcart购物车组件-3" class="header-anchor">#</a> shopcart购物车组件(3)</h2> <p>src/components/goods.vue</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;shopcart ref=&quot;shopcart&quot; :selectFoods=&quot;selectFoods&quot; :delivery-price=&quot;seller.deliveryPrice&quot; :min-price=&quot;seller.minPrice&quot;&gt;&lt;/shopcart&gt;
</code></pre></div><p>src/components/shopcart.vue</p> <div class="language- extra-class"><pre class="language-text"><code> &lt;!--logo上的数值--&gt;
            &lt;div class=&quot;num&quot; v-show=&quot;totalCount&gt;0&quot;&gt;{{totalCount}}&lt;/div&gt;
          &lt;/div&gt;
          &lt;div class=&quot;price&quot; :class=&quot;{'highlight':totalPrice&gt;0}&quot;&gt;￥{{totalPrice}}&lt;/div&gt;
          &lt;div class=&quot;desc&quot;&gt;另需配送费￥{{deliveryPrice}}元&lt;/div&gt;
        &lt;/div&gt;
        &lt;div class=&quot;content-right&quot; @click.stop.prevent=&quot;pay&quot;&gt;
          &lt;div class=&quot;pay&quot; :class=&quot;payClass&quot;&gt;
            {{payDesc}}
          &lt;/div&gt;
        &lt;/div&gt;
</code></pre></div><h2 id="shopcart购物车组件-4"><a href="#shopcart购物车组件-4" class="header-anchor">#</a> shopcart购物车组件(4)</h2> <div class="language- extra-class"><pre class="language-text"><code>&lt;!--左侧圆logo--&gt;
&lt;div class=&quot;logo-wrapper&quot;&gt;
    &lt;div class=&quot;logo&quot; :class=&quot;{'highlight':totalCount&gt;0}&quot;&gt;
    &lt;i class=&quot;icon-shopping_cart&quot; :class=&quot;{'highlight':totalCount&gt;0}&quot;&gt;&lt;/i&gt;
&lt;/div&gt;
            
 props:{
      selectFoods:{
        type: Array,
        default(){
          return []
        }
      },
      
 computed:{
      //所有商品的总价
      totalPrice(){
        let total = 0;
        this.selectFoods.forEach((food)=&gt;{
          total += food.price * food.count;
        });
        return total;
      },
      totalCount(){
        let count = 0;
        this.selectFoods.forEach((food)=&gt;{
          count += food.count;
        });
        return count;
      },
     }
</code></pre></div><h2 id="shopcart购物车组件-5"><a href="#shopcart购物车组件-5" class="header-anchor">#</a> shopcart购物车组件(5)</h2> <p><img src="http://r.photo.store.qq.com/psc?/V121VjTP2yfy1N/uMeul31pGB4ZvQm8Ou4xcfz8QRxbuuR0vBhsF07uhEQ02M04wau3djKzE46ctChV.UbCxnvWj4ZFzEzZkMNvTuV47niGmhQpzqKSIVVdhdQ!/r" alt=""></p> <p><img src="http://r.photo.store.qq.com/psc?/V121VjTP2yfy1N/uMeul31pGB4ZvQm8Ou4xcTsXjVQAAMaMpZ8Jw2afdYyyLig6x4Clo.XCE7xIUojvbpQVyoV2ljLGrIAXVMgvQXFMlgAQXcrprFVzxlkf*x4!/r" alt=""></p> <p><img src="http://r.photo.store.qq.com/psc?/V121VjTP2yfy1N/uMeul31pGB4ZvQm8Ou4xcbQwHsZ1xq7vZkIAjD7JKfXotEPK5OSU4jtEIp7vLWd.EOdkOq2qtOmFpgCev4yeS2PixdnuJg69AMmL3B4OmYI!/r" alt=""></p> <h2 id="shopcart购物车组件-6"><a href="#shopcart购物车组件-6" class="header-anchor">#</a> shopcart购物车组件(6)</h2> <div class="language- extra-class"><pre class="language-text"><code>        &lt;div class=&quot;content-right&quot; @click.stop.prevent=&quot;pay&quot;&gt;
          &lt;div class=&quot;pay&quot; :class=&quot;payClass&quot;&gt;
            {{payDesc}}
          &lt;/div&gt;
        &lt;/div&gt;
        
       payDesc(){
        if(this.totalPrice === 0){
          return `￥${this.minPrice}元起送`;
        }else if(this.totalPrice&lt;this.minPrice) {
          let diff = this.minPrice - this.totalPrice;
          return `还差￥${diff}元起送`;
        }else{
          return `去结算`;
        }
      },
      payClass(){
        if(this.totalPrice&lt;this.minPrice){
          return 'not-enough';
        }else{
          return 'enough';
        }
      },
</code></pre></div><p><img src="http://r.photo.store.qq.com/psc?/V121VjTP2yfy1N/uMeul31pGB4ZvQm8Ou4xcWcSLtJimVu6Bk4Q7FvACuOJUuWWPltZQAXek*gLs2k6ss8P6KJmb*aXN04gUsDq3br6NnNkYgbDMC6W0awKW9k!/r" alt=""></p> <h2 id="curtconcontrol组件-1"><a href="#curtconcontrol组件-1" class="header-anchor">#</a> curtconcontrol组件(1)</h2> <p>src/components/cartcontrol.vue</p> <div class="language- extra-class"><pre class="language-text"><code> &lt;!--商品部分圆球的加减部分--&gt;
  &lt;div class=&quot;cartcontrol&quot;&gt;
    &lt;!--减--&gt;
    &lt;transition name=&quot;move&quot;&gt;
      &lt;div class=&quot;cart-decrease icon-remove_circle_outline&quot; v-show=&quot;food.count&gt;0&quot; @click.stop.prevent=&quot;decreaseCart&quot;&gt;
        &lt;span class=&quot;inner icon-remove_circle_outline&quot;&gt;&lt;/span&gt;
      &lt;/div&gt;
    &lt;/transition&gt;
    &lt;div class=&quot;cart-count&quot; v-show=&quot;food.count&gt;0&quot;&gt;{{food.count}}&lt;/div&gt;
    &lt;div class=&quot;cart-add icon-add_circle&quot; @click.stop.prevent=&quot;addCart&quot;&gt;&lt;/div&gt;
  &lt;/div&gt;
  
  props:{
      food:{
        type: Object
      }
    },
    
.cartcontrol
    font-size: 0
    .cart-decrease
      display: inline-block
      padding: 6px
      transition: all 0.4s linear
      .inner
        display: inline-block
        line-height: 24px
        font-size: 24px
        color: rgb(0,160,220)
        transition: all 0.4s linear
        transform: rotate(0)
</code></pre></div><p>src/components/goods.vue</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;!--添加购物车按钮--&gt;
&lt;div class=&quot;cartcontrol-wrapper&quot;&gt;
	&lt;cartcontrol @add=&quot;add&quot; :food=&quot;food&quot;&gt;&lt;/cartcontrol&gt;
&lt;/div&gt;
 import cartcontrol from '../cartcontrol/cartcontrol';
  
 components: {
      cartcontrol
},
</code></pre></div><h2 id="curtconcontrol组件-2"><a href="#curtconcontrol组件-2" class="header-anchor">#</a> curtconcontrol组件(2)</h2> <div class="language- extra-class"><pre class="language-text"><code>&lt;div class=&quot;cart-add icon-add_circle&quot; @click.stop.prevent=&quot;addCart&quot;&gt;&lt;/div&gt;
methods:{
      addCart(event){
        if(!event._constructed){
          return;
        }
        if(!this.food.count){
          Vue.set(this.food,'count',1);
        }else{
          this.food.count++;
        }
        this.$emit('add', event.target)
      },
   }
</code></pre></div><h2 id="curtconcontrol组件-3"><a href="#curtconcontrol组件-3" class="header-anchor">#</a> curtconcontrol组件(3)</h2> <div class="language- extra-class"><pre class="language-text"><code>&lt;div class=&quot;cart-decrease icon-remove_circle_outline&quot; v-show=&quot;food.count&gt;0&quot; @click.stop.prevent=&quot;decreaseCart&quot;&gt;
    &lt;span class=&quot;inner icon-remove_circle_outline&quot;&gt;&lt;/span&gt;
&lt;/div&gt;

decreaseCart(event){
    if(!event._constructed){
   		 return;
    }
    if(this.food.count){
    	this.food.count--;
    }
}
</code></pre></div><h2 id="购物车小球动画实现-1"><a href="#购物车小球动画实现-1" class="header-anchor">#</a> 购物车小球动画实现(1)</h2> <p>src/components/goods.vue</p> <div class="language- extra-class"><pre class="language-text"><code>    _drop(target){
        // 体验优化，异步执行下落动画
        this.$nextTick(() =&gt; {
        // 父组件访问子组件方法
        this.$refs.shopcart.drop(target);
        });
    },
    
   event:{
      'cart.add'(target){
        this._drop(target);
      }
    }
</code></pre></div><p>src/components/shopcart.vue</p> <div class="language- extra-class"><pre class="language-text"><code>          &lt;transition name=&quot;drop&quot;
                      @before-enter=&quot;beforeDrop&quot;
                      @enter=&quot;dropping&quot;
                      @after-enter=&quot;afterDrop&quot;&gt;
            &lt;div v-show=&quot;ball.show&quot; class=&quot;ball&quot;&gt;
              &lt;div class=&quot;inner inner-hook&quot;&gt;&lt;/div&gt;
            &lt;/div&gt;
          &lt;/transition&gt;
          
   data() {
      return{
        balls:[
          {
            show:false
          },
          {
            show:false
          },
          {
            show:false
          },
          {
            show:false
          },
          {
            show:false
          }
        ],
        dropBalls: [],
        fold: true
      };
    },
</code></pre></div><h2 id="购物车小球动画实现-2"><a href="#购物车小球动画实现-2" class="header-anchor">#</a> 购物车小球动画实现(2)</h2> <div class="language- extra-class"><pre class="language-text"><code>      &lt;div class=&quot;ball-container&quot;&gt;
        &lt;template v-for=&quot;ball in balls&quot;&gt;
          &lt;transition name=&quot;drop&quot;
                      @before-enter=&quot;beforeDrop&quot;
                      @enter=&quot;dropping&quot;
                      @after-enter=&quot;afterDrop&quot;&gt;
            &lt;div v-show=&quot;ball.show&quot; class=&quot;ball&quot;&gt;
              &lt;div class=&quot;inner inner-hook&quot;&gt;&lt;/div&gt;
            &lt;/div&gt;
          &lt;/transition&gt;
        &lt;/template&gt;
      &lt;/div&gt;

beforeDrop(el) {
        let count = this.balls.length;
        while (count--) {
          let ball = this.balls[count];
          if (ball.show) {
            // getBoundingClientRect 这个方法返回一个矩形对象，包含四个属性：left、top、right和bottom
            let rect = ball.el.getBoundingClientRect();
            let x = rect.left - 32;
            let y = -(window.innerHeight - rect.top - 22);

            el.style.display = '';

            el.style.webkitTransform = `translate3d(0, ${y}px, 0)`;
            el.style.transform = `translate3d(0, ${y}px, 0)`;
              }
        }
      },
</code></pre></div><h2 id="购物车小球动画实现-3"><a href="#购物车小球动画实现-3" class="header-anchor">#</a> 购物车小球动画实现(3)</h2> <div class="language- extra-class"><pre class="language-text"><code> methods:{
      drop(el){
        for(let i=0;i&lt;this.balls.length;i++){
          let ball = this.balls[i];
          if(!ball.show){
            ball.show = true;
            ball.el = el;
            this.dropBalls.push(ball);
            return;
          }
        }
      },
      beforeDrop(el) {
        let count = this.balls.length;
        while (count--) {
          let ball = this.balls[count];
          if (ball.show) {
            // getBoundingClientRect 这个方法返回一个矩形对象，包含四个属性：left、top、right和bottom
            let rect = ball.el.getBoundingClientRect();
            let x = rect.left - 32;
            let y = -(window.innerHeight - rect.top - 22);

            el.style.display = '';

            el.style.webkitTransform = `translate3d(0, ${y}px, 0)`;
            el.style.transform = `translate3d(0, ${y}px, 0)`;

            let inner = el.getElementsByClassName('inner-hook')[0];
            inner.style.webkitTransform = `translate3d(${x}px, 0, 0)`;
            inner.style.transform = `translate3d(${x}px, 0, 0)`;
          }
        }
      },
      dropping(el) {
        /* 触发浏览器重绘 */
        let rf = el.offsetHeight;
        this.$nextTick(() =&gt; {
          el.style.webkitTransform = 'translate3d(0, 0, 0)';
          el.style.transform = 'translate3d(0, 0, 0)';
          let inner = el.getElementsByClassName('inner-hook')[0];
          inner.style.webkitTransform = 'translate3d(0, 0, 0)';
          inner.style.transform = 'translate3d(0, 0, 0)';
        });
      },
      afterDrop(el) {
        let ball = this.dropBalls.shift(); // 做完动画后就删除一个小球
        if (ball) {
          ball.show = false;
          el.style.display = 'none';
        }
      },
      
   .ball-container
      .ball
        position: fixed
        left: 32px
        bottom: 22px
        z-index: 200
        transition: all 0.4s cubic-bezier(0.49, -0.29, 0.75, 0.41)
        .inner
          width: 16px
          height: 16px
          border-radius: 50%
          background: rgb(0,160,220)
          transition: all 0.4s linear
    .shopcart-list
      position: absolute
      top: 0
      left: 0
      z-index: -1
      width: 100%
      transform: translate3d(0,-100%,0)
      &amp;.fold-enter-active, &amp;.fold-leave-active
        transiton: all 0.5s
      &amp;.fold-enter,&amp;.fold-leave-active
        transform: translate3d(0,0,0)
</code></pre></div><p><img src="http://r.photo.store.qq.com/psc?/V121VjTP2yfy1N/uMeul31pGB4ZvQm8Ou4xcfoIoQX042nXyGK5wATJ4rd611rPA0XtUoY9XLai6TzXuoNcD8RKA4aFr2cHKClRZ9OVxnCX81Fdz8WdPE5Ja2A!/r" alt=""></p> <h2 id="购物车详情页-1"><a href="#购物车详情页-1" class="header-anchor">#</a> 购物车详情页(1)</h2> <div class="language- extra-class"><pre class="language-text"><code>&lt;div class=&quot;list-content&quot; ref=&quot;listContent&quot;&gt;
            &lt;ul&gt;
              &lt;li class=&quot;food&quot; v-for=&quot;food in selectFoods&quot;&gt;
                &lt;span class=&quot;name&quot;&gt;{{food.name}}&lt;/span&gt;
                &lt;div class=&quot;price&quot;&gt;
                  ￥{{food.price*food.count}}
                &lt;/div&gt;
                &lt;div class=&quot;cartcontrol-wrapper&quot;&gt;
                  &lt;cartcontrol :food=&quot;food&quot; @drop=&quot;drop&quot;&gt;&lt;/cartcontrol&gt;
                &lt;/div&gt;
              &lt;/li&gt;
            &lt;/ul&gt;
          &lt;/div&gt;
      
   import cartcontrol from '../../components/cartcontrol/cartcontrol';
    components:{
      cartcontrol
    },
</code></pre></div><h2 id="购物车详情页-2"><a href="#购物车详情页-2" class="header-anchor">#</a> 购物车详情页(2)</h2> <div class="language- extra-class"><pre class="language-text"><code>  &lt;div class=&quot;shopcart-list&quot; v-show=&quot;listShow&quot;&gt;
          &lt;div class=&quot;list-header&quot;&gt;
            &lt;h1 class=&quot;title&quot;&gt;购物车&lt;/h1&gt;
            &lt;span class=&quot;empty&quot; @click=&quot;empty&quot;&gt;清空&lt;/span&gt;
          &lt;/div&gt;
          &lt;div class=&quot;list-content&quot; ref=&quot;listContent&quot;&gt;
            &lt;ul&gt;
              &lt;li class=&quot;food&quot; v-for=&quot;food in selectFoods&quot;&gt;
                &lt;span class=&quot;name&quot;&gt;{{food.name}}&lt;/span&gt;
                &lt;div class=&quot;price&quot;&gt;
                  ￥{{food.price*food.count}}
                &lt;/div&gt;
                &lt;div class=&quot;cartcontrol-wrapper&quot;&gt;
                  &lt;cartcontrol :food=&quot;food&quot; @drop=&quot;drop&quot;&gt;&lt;/cartcontrol&gt;
                &lt;/div&gt;
              &lt;/li&gt;
            &lt;/ul&gt;
          &lt;/div&gt;
        &lt;/div&gt;
        
  .shopcart-list
      position: absolute
      top: 0
      left: 0
      z-index: -1
      width: 100%
      transform: translate3d(0,-100%,0)
      &amp;.fold-enter-active, &amp;.fold-leave-active
        transiton: all 0.5s
      &amp;.fold-enter,&amp;.fold-leave-active
        transform: translate3d(0,0,0)
      .list-header
        height: 40px
        line-height: 40px
        padding: 0 18px
        background: #f3f5f7
        border-bottom: 1px solid rgba(7,17,27,0.1)
        .title
          float: left
          font-size: 14px
          color: rgb(7,17,27)
        .empty
          float: right
          font-size: 12px
          color: rgb(0,160,220)
      .list-content
        padding: 0 18px
        max-height: 217px
        overflow: hidden
        background: #fff
</code></pre></div><h2 id="购物车详情页-3"><a href="#购物车详情页-3" class="header-anchor">#</a> 购物车详情页(3)</h2> <div class="language- extra-class"><pre class="language-text"><code>    &lt;transition name=&quot;fade&quot;&gt;
      &lt;div class=&quot;list-mask&quot; @click=&quot;hideList&quot; v-show=&quot;listShow&quot;&gt;&lt;/div&gt;
    &lt;/transition&gt;
    
      listShow(){
        if(!this.totalCount){
          this.fold = true;
          return false;
        }
        let show = !this.fold;
        if(show){
          this.$nextTick(()=&gt;{
            if(!this.scroll) {
              this.scroll = new BScroll(this.$refs.listContent, {
                click: true
              });
            }else{
              //重新实例化
              this.scroll.refresh();
            }
          });
        }
        return show;
      }

</code></pre></div><h2 id="购物车详情页-4"><a href="#购物车详情页-4" class="header-anchor">#</a> 购物车详情页(4)</h2> <div class="language- extra-class"><pre class="language-text"><code>&lt;div class=&quot;content-right&quot; @click.stop.prevent=&quot;pay&quot;&gt;
    &lt;div class=&quot;pay&quot; :class=&quot;payClass&quot;&gt;
    {{payDesc}}
	&lt;/div&gt;
&lt;/div&gt;
     payDesc(){
        if(this.totalPrice === 0){
          return `￥${this.minPrice}元起送`;
        }else if(this.totalPrice&lt;this.minPrice) {
          let diff = this.minPrice - this.totalPrice;
          return `还差￥${diff}元起送`;
        }else{
          return `去结算`;
        }
      },
      payClass(){
        if(this.totalPrice&lt;this.minPrice){
          return 'not-enough';
        }else{
          return 'enough';
        }
      },
      
       methods:{
       	 pay(){
            if(this.totalPrice&lt;this.minPrice){
              return;
            }
            window.alert(`支付${this.totalPrice}元`);
            }
   	 },
          
          
</code></pre></div><h1 id="food商品详情页实现"><a href="#food商品详情页实现" class="header-anchor">#</a> food商品详情页实现</h1> <h2 id="商品详情页实现"><a href="#商品详情页实现" class="header-anchor">#</a> 商品详情页实现</h2> <div class="language- extra-class"><pre class="language-text"><code>&lt;template&gt;
  &lt;!--点击商品里面内容部分--&gt;
  &lt;transition name=&quot;move&quot;&gt;
    &lt;div class=&quot;food&quot; v-show=&quot;showFlag&quot; ref=&quot;food&quot;&gt;
      &lt;div class=&quot;food-content&quot;&gt;
        &lt;!--头部部分--&gt;
        &lt;div class=&quot;image-header&quot;&gt;
          &lt;!--商品图--&gt;
          &lt;img :src=&quot;food.image&quot;&gt;
          &lt;!--返回按钮--&gt;
          &lt;div class=&quot;back&quot; @click=&quot;hide&quot;&gt;
            &lt;i class=&quot;icon-arrow_lift&quot;&gt;&lt;/i&gt;
          &lt;/div&gt;
        &lt;/div&gt;
        &lt;!--内容中间部分--&gt;
        &lt;div class=&quot;content&quot;&gt;
          &lt;h1 class=&quot;title&quot;&gt;{{food.name}}&lt;/h1&gt;
          &lt;div class=&quot;detail&quot;&gt;
            &lt;span class=&quot;sell-count&quot;&gt;月售{{ food.sellCount }}份&lt;/span&gt;
            &lt;span class=&quot;rating&quot;&gt;好评率{{food.rating}}%&lt;/span&gt;
          &lt;/div&gt;
          &lt;div class=&quot;price&quot;&gt;
            &lt;span class=&quot;now&quot;&gt;￥{{food.price}}&lt;/span&gt;
            &lt;span class=&quot;old&quot; v-show=&quot;food.oldPrice&quot;&gt;￥{{food.oldPrice}}&lt;/span&gt;
          &lt;/div&gt;
          &lt;!--加入购物车组件--&gt;
          &lt;div class=&quot;cartcontrol-wrapper&quot;&gt;
            &lt;cartcontrol :food=&quot;food&quot;&gt;&lt;/cartcontrol&gt;
          &lt;/div&gt;
          &lt;transition name=&quot;fade&quot;&gt;
            &lt;div class=&quot;buy&quot; v-show=&quot;!food.count || food.count === 0&quot; @click.stop.prevent=&quot;addFirst&quot;&gt;加入购物车
            &lt;/div&gt;
          &lt;/transition&gt;
        &lt;/div&gt;
        &lt;!--分割线组件--&gt;
        &lt;split v-show=&quot;food.info&quot;&gt;&lt;/split&gt;
        &lt;div class=&quot;info&quot; v-show=&quot;food.info&quot;&gt;
          &lt;h1 class=&quot;title&quot;&gt;商品信息&lt;/h1&gt;
          &lt;p class=&quot;text&quot;&gt;{{food.info}}&lt;/p&gt;
        &lt;/div&gt;
        &lt;split&gt;&lt;/split&gt;
        &lt;div class=&quot;rating&quot;&gt;
          &lt;h1 class=&quot;title&quot;&gt;商品评价&lt;/h1&gt;
          &lt;ratingselect @select=&quot;selectRating&quot; @toggle=&quot;toggleContent&quot; :select-type=&quot;selectType&quot; :only-content=&quot;onlyContent&quot; :desc=&quot;desc&quot;
                        :ratings=&quot;food.ratings&quot;&gt;&lt;/ratingselect&gt;
          &lt;div class=&quot;rating-wrapper&quot;&gt;
            &lt;ul v-show=&quot;food.ratings &amp;&amp; food.ratings.length&quot;&gt;
                &lt;li v-show=&quot;needShow(rating.rateType, rating.text)&quot; v-for=&quot;rating in food.ratings&quot; class=&quot;rating-item border-1px&quot;&gt;
                  &lt;div class=&quot;user&quot;&gt;
                    &lt;span class=&quot;name&quot;&gt;{{rating.username}}&lt;/span&gt;
                    &lt;img class=&quot;avatar&quot; width=&quot;12&quot; height=&quot;12&quot; :src=&quot;rating.avatar&quot;&gt;
                  &lt;/div&gt;
                  &lt;div class=&quot;time&quot;&gt;{{rating.rateTime | formatDate}}&lt;/div&gt;
                  &lt;p class=&quot;text&quot;&gt;
                    &lt;span :class=&quot;{'icon-thumb_up':rating.rateType === 0,'icon-thumb_down':rating.rateType === 1}&quot;&gt;&lt;/span&gt;{{rating.text}}
                  &lt;/p&gt;
                &lt;/li&gt;
              &lt;/ul&gt;
              &lt;div class=&quot;no-rating&quot; v-show=&quot;!food.ratings || !food.ratings.length&quot;&gt;暂无评价&lt;/div&gt;
          &lt;/div&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/transition&gt;
&lt;/template&gt;
&lt;script type=&quot;text/ecmascript-6&quot;&gt;
  import BScroll from 'better-scroll';
  import Vue from 'vue';
  import {formatDate} from '../../common/js/date'
  import cartcontrol from '../../components/cartcontrol/cartcontrol'
  import ratingselect from '../../components/ratingselect/ratingselect'
  import split from '../../components/split/split'

  // const POSITIVE = 0;
  // const NEGATIVE = 1;
  const ALL = 2;

  export default {
    props: {
      food: {
        type: Object
      }
    },
    data() {
      return {
        showFlag: false,
        selectType: ALL,
        onlyContent: true,
        desc:{
          all:'全部',
          positive:'推荐',
          negative:'吐槽'
        }
      }
    },
    components: {
      cartcontrol,
      ratingselect,
      split
    },
    methods: {
      show() {
        this.showFlag = true;
        this.selectType = ALL;
        this.onlyContent = true;
        this.$nextTick(() =&gt; {
          if (!this.scroll) {
            this.scroll = new BScroll(this.$refs.food, {
              click: true
            });
          } else {
            this.scroll.refresh();
          }
        });
      },
      hide() {
        this.showFlag = false;
      },
      addFirst(event) {
        if (!event._constructed) {
          return;
        }
        this.$emit('cart.add', event.target);
        Vue.set(this.food, 'count', 1);
      },
      needShow(type, text) {
        if (this.onlyContent &amp;&amp; !text) {
          return false;
        }
        if (this.selectType === ALL) {
          return true;
        } else {
          return type === this.selectType;
        }
      },
      selectRating(type) {
        this.selectType = type;
        this.$nextTick(() =&gt; {
          this.scroll.refresh();
        });
      },
      toggleContent() {
        this.onlyContent = !this.onlyContent;
        this.$nextTick(() =&gt; {
          this.scroll.refresh();
        });
      }
    },
    created(){

    },
    filters: {
      formatDate(time) {
        let date = new Date(time);
        return formatDate(date, 'yyyy-MM-dd hh:mm');
      }
    }
  };
&lt;/script&gt;
&lt;style lang=&quot;stylus&quot; rel=&quot;stylesheet/stylus&quot; scoped&gt;
  @import &quot;../../common/stylus/mixin.styl&quot;
  .food
    position: fixed
    left: 0
    top: 0
    bottom: 48px
    z-index: 30
    width: 100%
    background: #fff
    &amp;.move-enter-active, &amp;.move-leave-active
      transition: all .2s linear
    &amp;.move-enter, &amp;.move-leave-active
      transform: translate3d(100%, 0, 0)
    .food-content
      .image-header
        position: relative
        width: 100%
        height: 0
        padding-top: 100%
        img
          position: absolute
          top: 0
          left: 0
          width: 100%
          height: 100%
        .back
          position: absolute
          top: 10px
          left: 0
          .icon-arrow_lift
            display: block
            padding: 10px
            font-size: 20px
            color: #fff
      .content
        padding: 18px
        position: relative
        .title
          line-height: 14px
          margin-bottom: 8px
          font-size: 14px
          font-weight: 700
          color: rgb(7, 17, 27)
        .detail
          margin-bottom: 18px
          line-height: 10px
          height: 10px
          font-size: 0
          .sell-count, .rating
            font-size: 10px
            color: rgb(147, 153, 159)
          .sell-count
            margin-right: 12px
        .price
          font-weight: 700
          line-height: 24px
          .now
            margin-right: 8px
            font-size: 14px
            color: rgb(240, 20, 20)
          .old
            text-decoration: line-through
            font-size: 10px
            color: rgb(147, 153, 159)
        .cartcontrol-wrapper
          position: absolute
          right: 12px
          bottom: 12px
        .buy
          position: absolute
          right: 18px
          bottom: 18px
          z-index: 10
          height: 24px
          line-height: 24px
          padding: 0 12px
          box-sizing: border-box
          border-radius: 12px
          font-size: 10px
          color: #fff
          background: rgb(0, 160, 220)
          &amp;.fade-enter-active, &amp;.fade-leave-active
            transition: opacity .5s
          &amp;.fade-enter, &amp;.fade-leave-active
            opacity: 0
      .info
        padding: 18px
        .title
          line-height: 14px
          margin-bottom: 6px
          font-size: 14px
          color: rgb(7, 17, 27)
        .text
          line-height: 24px
          padding: 0 8px
          font-size: 12px
          color: rgb(77, 85, 93)
      .rating
        padding-top: 18px
        .title
          line-height: 14px
          margin-left: 18px
          font-size: 14px
          color: rgb(7, 17, 27)
        .rating-wrapper
          padding: 0 18px
          .rating-item
            position: relative
            padding: 16px 0
            border-1px(rgba(7, 17, 27, .1))
            .user
              position: absolute
              right: 0
              top: 16px
              line-height: 12px
              font-size: 0
              .name
                display: inline-block
                vertical-align: top
                margin-right: 6px
                font-size: 10px
                color: rgb(147, 153, 159)
              .avatar
                border-radius: 50%
            .time
              margin-bottom: 6px
              line-height: 12px
              font-size: 10px
              color: rgb(147, 153, 159)
            .text
              line-height: 16px
              font-size: 12px
              color: rgb(7, 17, 27)
              .icon-thumb_up, .icon-thumb_down
                margin-right: 4px
                line-height: 16px
                font-size: 12px
              .icon-thumb_up
                color: rgb(0, 160, 220)
              .icon-thumb_down
                color: rgb(147, 153, 159)
          .no-rating
            padding: 16px 0
            font-size: 12px
            color: rgb(147, 153, 159)
&lt;/style&gt;
</code></pre></div><h2 id="split组件实现"><a href="#split组件实现" class="header-anchor">#</a> split组件实现</h2> <p>src/components/split.vue</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;template&gt;
  &lt;!--一条线--&gt;
  &lt;div class=&quot;split&quot;&gt;
&lt;/div&gt;
&lt;/template&gt;
&lt;script&gt;
  export default {
    name: &quot;split&quot;
  }
&lt;/script&gt;
&lt;style lang=&quot;stylus&quot; rel=&quot;stylesheet/stylus&quot;&gt;
  .split
    width: 100%
    height: 16px
    border-top: 1px solid rgba(7, 17, 27, 0.1)
    border-bottom: 1px solid rgba(7, 17, 27, 0.1)
    background: #f3f5f7
&lt;/style&gt;
</code></pre></div><p>src/component/food.vue</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;!--分割线组件--&gt;
        &lt;split v-show=&quot;food.info&quot;&gt;&lt;/split&gt;
        &lt;div class=&quot;info&quot; v-show=&quot;food.info&quot;&gt;
          &lt;h1 class=&quot;title&quot;&gt;商品信息&lt;/h1&gt;
          &lt;p class=&quot;text&quot;&gt;{{food.info}}&lt;/p&gt;
        &lt;/div&gt;
        &lt;split&gt;&lt;/split&gt;
</code></pre></div><h2 id="ratingselect组件"><a href="#ratingselect组件" class="header-anchor">#</a> ratingselect组件</h2> <p>src/components/ratingselect.vue</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;template&gt;
  &lt;!--评论的全部，满意，不满意 部分--&gt;
  &lt;div class=&quot;ratingselect&quot;&gt;
    &lt;div class=&quot;rating-type border-1px&quot;&gt;
      &lt;span @click=&quot;select(2, $event)&quot; class=&quot;block positive&quot; :class=&quot;{'active': this.selectType2 === 2}&quot;&gt;
        {{ desc.all }}
        &lt;span class=&quot;count&quot;&gt;{{ ratings.length }}
        &lt;/span&gt;
      &lt;/span&gt;
      &lt;span @click=&quot;select(0, $event)&quot; class=&quot;block positive&quot; :class=&quot;{'active': this.selectType2 === 0}&quot;&gt;
        {{ desc.positive }}
        &lt;span class=&quot;count&quot;&gt;{{ positives.length }}&lt;/span&gt;
      &lt;/span&gt;
      &lt;span @click=&quot;select(1, $event)&quot; class=&quot;block negative&quot; :class=&quot;{'active': this.selectType2 === 1}&quot;&gt;
        {{ desc.negative }}
        &lt;span class=&quot;count&quot;&gt;{{ negatives.length }}&lt;/span&gt;
      &lt;/span&gt;
    &lt;/div&gt;
    &lt;!-- 勾选图标 --&gt;
    &lt;div @click=&quot;toggleContent&quot; class=&quot;switch&quot; :class=&quot;{'on': this.onlyContent2}&quot;&gt;
      &lt;i class=&quot;icon-check_circle&quot;&gt;&lt;/i&gt;
      &lt;span class=&quot;text&quot;&gt;只看有内容的评价&lt;/span&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;
&lt;script&gt;
  const POSITIVE = 0; // 正向
  const NEGATIVE = 1; // 负面
  const ALL = 2; // 全部
  export default{
    props: {
      ratings: {
        type: Array, // 注意：数组的对象都要返回一个函数
        default() {
          return [];
        }
      },
      selectType: { // 选择类型
        type: Number,
        default: ALL
      },
      onlyContent: { // 只显示内容
        type: Boolean,
        default: false
      },
      desc: {
        type: Object,
        default() {
          return {
            all: '全部',
            positive: '满意',
            negative: '不满意'
          };
        }
      }
    },
    data() {
      return {
        selectType2: this.selectType,
        onlyContent2: this.onlyContent
      }
    },
    methods: {
      select(type, event) {
        if (!event._constructed) {
          return;
        }
        this.selectType2 = type;
        this.$emit('select', type);
      },
      toggleContent(event) {
        if (!event._constructed) {
          return;
        }
        this.onlyContent2 = !this.onlyContent2;
        this.$emit('toggle', this.onlyContent2);
      }
    },
    computed: {
      positives() {
        return this.ratings.filter((rating) =&gt; {
          // console.log(rating.rateType === POSITIVE); // 返回true或false
          return rating.rateType === POSITIVE
        });
      },
      negatives() {
        return this.ratings.filter((rating) =&gt; {
          return rating.rateType === NEGATIVE
        });
      }
    }
  }
&lt;/script&gt;
&lt;style rel=&quot;stylesheet/stylus&quot; lang=&quot;stylus&quot; &gt;
  @import &quot;../../common/stylus/mixin.styl&quot;;
  .ratingselect
    .rating-type
      padding: 18px 0
      margin: 0 18px
      border-1px(rgba(7, 17, 27, 0.1))
      font-size: 0 // 内联元素受空白区域的影响
      .block
        display: inline-block
        padding: 8px 12px
        margin-right: 8px
        border-radius: 1px
        line-height: 16px
        color: rgb(77, 85, 93)
        font-size: 12px
        &amp;.active
          color: #fff
        &amp;.positive
          background: rgba(0, 160, 220, .2)
          &amp;.active
            background: rgb(0, 160, 220)
        &amp;.negative
          background: rgba(77, 85, 93, .2)
          &amp;.active
            background: rgb(77, 85, 93)
        .count
          font-size: 8px
          margin-left: 2px
    .switch
      padding: 12px 18px
      line-height: 24px
      border-bottom: 1px solid rgba(7, 17, 27, .1)
      color: rgb(147, 153, 159)
      font-size: 0
      &amp;.on
        .icon-check_circle
          color: #00c850
      .icon-check_circle
        display: inline-block
        vertical-align: top
        margin-right: 4px
        font-size: 24px
      .text
        display: inline-block
        vertical-align: top
        font-size: 12px
&lt;/style&gt;
</code></pre></div><h2 id="评价列表"><a href="#评价列表" class="header-anchor">#</a> 评价列表</h2> <p>src/components/food.vue</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;div class=&quot;rating&quot;&gt;
          &lt;h1 class=&quot;title&quot;&gt;商品评价&lt;/h1&gt;
          &lt;ratingselect @select=&quot;selectRating&quot; @toggle=&quot;toggleContent&quot; :select-type=&quot;selectType&quot; :only-content=&quot;onlyContent&quot; :desc=&quot;desc&quot;
                        :ratings=&quot;food.ratings&quot;&gt;&lt;/ratingselect&gt;
          &lt;div class=&quot;rating-wrapper&quot;&gt;
            &lt;ul v-show=&quot;food.ratings &amp;&amp; food.ratings.length&quot;&gt;
                &lt;li v-show=&quot;needShow(rating.rateType, rating.text)&quot; v-for=&quot;rating in food.ratings&quot; class=&quot;rating-item border-1px&quot;&gt;
                  &lt;div class=&quot;user&quot;&gt;
                    &lt;span class=&quot;name&quot;&gt;{{rating.username}}&lt;/span&gt;
                    &lt;img class=&quot;avatar&quot; width=&quot;12&quot; height=&quot;12&quot; :src=&quot;rating.avatar&quot;&gt;
                  &lt;/div&gt;
                  &lt;div class=&quot;time&quot;&gt;{{rating.rateTime | formatDate}}&lt;/div&gt;
                  &lt;p class=&quot;text&quot;&gt;
                    &lt;span :class=&quot;{'icon-thumb_up':rating.rateType === 0,'icon-thumb_down':rating.rateType === 1}&quot;&gt;&lt;/span&gt;{{rating.text}}
                  &lt;/p&gt;
                &lt;/li&gt;
              &lt;/ul&gt;
              &lt;div class=&quot;no-rating&quot; v-show=&quot;!food.ratings || !food.ratings.length&quot;&gt;暂无评价&lt;/div&gt;
          &lt;/div&gt;
        &lt;/div&gt;
</code></pre></div><p>common/js/data.js</p> <div class="language- extra-class"><pre class="language-text"><code>export  function formatDate(date,fmt){
  if(/(y+)/.test(fmt)){
    fmt = fmt.replace(RegExp.$1,(date.getFullYear()+'').substr(4-RegExp.$1.length));
  }
  let o = {
    'M+':date.getMonth()+1,
    'd+':date.getDate(),
    'h+':date.getHours(),
    'm+':date.getMinutes(),
    's+':date.getSeconds()
  };
  for(let k in o){
    if(new RegExp(`(${k})`).test(fmt)){
      let str = o[k]+'';
      fmt = fmt.replace(RegExp.$1,(RegExp.$1.length===1)?str:padLeftZero(str));
    }
  }
  return fmt;
};
function padLeftZero(str) {
  return ('00'+str).substr(str.length);
}
</code></pre></div><h1 id="ratings评价列表页实现"><a href="#ratings评价列表页实现" class="header-anchor">#</a> ratings评价列表页实现</h1> <h2 id="ratings组件开发"><a href="#ratings组件开发" class="header-anchor">#</a> ratings组件开发</h2> <p>src/components/ratings.vue</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;template&gt;
  &lt;!--评论部分--&gt;
  &lt;div class=&quot;ratings&quot; ref=&quot;ratings&quot;&gt;
    &lt;!-- 上方内容 --&gt;
    &lt;div class=&quot;ratings-content&quot;&gt;
      &lt;div class=&quot;overview&quot;&gt;
        &lt;div class=&quot;overview-left&quot;&gt;
          &lt;h1 class=&quot;score&quot;&gt;{{seller.score}}&lt;/h1&gt;
          &lt;div class=&quot;title&quot;&gt;综合评分&lt;/div&gt;
          &lt;div class=&quot;rank&quot;&gt;高于周边商家{{seller.rankRate}}%&lt;/div&gt;
        &lt;/div&gt;
        &lt;div class=&quot;overview-right&quot;&gt;
          &lt;div class=&quot;score-wrapper&quot;&gt;
            &lt;span class=&quot;title&quot;&gt;服务态度&lt;/span&gt;
            &lt;star :size=&quot;36&quot; :score=&quot;seller.serviceScore&quot;&gt;&lt;/star&gt;
            &lt;span class=&quot;score&quot;&gt;{{seller.serviceScore}}&lt;/span&gt;
          &lt;/div&gt;
          &lt;div class=&quot;score-wrapper&quot;&gt;
            &lt;span class=&quot;title&quot;&gt;商品评分&lt;/span&gt;
            &lt;star :size=&quot;36&quot; :score=&quot;seller.foodScore&quot;&gt;&lt;/star&gt;
            &lt;span class=&quot;score&quot;&gt;{{seller.foodScore}}&lt;/span&gt;
          &lt;/div&gt;
          &lt;div class=&quot;delivery-wrapper&quot;&gt;
            &lt;span class=&quot;title&quot;&gt;送达时间&lt;/span&gt;
            &lt;span class=&quot;delivery&quot;&gt;{{seller.deliveryTime}}分钟&lt;/span&gt;
          &lt;/div&gt;
        &lt;/div&gt;
      &lt;/div&gt;
      &lt;split&gt;&lt;/split&gt;
      &lt;ratingselect  @select=&quot;selectRating&quot; @toggle=&quot;toggleContent&quot; :select-type=&quot;selectType&quot; :only-content=&quot;onlyContent&quot;
                     :ratings=&quot;ratings&quot;&gt;&lt;/ratingselect&gt;
      &lt;div class=&quot;rating-wrapper&quot;&gt;
        &lt;ul&gt;
          &lt;li v-for=&quot;rating in ratings&quot; v-show=&quot;needShow(rating.rateType, rating.text)&quot; class=&quot;rating-item border-1px&quot;&gt;
            &lt;div class=&quot;avatar&quot;&gt;
              &lt;img width=&quot;28&quot; height=&quot;28&quot; :src=&quot;rating.avatar&quot; alt=&quot;头像&quot;&gt;
            &lt;/div&gt;
            &lt;div class=&quot;content&quot;&gt;
              &lt;h1 class=&quot;name&quot;&gt;{{rating.username}}&lt;/h1&gt;
              &lt;div class=&quot;star-wrapper&quot;&gt;
                &lt;star :size=&quot;24&quot; :score=&quot;rating.score&quot;&gt;&lt;/star&gt;
                &lt;span class=&quot;delivery&quot; v-show=&quot;rating.deliveryTime&quot;&gt;{{rating.deliveryTime}}&lt;/span&gt;
              &lt;/div&gt;
              &lt;p class=&quot;text&quot;&gt;{{rating.text}}&lt;/p&gt;
              &lt;div class=&quot;recommend&quot; v-show=&quot;rating.recommend &amp;&amp; rating.recommend.length&quot;&gt;
                &lt;span class=&quot;icon-thumb_up&quot;&gt;&lt;/span&gt;
                &lt;span class=&quot;item&quot; v-for=&quot;item in rating.recommend&quot;&gt;
                  {{item}}
                &lt;/span&gt;
              &lt;/div&gt;
              &lt;div class=&quot;time&quot;&gt;
                {{ rating.rateTime | formatDate }}
              &lt;/div&gt;
            &lt;/div&gt;
          &lt;/li&gt;
        &lt;/ul&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;
&lt;script&gt;
  import star from '../../components/star/star'
  import ratingselect from '../../components/ratingselect/ratingselect';
  import split from '../../components/split/split';
  import {formatDate} from '../../common/js/date';
  import BScroll from 'better-scroll';
  const ALL = 2;
  const ERR_OK = 0;
  export default {
    name: &quot;Ratings&quot;,
    props: {
      seller: {
        type: Object
      }
    },
    data() {
      return {
        ratings: [],
        selectType: ALL,
        onlyContent: true,
      }
    },
    methods: {
      needShow(type, text) {
        if (this.onlyContent &amp;&amp; !text) {
          return false;
        }
        if (this.selectType === ALL) {
          return true;
        } else {
          return type === this.selectType;
        }
      },
      selectRating(type) {
        this.selectType = type;
        this.$nextTick(() =&gt; {
          this.scroll.refresh();
        });
      },
      toggleContent() {
        this.onlyContent = !this.onlyContent;
        this.$nextTick(() =&gt; {
          this.scroll.refresh();
        });
      }
    },
    mounted() {
      this.$axios.get('/api/ratings').then((res) =&gt; {
        // this.$ajax.get('/ratings').then((res) =&gt; {
        if (res.data.errno === ERR_OK) {
          this.ratings = res.data.data;
          this.$nextTick(() =&gt; {
            this.scroll = new BScroll(this.$refs.ratings, {
              'click': true
            });
          });
        }
      })
    },
    components: {
      star,
      ratingselect,
      split
    },
    filters: {
      formatDate(time) {
        let date = new Date(time);
        return formatDate(date, 'yyyy-MM-dd hh:mm');
      }
    }
  }
&lt;/script&gt;
&lt;style lang=&quot;stylus&quot; rel=&quot;stylesheet/stylus&quot;&gt;
  @import &quot;../../common/stylus/mixin.styl&quot;
  .ratings
    position: absolute
    top: 174px
    bottom: 0
    width: 100%
    left: 0
    overflow: hidden
    .overview
      display: flex
      padding: 18px 0
      .overview-left
        /* flex: flex-grow flex-shrink flex-basis */
        flex: 0 0 137px
        padding: 6px 0
        width 137px
        border-right: 1px solid rgba(7, 17, 27, 0.1)
        text-align: center
        //利用iphone5的尺寸去写
        @media only screen and (max-width: 320px)
          flex: 0 0 120px
          width: 120px
        .score
          margin-bottom: 6px
          line-height: 28px
          font-size: 24px
          color: rgb(255, 153, 0)
        .title
          margin-bottom: 8px
          line-height: 12px
          font-size: 12px
          color: rgb(7, 17, 27)
        .rank
          line-height: 10px
          font-size: 10px
          color: rgb(147, 153, 159)
      .overview-right
        flex: 1
        padding: 6px 0 6px 24px
        //利用iphone5的尺寸去写
        @media only screen and (max-width: 320px)
          padding-left: 6px
        .score-wrapper
          margin-bottom: 8px
          font-size: 0
          .title
            display: inline-block
            line-height: 18px
            vertical-align: top
            font-size: 12px
            color: rgb(7, 17, 27)
          .star
            display: inline-block
            margin: 0 12px
            vertical-align: top
          .score
            display: inline-block
            line-height: 18px
            vertical-align: top
            font-size: 10px
            color: rgb(255, 153, 0)
        .delivery-wrapper
          font-size: 0
          .title
            line-height: 18px
            font-size: 12px
            color: rgb(7, 17, 27)
          .delivery
            font-size: 12px
            color: rgb(147, 153, 159)
            margin-left: 12px
    .rating-wrapper
      padding: 0 18px
      .rating-item
        display: flex
        padding: 18px 0
        border-1px(rgba(7, 17, 27, 0.1))
        .avatar
          flex: 0 0 28px
          width: 28px
          margin-right: 12px
          img
            border-radius: 50%
        .content
          position: relative
          flex: 1
          .name
            margin-bottom: 4px
            line-height: 12px
            font-size: 10px
            color: rgb(7, 17, 27)
          .star-wrapper
            margin-bottom: 6px
            font-size: 0
            .star
              display: inline-block
              vertical-align: top
              margin-right: 6px
            .delivery
              display: inline-block
              vertical-align: top
              font-size: 10px
              line-height: 12px
              color: rgb(147, 153, 159)
          .text
            margin-bottom: 8px
            line-height: 18px
            color: rgb(7, 17, 27)
            font-size: 12px
          .recommend
            line-height: 16px
            font-size: 0
            .icon-thumb_up, .item
              display: inline-block
              margin: 0 8px 4px 0
              font-size: 9px
            .icon-thumb_up
              color: rgb(0, 160, 220)
            .item
              padding: 0 6px
              border: 1px solid rgba(7, 17, 27, 0.1)
              border-radius: 1px
              color: rgb(147, 153, 159)
              background: #fff
          .time
            position: absolute
            top: 0
            right: 0
            line-height: 12px
            font-size: 10px
            color: rgb(147, 153, 159)
&lt;/style&gt;
</code></pre></div><h1 id="seller商品详情页实现"><a href="#seller商品详情页实现" class="header-anchor">#</a> seller商品详情页实现</h1> <h2 id="seller组件开发"><a href="#seller组件开发" class="header-anchor">#</a> seller组件开发</h2> <p>可以通过keep-alive保存状态内容</p> <p>src/app.vue</p> <div class="language- extra-class"><pre class="language-text"><code>   &lt;!--内容--&gt;
   &lt;!-- 保存状态 --&gt;
    &lt;keep-alive&gt;  
      &lt;router-view :seller=&quot;seller&quot;&gt;&lt;/router-view&gt;
    &lt;/keep-alive&gt;
</code></pre></div><p>src/components/seller.vue</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;template&gt;
  &lt;!--商家部分--&gt;
  &lt;div class=&quot;seller&quot; ref=&quot;seller&quot;&gt;
    &lt;div class=&quot;seller-content&quot;&gt;
      &lt;div class=&quot;overview&quot;&gt;
        &lt;h1 class=&quot;title&quot;&gt;{{seller.name}}&lt;/h1&gt;
        &lt;div class=&quot;desc border-1px&quot;&gt;
          &lt;star :size=&quot;36&quot; :score=&quot;seller.score&quot;&gt;&lt;/star&gt;
          &lt;span class=&quot;text&quot;&gt;({{seller.ratingCount}})&lt;/span&gt;
          &lt;span class=&quot;text&quot;&gt;月售{{seller.sellCount}}单&lt;/span&gt;
        &lt;/div&gt;
        &lt;ul class=&quot;remark&quot;&gt;
          &lt;li class=&quot;block&quot;&gt;
            &lt;h2&gt;起送价&lt;/h2&gt;
            &lt;div class=&quot;content&quot;&gt;
              &lt;span class=&quot;stress&quot;&gt;{{seller.minPrice}}&lt;/span&gt;元
            &lt;/div&gt;
          &lt;/li&gt;
          &lt;li class=&quot;block&quot;&gt;
            &lt;h2&gt;商家配送&lt;/h2&gt;
            &lt;div class=&quot;content&quot;&gt;
              &lt;span class=&quot;stress&quot;&gt;{{seller.deliveryPrice}}&lt;/span&gt;元
            &lt;/div&gt;
          &lt;/li&gt;
          &lt;li class=&quot;block&quot;&gt;
            &lt;h2&gt;平均配送时间&lt;/h2&gt;
            &lt;div class=&quot;content&quot;&gt;
              &lt;span class=&quot;stress&quot;&gt;{{seller.deliveryTime}}&lt;/span&gt;分钟
            &lt;/div&gt;
          &lt;/li&gt;
        &lt;/ul&gt;
        &lt;div class=&quot;favorite&quot; @click=&quot;toggleFavorite&quot;&gt;
          &lt;span class=&quot;icon-favorite&quot; :class=&quot;{'active': favorite}&quot;&gt;&lt;/span&gt;
          &lt;span class=&quot;text&quot;&gt;{{ favoriteText }}&lt;/span&gt;
        &lt;/div&gt;
      &lt;/div&gt;
      &lt;split&gt;&lt;/split&gt;
      &lt;div class=&quot;bulletin&quot;&gt;
        &lt;h1 class=&quot;title&quot;&gt;公共与活动&lt;/h1&gt;
        &lt;div class=&quot;content-wrapper border-1px&quot;&gt;
          &lt;p class=&quot;content&quot;&gt;{{seller.bulletin}}&lt;/p&gt;
        &lt;/div&gt;
        &lt;ul v-if=&quot;seller.supports&quot; class=&quot;supports&quot;&gt;
          &lt;li class=&quot;support-item border-1px&quot; v-for=&quot;(item,index) in seller.supports&quot;&gt;
            &lt;span class=&quot;icon&quot; :class=&quot;classMap[seller.supports[index].type]&quot;&gt;&lt;/span&gt;
            &lt;span class=&quot;text&quot;&gt;{{seller.supports[index].description}}&lt;/span&gt;
          &lt;/li&gt;
        &lt;/ul&gt;
      &lt;/div&gt;
      &lt;split&gt;&lt;/split&gt;
      &lt;div class=&quot;pics&quot;&gt;
        &lt;h1 class=&quot;title&quot;&gt;商家实景&lt;/h1&gt;
        &lt;div class=&quot;pic-wrapper&quot; ref=&quot;picWrapper&quot;&gt;
          &lt;ul class=&quot;pic-list&quot; ref=&quot;picList&quot;&gt;
            &lt;li class=&quot;pic-item&quot; v-for=&quot;pic in seller.pics&quot;&gt;
              &lt;img :src=&quot;pic&quot; width=&quot;120&quot; height=&quot;90&quot; alt=&quot;商家&quot;&gt;
            &lt;/li&gt;
          &lt;/ul&gt;
        &lt;/div&gt;
      &lt;/div&gt;
      &lt;split&gt;&lt;/split&gt;
      &lt;div class=&quot;info&quot;&gt;
        &lt;h1 class=&quot;title border-1px&quot;&gt;商家信息&lt;/h1&gt;
        &lt;ul&gt;
          &lt;!--&lt;li class=&quot;info-item border-1px&quot; v-for=&quot;info in seller.infos&quot;&gt;{{ info }}&lt;/li&gt;--&gt;
          &lt;li class=&quot;info-item border-1px&quot;&gt;该商家支持发票,请下单写好发票抬头&lt;/li&gt;
          &lt;li class=&quot;info-item border-1px&quot;&gt;品类:其他菜系,包子粥店&lt;/li&gt;
          &lt;li class=&quot;info-item border-1px&quot;&gt;北京市昌平区回龙观西大街龙观置业大厦底商B座102单元1340&lt;/li&gt;
          &lt;li class=&quot;info-item border-1px&quot;&gt;营业时间:10:00-20:30&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
  import star from '../../components/star/star';
  import split from '../../components/split/split';
  import BScroll from 'better-scroll';
  import { saveToLocal, loadFromLocal } from '../../common/js/store';
  export default {
    name: &quot;Seller&quot;,
    props: {
      seller: {
        type: Object
      }
    },
    components: {
      star,
      split
    },
    data() {
      return {
        favorite: (() =&gt; {
          return loadFromLocal(this.seller.id, 'favorite', false);
        })()
      }
    },
    computed: {
      favoriteText() {
        return this.favorite ? '已收藏' : '收藏';
      }
    },
    created() {
      this.classMap = ['decrease', 'discount', 'special', 'invoice', 'guarantee'];
    },
    methods: {
      toggleFavorite(event) {
        if (!event._constructed) {
          return;
        }
        this.favorite = !this.favorite;
        saveToLocal(this.seller.id, 'favorite', this.favorite);
      }
    },
    mounted() {
      // 页面整体滚动
      this.scroll = new BScroll(this.$refs.seller, {
        click: true
      });
      // 商家图片横向滚动
      if (this.seller.pics) {
        let picWidth = 120;
        let margin = 6;
        let width = (picWidth + margin) * this.seller.pics.length - margin;
        this.$refs.picList.style.width = width + 'px';
        this.$nextTick(() =&gt; {  //DOM已经重绘了
          this.picScroll = new BScroll(this.$refs.picWrapper, {
            scrollX: true, //横向滚动
            eventPassthrough: 'vertical' //忽略垂直方向的滚动
          });
        });
      }
    },
  }
&lt;/script&gt;
&lt;style lang=&quot;stylus&quot; rel=&quot;stylesheet/stylus&quot;&gt;
  @import &quot;../../common/stylus/mixin.styl&quot;
  .seller
    position: absolute
    top: 174px
    bottom: 0
    width: 100%
    left: 0
    overflow: hidden
    .overview
      padding: 18px
      .title
        margin-bottom: 8px
        line-height: 14px
        color: rgb(7, 17, 27)
        font-size: 14px
      .desc
        padding-bottom: 18px
        border-1px(rgba(7, 17, 27, 0.1))
        font-size: 0
        .star
          display: inline-block
          margin-right: 8px
          vertical-align: top
        .text
          line-height: 18px
          margin-right: 12px
          display: inline-block
          vertical-align: top
          font-size: 10px
          color rgb(77, 85, 93)
      .remark
        display: flex
        padding-top: 18px
        .block
          flex: 1
          text-align: center
          border-right: 1px solid rgba(7, 17, 27, 0.1)
          &amp;:last-child
            border: none
          h2
            margin-bottom: 4px
            line-height: 10px
            font-size: 10px
            color: rgb(147, 153, 159)
          .content
            line-height: 24px
            font-size: 10px
            color: rgb(7, 17, 27)
            .stress
              font-size: 24px
      .favorite
        position: absolute
        right: 11px
        top: 18px
        width: 50px
        text-align: center
        .icon-favorite
          display: block
          margin-bottom: 4px
          line-height: 24px
          font-size: 24px
          color: #d4d6d9
          &amp;.active
            color: rgb(240, 20, 20)
        .text
          line-height: 10px
          font-size: 10px
          color: rgb(77, 85, 93)
    .bulletin
      padding: 18px 18px 0 18px
      .title
        margin-bottom: 8px
        line-height: 14px
        color: rgb(7, 17, 27)
        font-size: 14px
      .content-wrapper
        padding: 0 12px 16px 12px
        border-1px(rgba(7, 17, 27, 0.1))
        .content
          font-size: 12px
          line-height: 24px
          color: rgb(240, 20, 20)
      .supports
        .support-item
          padding: 16px 12px
          border-1px(rgba(7, 17, 27, 0.1))
          font-size: 0
          &amp;:last-child
            border-none()
        .icon
          display: inline-block
          vertical-align: top
          width: 16px
          height: 16px
          margin-right: 6px
          background-size: 16px 16px
          background-repeat: no-repeat
          &amp;.decrease
            bg-image('decrease_4')
          &amp;.discount
            bg-image('discount_4')
          &amp;.guarantee
            bg-image('guarantee_4')
          &amp;.invoice
            bg-image('invoice_4')
          &amp;.special
            bg-image('special_4')
        .text
          line-height: 16px
          font-size: 12px
          color: rgb(7, 17, 27)
    .pics
      padding :18px
      .title
        margin-bottom: 12px
        line-height: 14px
        color: rgb(7, 17, 27)
        font-size: 14px
      .pic-wrapper
        width :100%
        overflow :hidden
        white-space :nowrap  //当图片宽度超过视口宽度不会被换行
        .pic-list
          font-size :0
          .pic-item
            display :inline-block
            margin-right :6px
            width: 120px
            height: 90px
            &amp;:last-child
              margin: 0
    .info
      padding: 18px 18px 0 18px
      color: rgb(7, 17, 27)
      .title
        padding-bottom: 8px
        line-height: 14px
        font-size: 14px
        border-1px(rgba(7, 17, 27, 0.1))
      .info-item
        padding: 16px 12px
        line-height: 16px
        border-1px(rgba(7, 17, 27, 0.1))
        font-size: 12px
        &amp;:last-child
          border-none()
&lt;/style&gt;
</code></pre></div><h1 id="项目编译打包"><a href="#项目编译打包" class="header-anchor">#</a> 项目编译打包</h1> <h2 id="项目打包"><a href="#项目打包" class="header-anchor">#</a> 项目打包</h2> <p>npm run  bulid</p> <p>package.json</p> <div class="language- extra-class"><pre class="language-text"><code>  &quot;scripts&quot;: {
    &quot;build&quot;: &quot;node build/build.js&quot;,
    &quot;dev&quot;: &quot;webpack-dev-server --inline --progress --config build/webpack.dev.conf.js&quot;,
    &quot;start&quot;: &quot;npm run dev&quot;
  },
</code></pre></div><h1 id="课程总结"><a href="#课程总结" class="header-anchor">#</a> 课程总结</h1> <h2 id="参考资料"><a href="#参考资料" class="header-anchor">#</a> 参考资料</h2> <p>Vue.js官网（https://cn.vuejs.org/）</p> <p>Vue-cli（https://github.com/vuejs/vue-cli)</p> <p>Vue-resource(https://github.com/vuejs/vue-resource)    发送ajax请求的一个库</p> <p>Vue-router(https://github.com/vuejs/vue-router)</p> <p>better-scroll(https://github.com/ustbhuangyi/better-scroll)</p> <p>webpack官网(http://webpack.github.io/)</p> <p>Stylus中文文档(http://www.zhangxinyu.com/jq/stylus/)</p> <p>es6入门学习(http:es6.ruanyifeng.com/)</p> <p>eslink规则(http://eslint.org/docs/rules/)</p> <p>贝塞尔曲线测试(http://cubic-bezier.com/)</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/page13/vue去哪儿项目总结.html" class="prev">
        vue去哪儿项目总结
      </a></span> <span class="next"><a href="/page13/react_antd后台管理系统总结.html">
        react_antd后台管理系统总结
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.f3f0b164.js" defer></script><script src="/assets/js/2.284f78c8.js" defer></script><script src="/assets/js/16.3f82f6aa.js" defer></script>
  </body>
</html>
